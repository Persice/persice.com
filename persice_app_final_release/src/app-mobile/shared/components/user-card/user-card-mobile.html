<div class="user-card" [ngClass]="{'is-new': isNewConnection && !isNewConnectionDisabled}">
  <div class="flag flag--small flag--top">
    <div class="flag__img" (click)="selectPerson($event)">
      <div class="avatar-place">
        <div class="avatar avatar--small cover-background" checkimage="{{_person.image}}"
             [suffix]="'.56x56_q100_crop.jpg'">
        </div>
        <svg role="img" *ngIf="!!showIcon" class="icon avatar-icon">
          <use xmlns:xlink="http://www.w3.org/1999/xlink"
               xlink:href="/assets/icons/icons.svg#icon-persice"></use>
        </svg>
      </div>
    </div>
    <div class="flag__body">
      <div class="user-card__name" (click)="selectPerson($event)"> {{_person.firstName}}</div>
      <div *ngIf="showDetails" class="user-card__user-details" (click)="selectPerson($event)"> {{_person.gender}} / Age
        {{_person.age}} /
        {{_person.distance}}
        {{_person.distanceUnit}}
      </div>
      <a *ngIf="showDetails" (click)="toggleInterestsVisible($event)"
         class="user-card__similarity js-user-card__similarity"
         [ngClass]="{'is-open': interestsVisible }">
        <span class="user-card__similarity__value">
          <svg role="img" class="icon icon--extratiny">
            <use xlink:href="/assets/icons/icons.svg#icon-mob-similar"></use>
          </svg> {{_person.score}}&deg;
        </span>
        <span class="user-card__similarity__label">Similar</span>
        <svg role="img" class="icon icon--extratiny icon-arrow"
             *ngIf="!!_person.topInterests && _person.topInterests.length > 0">
          <use xlink:href="/assets/icons/icons.svg#icon-down-small"></use>
        </svg>
        <prs-mobile-interests-card [person]="_person" *ngIf="interestsVisible"></prs-mobile-interests-card>
      </a>
      <a (click)="onOpenNewConversation.emit(_person)" class="user-card__send-message" *ngIf="showSendMessage">
        <svg role="img" class="icon ">
          <use xmlns:xlink="http://www.w3.org/1999/xlink"
               xlink:href="/assets/icons/icons.svg#icon-menu-messages"></use>
        </svg>
      </a>
    </div>
  </div>
</div>
