webpackJsonp([3],{

/***/ 781:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar router_1 = __webpack_require__(37);\r\n/**\r\n * Services\r\n */\r\nvar inbox_service_1 = __webpack_require__(151);\r\n/**\r\n * Components\r\n */\r\nvar messages_sidebar_component_1 = __webpack_require__(1145);\r\nvar messages_chat_component_1 = __webpack_require__(1143);\r\nvar messages_new_component_1 = __webpack_require__(1144);\r\nvar messages_sidebar_header_component_1 = __webpack_require__(1146);\r\nvar view = __webpack_require__(1169);\r\nvar MessagesContainer = (function () {\r\n    function MessagesContainer(inboxService, _router) {\r\n        this.inboxService = inboxService;\r\n        this._router = _router;\r\n        this.counter = 0;\r\n    }\r\n    MessagesContainer.prototype.ngOnInit = function () {\r\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n    };\r\n    MessagesContainer.prototype.navigateToConversation = function (id) {\r\n        this._router.navigate(['SingleConversation', { threadId: id }]);\r\n    };\r\n    MessagesContainer = __decorate([\r\n        core_1.Component({\r\n            selector: 'message',\r\n            template: view,\r\n            directives: [\r\n                messages_sidebar_component_1.MessagesSidebarComponent,\r\n                messages_sidebar_header_component_1.MessagesSidebarHeaderComponent,\r\n                router_1.ROUTER_DIRECTIVES\r\n            ],\r\n            providers: [\r\n                inbox_service_1.InboxService\r\n            ]\r\n        }),\r\n        router_1.RouteConfig([\r\n            {\r\n                path: '/:threadId',\r\n                component: messages_chat_component_1.MessagesChatComponent,\r\n                name: 'SingleConversation'\r\n            },\r\n            {\r\n                path: '/new/',\r\n                component: messages_new_component_1.MessagesNewComponent,\r\n                name: 'ConversationNew',\r\n                useAsDefault: true\r\n            },\r\n            {\r\n                path: '/new/:friendId',\r\n                component: messages_new_component_1.MessagesNewComponent,\r\n                name: 'ConversationNewSelected',\r\n            }\r\n        ]), \r\n        __metadata('design:paramtypes', [inbox_service_1.InboxService, router_1.Router])\r\n    ], MessagesContainer);\r\n    return MessagesContainer;\r\n}());\r\nexports.MessagesContainer = MessagesContainer;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/awesome-typescript-loader/dist.babel!./~/tslint-loader!./src/app/containers/messages/messages.container.ts\n ** module id = 781\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/containers/messages/messages.container.ts?./~/awesome-typescript-loader/dist.babel!./~/tslint-loader");

/***/ },

/***/ 1122:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar MessagesInputComponent = (function () {\r\n    function MessagesInputComponent() {\r\n        this.newMessage = new core_1.EventEmitter();\r\n        this.message = '';\r\n    }\r\n    MessagesInputComponent.prototype.sendMessage = function (event) {\r\n        if (this.message.length > 0 && !this.disabled) {\r\n            this.newMessage.next(this.message);\r\n            this.message = '';\r\n        }\r\n    };\r\n    __decorate([\r\n        core_1.Output(), \r\n        __metadata('design:type', core_1.EventEmitter)\r\n    ], MessagesInputComponent.prototype, \"newMessage\", void 0);\r\n    __decorate([\r\n        core_1.Input(), \r\n        __metadata('design:type', Object)\r\n    ], MessagesInputComponent.prototype, \"disabled\", void 0);\r\n    MessagesInputComponent = __decorate([\r\n        core_1.Component({\r\n            selector: '.chat__send-message',\r\n            template: \"\\n  <div class=\\\"tableize\\\">\\n    <div class=\\\"tableize__cell tableize__cell--fill\\\">\\n      <div class=\\\"tableize__content\\\">\\n        <textarea [(ngModel)]=\\\"message\\\" class=\\\"c-input c-input--large\\\" placeholder=\\\"Write a message\\\"></textarea>\\n      </div>\\n    </div>\\n    <div class=\\\"tableize__cell\\\">\\n      <div class=\\\"tableize__content chat__send-message__has-btn\\\">\\n        <a (click)=\\\"sendMessage($event)\\\" class=\\\"btn btn-1 btn-1--full btn-1--filled btn-1--blue \\\">Send</a>\\n      </div>\\n    </div>\\n  </div>\\n  \"\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], MessagesInputComponent);\r\n    return MessagesInputComponent;\r\n}());\r\nexports.MessagesInputComponent = MessagesInputComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages/messages_input.component.ts\n ** module id = 1122\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages/messages_input.component.ts?");

/***/ },

/***/ 1141:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar message_single_component_1 = __webpack_require__(1142);\r\nvar MessageListComponent = (function () {\r\n    function MessageListComponent() {\r\n    }\r\n    __decorate([\r\n        core_1.Input(), \r\n        __metadata('design:type', Object)\r\n    ], MessageListComponent.prototype, \"messages\", void 0);\r\n    MessageListComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'message-list',\r\n            template: \"\\n  <template ngFor #item [ngForOf]=\\\"messages\\\">\\n    <div class=\\\"chat__time\\\">\\n      <hr class=\\\"hr\\\">\\n      <span class=\\\"chat__time__value\\\">{{item.displayDate}}</span>\\n    </div>\\n    <message *ngFor=\\\"#m of item.data\\\" [message]=\\\"m\\\"></message>\\n  </template>\\n  \",\r\n            directives: [\r\n                message_single_component_1.MessageSingleComponent\r\n            ]\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], MessageListComponent);\r\n    return MessageListComponent;\r\n}());\r\nexports.MessageListComponent = MessageListComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/message_list/message_list.component.ts\n ** module id = 1141\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/message_list/message_list.component.ts?");

/***/ },

/***/ 1142:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar router_1 = __webpack_require__(37);\r\nvar checkimage_directive_1 = __webpack_require__(150);\r\nvar MessageSingleComponent = (function () {\r\n    function MessageSingleComponent(_router) {\r\n        this._router = _router;\r\n    }\r\n    MessageSingleComponent.prototype.openProfile = function (username) {\r\n        this._router.parent.parent.navigate(['./ProfileView', { username: username }]);\r\n    };\r\n    __decorate([\r\n        core_1.Input(), \r\n        __metadata('design:type', Object)\r\n    ], MessageSingleComponent.prototype, \"message\", void 0);\r\n    MessageSingleComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'message',\r\n            directives: [checkimage_directive_1.CheckImageDirective],\r\n            template: \"\\n  <div class=\\\"message is-open\\\">\\n    <div class=\\\"flag flag--top flag--small\\\">\\n      <div class=\\\"flag__img\\\" (click)=\\\"openProfile(message.username)\\\">\\n        <div class=\\\"avatar avatar--medium\\\">\\n          <div class=\\\"avatar-holder\\\"\\n           checkimage=\\\"{{message.image}}\\\" [suffix]=\\\"'.56x56_q100_crop.jpg'\\\">\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"flag__body\\\">\\n        <div class=\\\"message__name\\\">\\n          <span (click)=\\\"openProfile(message.username)\\\">{{message?.name}}</span>\\n          <span (click)=\\\"openProfile(message.username)\\\" class=\\\"message__timestamp\\\">{{message?.time}}</span>\\n        </div>\\n        <div class=\\\"message__text\\\">{{message?.body}}</div>\\n      </div>\\n    </div>\\n  </div>\\n  \",\r\n            changeDetection: core_1.ChangeDetectionStrategy.OnPush\r\n        }), \r\n        __metadata('design:paramtypes', [router_1.Router])\r\n    ], MessageSingleComponent);\r\n    return MessageSingleComponent;\r\n}());\r\nexports.MessageSingleComponent = MessageSingleComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/message_single/message_single.component.ts\n ** module id = 1142\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/message_single/message_single.component.ts?");

/***/ },

/***/ 1143:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar router_1 = __webpack_require__(37);\r\n/**\r\n * Services\r\n */\r\nvar inbox_service_1 = __webpack_require__(151);\r\nvar userauth_service_1 = __webpack_require__(63);\r\nvar messages_service_1 = __webpack_require__(153);\r\nvar messages_counter_service_1 = __webpack_require__(95);\r\nvar websocket_service_1 = __webpack_require__(126);\r\n/**\r\n * Components\r\n */\r\nvar message_list_component_1 = __webpack_require__(1141);\r\nvar messages_input_component_1 = __webpack_require__(1122);\r\nvar loading_component_1 = __webpack_require__(42);\r\nvar messages_header_component_1 = __webpack_require__(1147);\r\nvar MessagesChatComponent = (function () {\r\n    function MessagesChatComponent(_params, inboxService, messagesService, userService, messagesCounterService, websocketService, _router) {\r\n        this._params = _params;\r\n        this.inboxService = inboxService;\r\n        this.messagesService = messagesService;\r\n        this.userService = userService;\r\n        this.messagesCounterService = messagesCounterService;\r\n        this.websocketService = websocketService;\r\n        this._router = _router;\r\n        this.name = '';\r\n        this.messages = [];\r\n        this.loadingMessages = false;\r\n        this.loadingMessagesFinished = false;\r\n        this.isMessagesEmpty = false;\r\n        this.messagesNext = '';\r\n        this.hasNew = false;\r\n        this.scrollOffset = null;\r\n        this.threadId = this._params.get('threadId');\r\n    }\r\n    MessagesChatComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        var url = \"/api/v1/auth/user/\" + this.threadId + \"/\";\r\n        var channel = this.userService.findByUri(url)\r\n            .subscribe(function (data) {\r\n            _this.name = data.first_name;\r\n            channel.unsubscribe();\r\n        }, function (err) { return console.log('User could not be loaded'); });\r\n        this.inboxService.select(this.threadId);\r\n        setTimeout(function () {\r\n            _this.messagesCounterService.refreshCounter();\r\n        }, 500);\r\n        //subscribe to messages service updates\r\n        this.messagesServiceInstance = this.messagesService.serviceObserver()\r\n            .subscribe(function (res) {\r\n            _this.loadingMessages = res.loading;\r\n            _this.loadingMessagesFinished = res.finished;\r\n            _this.isMessagesEmpty = res.isEmpty;\r\n            _this.messagesNext = res.next;\r\n            _this.hasNew = res.hasNew;\r\n            // this.name = res.name;\r\n            var prevCount = _this.messages.length;\r\n            if (res.total === 0 && res.initialLoadingFinished) {\r\n                _this._router.parent.navigate(['/Messages', 'ConversationNewSelected', { friendId: _this.threadId }]);\r\n            }\r\n            //when first loading messages, scroll to bottom\r\n            // after initial messages have been rendered\r\n            if (prevCount === 0 && !_this.loadingMessages) {\r\n                var elem_1 = jQuery('#messages')[0];\r\n                setTimeout(function () {\r\n                    elem_1.scrollTop = elem_1.scrollHeight;\r\n                });\r\n            }\r\n            //if receieved new message scroll to bottom\r\n            if (_this.hasNew && !_this.loadingMessages) {\r\n                var elem_2 = jQuery('#messages')[0];\r\n                setTimeout(function () {\r\n                    elem_2.scrollTop = elem_2.scrollHeight;\r\n                });\r\n                _this.hasNew = false;\r\n            }\r\n            _this.messages = res.data;\r\n            //when loading more messages finishes, scroll to bottom\r\n            // after new messages have been rendered\r\n            if (prevCount > 0 && !_this.loadingMessages && _this.scrollOffset !== null) {\r\n                var elem_3 = jQuery('#messages')[0];\r\n                setTimeout(function () {\r\n                    elem_3.scrollTop = elem_3.scrollHeight - _this.scrollOffset;\r\n                    _this.scrollOffset = null;\r\n                });\r\n            }\r\n            if (_this.loadingMessagesFinished === false) {\r\n                jQuery('#messages').bind('scroll', _this.handleScrollEvent.bind(_this));\r\n            }\r\n            else {\r\n                jQuery('#messages').unbind('scroll');\r\n            }\r\n        });\r\n        //start loading messages\r\n        this.messagesService.startLoadingMessages(this.threadId);\r\n        //subscribe to webscoket service updates\r\n        this.websocketServiceInstance = this.websocketService.on('messages:new').subscribe(function (data) {\r\n            if (data.sender === \"/api/v1/auth/user/\" + _this.threadId + \"/\") {\r\n                _this.messagesService.recievedMessage(data);\r\n            }\r\n        });\r\n    };\r\n    MessagesChatComponent.prototype.handleScrollEvent = function (event) {\r\n        //reverse scroll\r\n        var elem = jQuery('#messages')[0];\r\n        if (this.messagesNext && elem.scrollTop <= 50) {\r\n            if (!this.loadingMessages && !this.hasNew) {\r\n                this.scrollOffset = elem.scrollHeight;\r\n                this.messagesService.loadMore(this.threadId);\r\n            }\r\n        }\r\n    };\r\n    MessagesChatComponent.prototype.sendMessage = function (message) {\r\n        this.messagesService.send(this.threadId, message);\r\n    };\r\n    MessagesChatComponent.prototype.ngOnDestroy = function () {\r\n        if (this.messagesServiceInstance) {\r\n            this.messagesServiceInstance.unsubscribe();\r\n        }\r\n        if (this.websocketServiceInstance) {\r\n            this.websocketServiceInstance.unsubscribe();\r\n        }\r\n    };\r\n    MessagesChatComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'messages-chat',\r\n            directives: [\r\n                messages_header_component_1.MessagesHeaderComponent,\r\n                message_list_component_1.MessageListComponent,\r\n                messages_input_component_1.MessagesInputComponent,\r\n                loading_component_1.LoadingComponent\r\n            ],\r\n            providers: [\r\n                messages_service_1.MessagesService,\r\n                userauth_service_1.UserAuthService\r\n            ],\r\n            template: \"\\n  <messages-header [name]=\\\"name\\\"></messages-header>\\n  <div class=\\\"chat\\\">\\n    <div class=\\\"chat-wrapper\\\" id=\\\"messages\\\">\\n      <div class=\\\"chat__messages-wrapper\\\">\\n        <div class=\\\"chat__messages\\\">\\n          <loading [status]=\\\"loadingMessages\\\"></loading>\\n          <message-list [messages]=\\\"messages\\\"></message-list>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"chat__send-message\\\" [disabled]=\\\"0\\\" (newMessage)=\\\"sendMessage($event)\\\"></div>\\n  </div>\\n  \"\r\n        }), \r\n        __metadata('design:paramtypes', [router_1.RouteParams, inbox_service_1.InboxService, messages_service_1.MessagesService, userauth_service_1.UserAuthService, messages_counter_service_1.MessagesCounterService, websocket_service_1.WebsocketService, router_1.Router])\r\n    ], MessagesChatComponent);\r\n    return MessagesChatComponent;\r\n}());\r\nexports.MessagesChatComponent = MessagesChatComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages/messages_chat.component.ts\n ** module id = 1143\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages/messages_chat.component.ts?");

/***/ },

/***/ 1144:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar router_1 = __webpack_require__(37);\r\n/**\r\n * Components\r\n */\r\nvar messages_input_component_1 = __webpack_require__(1122);\r\nvar messages_header_new_component_1 = __webpack_require__(1148);\r\n/**\r\n * Services\r\n */\r\nvar inbox_service_1 = __webpack_require__(151);\r\nvar messages_service_1 = __webpack_require__(153);\r\nvar userauth_service_1 = __webpack_require__(63);\r\nvar MessagesNewComponent = (function () {\r\n    function MessagesNewComponent(inboxService, messagesService, userService, _router, _params) {\r\n        var _this = this;\r\n        this.inboxService = inboxService;\r\n        this.messagesService = messagesService;\r\n        this.userService = userService;\r\n        this._router = _router;\r\n        this._params = _params;\r\n        this.tokens = [];\r\n        this.initialTokens = [];\r\n        this.message = '';\r\n        this.friendId = this._params.get('friendId');\r\n        //preselect a connection\r\n        if (this.friendId !== null) {\r\n            var uri = \"/api/v1/auth/user/\" + this.friendId + \"/\";\r\n            var channel_1 = this.userService.findOneByUri(uri)\r\n                .subscribe(function (data) {\r\n                _this.initialTokens = [{\r\n                        first_name: data.first_name,\r\n                        image: data.image,\r\n                        friend_id: _this.friendId\r\n                    }];\r\n                channel_1.unsubscribe();\r\n            }, function (err) { return console.log('user could not be found'); });\r\n        }\r\n    }\r\n    MessagesNewComponent.prototype.sendMessage = function (message) {\r\n        var _this = this;\r\n        if (this.tokens.length === 1) {\r\n            var channel_2 = this.messagesService.sendNew(this.tokens[0].friend_id, message)\r\n                .subscribe(function (data) {\r\n                channel_2.unsubscribe();\r\n                _this.inboxService.addSender(_this.tokens[0].friend_id);\r\n                _this._router.parent.navigate(['/Messages', 'SingleConversation', { threadId: _this.tokens[0].friend_id }]);\r\n            }, function (error) { return console.log('Could not create new message.'); });\r\n        }\r\n    };\r\n    MessagesNewComponent.prototype.routerOnActivate = function (nextInstruction, prevInstruction) {\r\n        this.inboxService.deselectThreads();\r\n    };\r\n    MessagesNewComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'messages-new',\r\n            template: __webpack_require__(1162),\r\n            directives: [\r\n                messages_header_new_component_1.MessagesHeaderNewComponent,\r\n                messages_input_component_1.MessagesInputComponent\r\n            ],\r\n            providers: [\r\n                messages_service_1.MessagesService\r\n            ]\r\n        }), \r\n        __metadata('design:paramtypes', [inbox_service_1.InboxService, messages_service_1.MessagesService, userauth_service_1.UserAuthService, router_1.Router, router_1.RouteParams])\r\n    ], MessagesNewComponent);\r\n    return MessagesNewComponent;\r\n}());\r\nexports.MessagesNewComponent = MessagesNewComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages/messages_new.component.ts\n ** module id = 1144\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages/messages_new.component.ts?");

/***/ },

/***/ 1145:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\n/**\r\n * Services\r\n */\r\nvar inbox_service_1 = __webpack_require__(151);\r\nvar messages_counter_service_1 = __webpack_require__(95);\r\nvar websocket_service_1 = __webpack_require__(126);\r\n/**\r\n * Components\r\n */\r\nvar thread_list_component_1 = __webpack_require__(1152);\r\nvar loading_component_1 = __webpack_require__(42);\r\nvar MessagesSidebarComponent = (function () {\r\n    function MessagesSidebarComponent(inboxService, messagesCounterService, websocketService, element) {\r\n        this.inboxService = inboxService;\r\n        this.messagesCounterService = messagesCounterService;\r\n        this.websocketService = websocketService;\r\n        this.element = element;\r\n        this.selected = new core_1.EventEmitter();\r\n        this.threads = [];\r\n        this.loadingInbox = false;\r\n        this.loadingInboxFinished = false;\r\n        this.isInboxEmpty = false;\r\n        this.inboxNext = '';\r\n        this.activeThread = null;\r\n    }\r\n    MessagesSidebarComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.messagesCounterService.refreshCounter();\r\n        }, 500);\r\n        //subscribe to inbox service updates\r\n        this.inboxServiceInstance = this.inboxService.serviceObserver()\r\n            .subscribe(function (res) {\r\n            _this.loadingInbox = res.loading;\r\n            _this.threads = res.data;\r\n            _this.loadingInboxFinished = res.finished;\r\n            _this.isInboxEmpty = res.isEmpty;\r\n            _this.inboxNext = res.next;\r\n            _this.activeThread = res.selected;\r\n            if (_this.loadingInboxFinished === false) {\r\n                jQuery(_this.element.nativeElement).bind('scroll', _this.handleScrollEvent.bind(_this));\r\n            }\r\n            else {\r\n                jQuery(_this.element.nativeElement).unbind('scroll');\r\n            }\r\n        });\r\n        //start loading inbox\r\n        this.inboxService.startLoadingInbox();\r\n        this.websocketServiceInstance = this.websocketService.on('messages:new').subscribe(function (data) {\r\n            if (_this.activeThread !== null) {\r\n                _this.inboxService.markRead(_this.activeThread);\r\n            }\r\n            setTimeout(function () {\r\n                _this.inboxService.addSender(data.friend_id);\r\n                _this.messagesCounterService.refreshCounter();\r\n            }, 500);\r\n        });\r\n    };\r\n    MessagesSidebarComponent.prototype.onSelect = function (thread) {\r\n        this.inboxService.select(thread.threadId);\r\n        this.selected.next(thread.threadId);\r\n    };\r\n    MessagesSidebarComponent.prototype.handleScrollEvent = function (event) {\r\n        var scrollOffset = jQuery(this.element.nativeElement).scrollTop();\r\n        var threshold = jQuery(document).height() - jQuery('#inbox').height() - 60;\r\n        if (this.inboxNext && scrollOffset > threshold) {\r\n            if (!this.loadingInbox) {\r\n                this.inboxService.loadMore();\r\n            }\r\n        }\r\n    };\r\n    MessagesSidebarComponent.prototype.ngOnDestroy = function () {\r\n        if (this.inboxServiceInstance) {\r\n            this.inboxServiceInstance.unsubscribe();\r\n        }\r\n        if (this.websocketServiceInstance) {\r\n            this.websocketServiceInstance.unsubscribe();\r\n        }\r\n    };\r\n    __decorate([\r\n        core_1.Output(), \r\n        __metadata('design:type', core_1.EventEmitter)\r\n    ], MessagesSidebarComponent.prototype, \"selected\", void 0);\r\n    MessagesSidebarComponent = __decorate([\r\n        core_1.Component({\r\n            selector: '.chat-sidebar',\r\n            directives: [\r\n                thread_list_component_1.ThreadListComponent,\r\n                loading_component_1.LoadingComponent\r\n            ],\r\n            template: \"\\n  <thread-list (selected)=\\\"onSelect($event)\\\" [active]=\\\"activeThread\\\" [threads]=\\\"threads\\\"></thread-list>\\n  <loading [status]=\\\"loadingInbox\\\"></loading>\\n  \"\r\n        }), \r\n        __metadata('design:paramtypes', [inbox_service_1.InboxService, messages_counter_service_1.MessagesCounterService, websocket_service_1.WebsocketService, core_1.ElementRef])\r\n    ], MessagesSidebarComponent);\r\n    return MessagesSidebarComponent;\r\n}());\r\nexports.MessagesSidebarComponent = MessagesSidebarComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages/messages_sidebar.component.ts\n ** module id = 1145\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages/messages_sidebar.component.ts?");

/***/ },

/***/ 1146:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar router_1 = __webpack_require__(37);\r\nvar inbox_service_1 = __webpack_require__(151);\r\nvar MessagesSidebarHeaderComponent = (function () {\r\n    function MessagesSidebarHeaderComponent(inboxService) {\r\n        var _this = this;\r\n        this.inboxService = inboxService;\r\n        this.inboxServiceObserver = this.inboxService.serviceCounterObserver()\r\n            .subscribe(function (data) {\r\n            _this.counter = data;\r\n        });\r\n    }\r\n    MessagesSidebarHeaderComponent.prototype.ngOnDestroy = function () {\r\n        this.inboxServiceObserver.unsubscribe();\r\n    };\r\n    __decorate([\r\n        core_1.Input(), \r\n        __metadata('design:type', Object)\r\n    ], MessagesSidebarHeaderComponent.prototype, \"counter\", void 0);\r\n    MessagesSidebarHeaderComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'messages-sidebar-header',\r\n            directives: [\r\n                router_1.ROUTER_DIRECTIVES\r\n            ],\r\n            template: \"\\n  <header class=\\\"chat-sidebar-header\\\">\\n    <div class=\\\"layout layout--middle\\\">\\n      <div class=\\\"layout__item 3/4\\\">\\n        <h3 class=\\\"chat-sidebar-header__title\\\">Conversation <span class=\\\"chat-sidebar-header__title__value\\\">({{counter}})</span></h3>\\n      </div>\\n      <div class=\\\"layout__item 1/4 text-right\\\">\\n        <a [routerLink]=\\\"['/Messages']\\\" class=\\\"btn btn-1 btn-1--blue btn--icon-circle-small js-share mr-\\\">\\n          <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n            <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-new-message\\\"></use>\\n          </svg>\\n        </a>\\n      </div>\\n    </div>\\n  </header>\\n  \"\r\n        }), \r\n        __metadata('design:paramtypes', [inbox_service_1.InboxService])\r\n    ], MessagesSidebarHeaderComponent);\r\n    return MessagesSidebarHeaderComponent;\r\n}());\r\nexports.MessagesSidebarHeaderComponent = MessagesSidebarHeaderComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages/messages_sidebar_header.component.ts\n ** module id = 1146\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages/messages_sidebar_header.component.ts?");

/***/ },

/***/ 1147:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar dropdown_directive_1 = __webpack_require__(766);\r\nvar MessagesHeaderComponent = (function () {\r\n    function MessagesHeaderComponent() {\r\n    }\r\n    MessagesHeaderComponent.prototype.ngOnInit = function () {\r\n    };\r\n    __decorate([\r\n        core_1.Input(), \r\n        __metadata('design:type', Object)\r\n    ], MessagesHeaderComponent.prototype, \"name\", void 0);\r\n    MessagesHeaderComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'messages-header',\r\n            directives: [\r\n                dropdown_directive_1.DropdownDirective\r\n            ],\r\n            template: __webpack_require__(1163)\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], MessagesHeaderComponent);\r\n    return MessagesHeaderComponent;\r\n}());\r\nexports.MessagesHeaderComponent = MessagesHeaderComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages_header/messages_header.component.ts\n ** module id = 1147\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages_header/messages_header.component.ts?");

/***/ },

/***/ 1148:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar lodash_1 = __webpack_require__(30);\r\n/**\r\n * Components\r\n */\r\nvar messages_search_connections_component_1 = __webpack_require__(1149);\r\nvar TOKEN_LIMIT = 1;\r\nvar MessagesHeaderNewComponent = (function () {\r\n    function MessagesHeaderNewComponent() {\r\n        this.selected = new core_1.EventEmitter;\r\n        this.tokens = [];\r\n        this.searchInputVisible = true;\r\n        this.activeToken = -1;\r\n    }\r\n    MessagesHeaderNewComponent.prototype.ngOnChanges = function (values) {\r\n        if (values.initialTokens && values.initialTokens.currentValue[0]) {\r\n            //add initial token;\r\n            this.addToken(values.initialTokens.currentValue[0]);\r\n        }\r\n    };\r\n    MessagesHeaderNewComponent.prototype.addToken = function (token) {\r\n        //check if limit is reached\r\n        if (this.tokens.length < TOKEN_LIMIT) {\r\n            //check if token already exists\r\n            var i = lodash_1.findIndex(this.tokens, { friend_id: token.friend_id });\r\n            if (i === -1) {\r\n                this.tokens = this.tokens.concat([token]);\r\n                this.activeToken = -1;\r\n                this.selected.emit(this.tokens);\r\n            }\r\n            else {\r\n                this.activeToken = i;\r\n            }\r\n            //if token limit reached, hide search input\r\n            if (this.tokens.length === TOKEN_LIMIT) {\r\n                this.searchInputVisible = false;\r\n            }\r\n        }\r\n    };\r\n    MessagesHeaderNewComponent.prototype.removeToken = function (index) {\r\n        this.activeToken = -1;\r\n        this.tokens.splice(index, 1);\r\n        this.selected.emit(this.tokens);\r\n        this.searchInputVisible = true;\r\n    };\r\n    __decorate([\r\n        core_1.Output(), \r\n        __metadata('design:type', core_1.EventEmitter)\r\n    ], MessagesHeaderNewComponent.prototype, \"selected\", void 0);\r\n    __decorate([\r\n        core_1.Input(), \r\n        __metadata('design:type', Object)\r\n    ], MessagesHeaderNewComponent.prototype, \"initialTokens\", void 0);\r\n    MessagesHeaderNewComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'messages-header-new',\r\n            directives: [\r\n                messages_search_connections_component_1.MessagesSearchConnections\r\n            ],\r\n            template: __webpack_require__(1164)\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], MessagesHeaderNewComponent);\r\n    return MessagesHeaderNewComponent;\r\n}());\r\nexports.MessagesHeaderNewComponent = MessagesHeaderNewComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages_header_new/messages_header_new.component.ts\n ** module id = 1148\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages_header_new/messages_header_new.component.ts?");

/***/ },

/***/ 1149:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar common_1 = __webpack_require__(305);\r\nvar http_1 = __webpack_require__(91);\r\nvar checkimage_directive_1 = __webpack_require__(150);\r\nvar MessagesSearchConnections = (function () {\r\n    function MessagesSearchConnections(http) {\r\n        this.http = http;\r\n        this.selected = new core_1.EventEmitter();\r\n        this.searchTerm = new common_1.Control();\r\n        this.resultsVisible = false;\r\n        this.selectedIndex = -1;\r\n        this.resultsCount = 0;\r\n        this.resultsCache = [];\r\n        this.results = this._search(this.searchTerm.valueChanges);\r\n    }\r\n    MessagesSearchConnections.prototype.keyEvent = function (event) {\r\n        switch (event.keyCode) {\r\n            case 13:\r\n                //enter\r\n                if (this.selectedIndex !== -1) {\r\n                    this.select(this.resultsCache[this.selectedIndex]);\r\n                }\r\n                break;\r\n            case 40:\r\n                //down\r\n                this.selectedIndex++;\r\n                if (this.selectedIndex > this.resultsCount - 1) {\r\n                    this.selectedIndex = this.resultsCount - 1;\r\n                }\r\n                if (this.selectedIndex > 3) {\r\n                    setTimeout(function () {\r\n                        var container = jQuery('.message-drop');\r\n                        var scrollTo = jQuery('.message-drop__results__result.is-active');\r\n                        jQuery('.message-drop').scrollTop(scrollTo.offset().top - container.offset().top + container.scrollTop());\r\n                    });\r\n                }\r\n                break;\r\n            case 38:\r\n                //up\r\n                this.selectedIndex--;\r\n                if (this.selectedIndex < 0) {\r\n                    this.selectedIndex = 0;\r\n                }\r\n                if (this.selectedIndex !== -1) {\r\n                    setTimeout(function () {\r\n                        var container = jQuery('.message-drop');\r\n                        var scrollTo = jQuery('.message-drop__results__result.is-active');\r\n                        jQuery('.message-drop').scrollTop(scrollTo.offset().top - container.offset().top + container.scrollTop());\r\n                    });\r\n                }\r\n                //prevent moving cursor to begining of input\r\n                event.preventDefault();\r\n                break;\r\n            case 27:\r\n                //escape\r\n                this.resultsVisible = false;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    MessagesSearchConnections.prototype.ngOnInit = function () {\r\n    };\r\n    MessagesSearchConnections.prototype.select = function (result) {\r\n        this.resultsVisible = false;\r\n        this.resultsCache = [];\r\n        this.searchTerm.updateValue('');\r\n        this.selected.emit(result);\r\n    };\r\n    MessagesSearchConnections.prototype._search = function (terms, debounceDuration) {\r\n        var _this = this;\r\n        if (debounceDuration === void 0) { debounceDuration = 400; }\r\n        return terms.debounceTime(debounceDuration)\r\n            .distinctUntilChanged()\r\n            .switchMap(function (term) { return _this._rawSearch(term); });\r\n    };\r\n    MessagesSearchConnections.prototype._rawSearch = function (term) {\r\n        var _this = this;\r\n        var url = \"/api/v1/connectionssearch/?format=json&first_name=\" + term;\r\n        return this.http\r\n            .get(url)\r\n            .map(function (request) {\r\n            _this.selectedIndex = -1;\r\n            var res = request.json();\r\n            _this.resultsCache = res.objects;\r\n            _this.resultsCount = res.meta.total_count;\r\n            if (_this.resultsCount > 0) {\r\n                _this.resultsVisible = true;\r\n            }\r\n            else {\r\n                _this.resultsVisible = false;\r\n            }\r\n            return _this.resultsCache;\r\n        });\r\n    };\r\n    __decorate([\r\n        core_1.Output(), \r\n        __metadata('design:type', core_1.EventEmitter)\r\n    ], MessagesSearchConnections.prototype, \"selected\", void 0);\r\n    MessagesSearchConnections = __decorate([\r\n        core_1.Component({\r\n            selector: 'messages-search-connections',\r\n            template: __webpack_require__(1165),\r\n            directives: [checkimage_directive_1.CheckImageDirective]\r\n        }), \r\n        __metadata('design:paramtypes', [http_1.Http])\r\n    ], MessagesSearchConnections);\r\n    return MessagesSearchConnections;\r\n}());\r\nexports.MessagesSearchConnections = MessagesSearchConnections;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages_search_connections/messages_search_connections.component.ts\n ** module id = 1149\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages_search_connections/messages_search_connections.component.ts?");

/***/ },

/***/ 1152:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\n/**\r\n * Components\r\n */\r\nvar thread_single_component_1 = __webpack_require__(1153);\r\nvar ThreadListComponent = (function () {\r\n    function ThreadListComponent() {\r\n        this.selected = new core_1.EventEmitter();\r\n    }\r\n    __decorate([\r\n        core_1.Input(), \r\n        __metadata('design:type', Object)\r\n    ], ThreadListComponent.prototype, \"threads\", void 0);\r\n    __decorate([\r\n        core_1.Input(), \r\n        __metadata('design:type', Object)\r\n    ], ThreadListComponent.prototype, \"active\", void 0);\r\n    __decorate([\r\n        core_1.Output(), \r\n        __metadata('design:type', core_1.EventEmitter)\r\n    ], ThreadListComponent.prototype, \"selected\", void 0);\r\n    ThreadListComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'thread-list',\r\n            template: \"\\n  <thread-single [isActive]=\\\"active\\\" (selected)=\\\"selected.next($event)\\\" *ngFor=\\\"#item of threads\\\" [thread]=\\\"item\\\"></thread-single>\\n  \",\r\n            directives: [\r\n                thread_single_component_1.ThreadSingleComponent\r\n            ]\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], ThreadListComponent);\r\n    return ThreadListComponent;\r\n}());\r\nexports.ThreadListComponent = ThreadListComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/thread_list/thread_list.component.ts\n ** module id = 1152\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/thread_list/thread_list.component.ts?");

/***/ },

/***/ 1153:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = __webpack_require__(3);\r\nvar checkimage_directive_1 = __webpack_require__(150);\r\nvar ThreadSingleComponent = (function () {\r\n    function ThreadSingleComponent() {\r\n        this.selected = new core_1.EventEmitter();\r\n    }\r\n    ThreadSingleComponent.prototype.onSelect = function (thread) {\r\n        if (this.isActive !== thread.threadId) {\r\n            this.selected.next(thread);\r\n        }\r\n    };\r\n    __decorate([\r\n        core_1.Input(), \r\n        __metadata('design:type', Object)\r\n    ], ThreadSingleComponent.prototype, \"thread\", void 0);\r\n    __decorate([\r\n        core_1.Input(), \r\n        __metadata('design:type', Object)\r\n    ], ThreadSingleComponent.prototype, \"isActive\", void 0);\r\n    __decorate([\r\n        core_1.Output(), \r\n        __metadata('design:type', core_1.EventEmitter)\r\n    ], ThreadSingleComponent.prototype, \"selected\", void 0);\r\n    ThreadSingleComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'thread-single',\r\n            directives: [checkimage_directive_1.CheckImageDirective],\r\n            template: \"\\n  <div class=\\\"message\\\" [ngClass]=\\\"{'is-active': isActive === thread.threadId, 'is-unread': thread.unread === true}\\\" (click)=\\\"onSelect(thread)\\\">\\n    <div class=\\\"flag flag--responsive flag--small\\\">\\n      <div class=\\\"flag__img\\\">\\n        <span class=\\\"message__inread-indicator\\\"></span>\\n        <div class=\\\"avatar avatar--medium\\\">\\n          <div class=\\\"avatar-holder\\\"\\n          checkimage=\\\"{{thread.image}}\\\" [suffix]=\\\"'.56x56_q100_crop.jpg'\\\">\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"flag__body\\\">\\n        <div class=\\\"message__name\\\">{{thread.name}}</div>\\n        <div class=\\\"message__text truncate\\\">{{thread.body}}</div>\\n        <div class=\\\"message__time\\\">{{thread.sentAt}}</div>\\n        <div class=\\\"message__total\\\" [ngClass]=\\\"{'is-visible': thread.unreadCounter > 0}\\\">{{thread.unreadCounter}}</div>\\n      </div>\\n    </div>\\n  </div>\\n  \"\r\n        }), \r\n        __metadata('design:paramtypes', [])\r\n    ], ThreadSingleComponent);\r\n    return ThreadSingleComponent;\r\n}());\r\nexports.ThreadSingleComponent = ThreadSingleComponent;\r\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/thread_single/thread_single.component.ts\n ** module id = 1153\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/thread_single/thread_single.component.ts?");

/***/ },

/***/ 1162:
/***/ function(module, exports) {

	eval("module.exports = \"<messages-header-new [initialTokens]=\\\"initialTokens\\\" (selected)=\\\"tokens = $event\\\"></messages-header-new>\\n<div class=\\\"chat\\\">\\n  <div class=\\\"chat-wrapper\\\">\\n    <div class=\\\"chat__messages-wrapper\\\">\\n      <div class=\\\"chat__messages\\\">\\n        <div class=\\\"chat__messages__blank-slate\\\">\\n          <svg role=\\\"img\\\" class=\\\"icon chat-empty-state__icon\\\">\\n            <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#start_conversation\\\"></use>\\n          </svg>\\n          <h3 class=\\\"chat-empty-state__title\\\">Start conversation</h3>\\n          <p class=\\\"chat-empty-state__par\\\">Type your message below to start Conversation</p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"chat__send-message\\\" [disabled]=\\\"tokens.length === 0\\\" (newMessage)=\\\"sendMessage($event)\\\"></div>\\n</div>\\n\"\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages/messages_new.html\n ** module id = 1162\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages/messages_new.html?");

/***/ },

/***/ 1163:
/***/ function(module, exports) {

	eval("module.exports = \"<header class=\\\"chat-header\\\">\\n  <div class=\\\"layout layout--middle\\\" *ngIf=\\\"name !== ''\\\">\\n    <div class=\\\"layout__item 3/4\\\">\\n      <div class=\\\"has-input-left-labeled has-input-left-labeled--big\\\">\\n        <label class=\\\"left-labeled-label is-hidden\\\" for=\\\"\\\">To:</label>\\n        <div class=\\\"left-labeled-input\\\">\\n          <input type=\\\"text\\\" class=\\\"left-labeled-input is-hidden\\\" placeholder=\\\"NAME\\\">\\n          <span class=\\\"left-labeled-value\\\">{{name}}</span>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"layout__item 1/4 text-right\\\">\\n      <div class=\\\"has-dropdown-basic\\\">\\n        <a class=\\\"btn btn-1 btn-1--red btn--icon-circle-small js-share mr\\\" dropdown=\\\"#messagesDropdown\\\">\\n          <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n            <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-more\\\"></use>\\n          </svg>\\n        </a>\\n        <div class=\\\"dropdown-basic dropdown-basic--medium dropdown-basic--arrow-right\\\" id=\\\"messagesDropdown\\\">\\n          <ul class=\\\"list-bare\\\">\\n            <li><a>Delete conversation</a></li>\\n            <li><a>Report spam</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</header>\\n\"\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages_header/messages_header.html\n ** module id = 1163\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages_header/messages_header.html?");

/***/ },

/***/ 1164:
/***/ function(module, exports) {

	eval("module.exports = \"<header class=\\\"chat-header has-message-drop\\\">\\n  <div class=\\\"layout layout--middle\\\">\\n    <div class=\\\"layout__item\\\">\\n      <div class=\\\"has-input-left-labeled has-input-left-labeled--big\\\">\\n        <label class=\\\"left-labeled-label\\\" for=\\\"\\\">To:&nbsp;</label>\\n        <div class=\\\"tokenfield\\\" *ngIf=\\\"tokens.length > 0\\\">\\n          <div class=\\\"token\\\" *ngFor=\\\"#token of tokens; #i = index;\\\" (click)=\\\"activeToken = i\\\" [ngClass]=\\\"{'active': activeToken === i}\\\">\\n            <span class=\\\"token-label\\\">{{token.first_name}}</span>\\n            <a (click)=\\\"removeToken(i)\\\" class=\\\"close\\\">×</a>\\n          </div>\\n        </div>\\n        <div class=\\\"left-labeled-input\\\" [ngClass]=\\\"{'is-hidden': !searchInputVisible}\\\">\\n          <messages-search-connections (selected)=\\\"addToken($event)\\\"></messages-search-connections>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</header>\\n\"\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages_header_new/messages_header_new.html\n ** module id = 1164\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages_header_new/messages_header_new.html?");

/***/ },

/***/ 1165:
/***/ function(module, exports) {

	eval("module.exports = \"<input (click)=\\\"resultsVisible = true\\\" (focus)=\\\"resultsVisible = true\\\" (blur)=\\\"resultsVisible = false\\\" (keydown)=\\\"keyEvent($event)\\\" [ngFormControl]=\\\"searchTerm\\\" type=\\\"text\\\" class=\\\"left-labeled-input__element js-message-to\\\" placeholder=\\\"NAME\\\">\\n<div class=\\\"message-drop\\\" [ngClass]=\\\"{'is-invisible': !resultsVisible}\\\">\\n  <div class=\\\"message-drop__results\\\">\\n    <a class=\\\"message-drop__results__result\\\" *ngFor=\\\"#result of results | async; #i = index\\\" (mouseover)=\\\"selectedIndex = i\\\" (click)=\\\"select(result)\\\" [ngClass]=\\\"{'is-active': selectedIndex === i}\\\">\\n      <div class=\\\"flag flag--small\\\">\\n        <div class=\\\"flag__img\\\">\\n          <div class=\\\"avatar avatar--medium\\\">\\n            <div class=\\\"avatar-holder\\\" checkimage=\\\"{{result.image}}\\\" [suffix]=\\\"'.56x56_q100_crop.jpg'\\\">\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"flag__body\\\">\\n          <div class=\\\"message__name\\\">{{result.first_name}}</div>\\n        </div>\\n      </div>\\n    </a>\\n  </div>\\n</div>\\n\"\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/messages_search_connections/messages_search_connections.html\n ** module id = 1165\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/components/messages_search_connections/messages_search_connections.html?");

/***/ },

/***/ 1169:
/***/ function(module, exports) {

	eval("module.exports = \"<div class=\\\"layout layout--flush position-relative\\\">\\n  <div class=\\\"layout__item extralarge-and-up-3/10 4/10\\\">\\n    <messages-sidebar-header [counter]=\\\"counter\\\"></messages-sidebar-header>\\n    <aside class=\\\"chat-sidebar is-scrollable-y\\\" id=\\\"inbox\\\" (selected)=\\\"navigateToConversation($event)\\\">\\n    </aside>\\n  </div>\\n  <div class=\\\"layout__item extralarge-and-up-7/10 6/10\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n</div>\\n\"\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/containers/messages/messages.html\n ** module id = 1169\n ** module chunks = 3\n **/\n//# sourceURL=webpack:///./src/app/containers/messages/messages.html?");

/***/ }

});