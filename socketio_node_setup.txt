sudo apt-get install curl git

sudo apt-get install build-essential
sudo apt-get install curl openssl libssl-dev
git clone https://github.com/joyent/node.git
cd node
git checkout v0.10.36
./configure
make
sudo make install


node -v


rm -rf /home/vagrant/node


#run iosocket server in debug mode
DEBUG=socket.io:socket node app.js

#run iosocket server
node app.js


#production run using pm2
#ensures restarting node application as a service every time server is restarted
#automatically restarts the node application if it crashes

sudo npm install pm2 -g

pm2 start app.js

# pm2 startup ubuntu
sudo env PATH=$PATH:/usr/local/bin pm2 startup -u vagrant



#Run multiple processes of the application. PM2 will run one process per CPU core.
#It will also attempt to load balance requests between the running processes.
pm2 start app.js --name "socketio" -i max

# Reload and restart the application (or use gracefulReload >useful for closing all existing connections before restarting.)
pm2 reload app.js

# Stop the application
pm2 stop app.js

# Remove app.js from PM2
pm2 delete app.js

#dumps node processes and saves them as JSON and is used to configure running processes on startup.
pm2 save

# List processes monitored
pm2 list

# See "tail" style log output of all logs output from watched processes
pm2 logs

# Clear all logs
pm2 flush

# List process 0
pm2 desc 0

# Monitor processes and system usage
pm2 monit