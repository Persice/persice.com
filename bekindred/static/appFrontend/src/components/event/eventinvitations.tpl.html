<div class="ui basic segment" id="event-invitations">
    <form class="ui form" ng-class="{'loading': viewevent.loadingEvent}">
        <div class="ui header">Who can attend this event?</div>
        <div class="fields">
            <div class="eight wide field invitations">
                <div class="field-section">
                    <div class="radio-vertical">
                        <input type="radio" ng-model="viewevent.invitationsOptions.attendingPref" value="connections">
                        <span class="label">Only my connections (default)</span>
                    </div>
                    <div class="radio-vertical">
                        <input type="radio" ng-model="viewevent.invitationsOptions.attendingPref" value="public">
                        <span class="label">Public (all Persice users)</span>
                    </div>
                    <div class="radio-vertical">
                        <input type="radio" ng-model="viewevent.invitationsOptions.attendingPref" value="private">
                        <span class="label">Private (only select users)</span>
                    </div>
                </div>
            </div>
            <div class="eight wide field invitations">
                <div class="field-section">
                    <div class="label">Max. attendees <span class="label number">{{viewevent.event.max_attendees}}&nbsp;</span></div>
                    <div class="ui divider"></div>
                    <div class="checkbox-vertical">
                        <input type="checkbox" ng-model="viewevent.invitationsOptions.guestInvite" value="private">
                        <span class="label">Guests can invite friends</span>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <br>
    <div class="ui basic segment">
        <div class="ui active inverted dimmer" ng-if="viewevent.loadingInvitesSave">
            <div class="ui text loader">Please wait while invitations are being sent...</div>
        </div>
        <div class="ui top attached tabular menu" id="invitationsTabsMenu">
            <a class="item active" data-tab="first">My Connections</a>
            <a class="item withicons" data-tab="second"><i class="check large circle icon"></i> Invite List <span class="ui circular label">{{viewevent.invitedPeopleCount}}</span></a>
        </div>
        <div class="ui bottom attached tab segment active" data-tab="first">
            <div class="ui segment basic" ng-class="{'loading': viewevent.loadingConnections}">
                <table class="ui very basic unstackable table invitations-people" ng-cloak>
                    <thead>
                        <tr>
                            <th colspan="2" class="search-header-container">
                                <div class="ui transparent left icon input searchbox">
                                    <input type="text" placeholder="" ng-model="viewevent.connectionFirstName" ng-change="viewevent.getConnections()" ng-model-options="{ debounce: 500 }">
                                    <i class="search large icon"></i>
                                </div>
                            </th>
                            <th class="desktopview"><i class="intersecticon icon"></i></th>
                            <th class="desktopview"><i class="empty user large usericon icon"></i></th>
                            <th class="desktopview"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="connection in viewevent.connections track by connection.friend_id" ng-class="{'active': connection.selected}" ng-click="viewevent.markSelected($index)">
                            <td>
                                <h4 class="ui image header">
                                <div style="background-image: url('/media/{{::connection.image}}'); background-size: cover;background-repeat: no-repeat; background-position: 50% 50%; height: 2.5em;" class="ui circular image"></div>

                                    <div class="content">
                                        {{::connection.first_name}}, {{::connection.age}}
                                    </div>
                                </h4>
                            </td>
                            <td class="desktopview">
                                <div class="tagline">{{::connection.tagline}}</div>
                            </td>
                            <td class="desktopview">{{::connection.common_goals_offers_interests}}&nbsp;</td>
                            <td class="desktopview">{{::connection.mutual_friends_count}}&nbsp;</td>
                            <td class="selected"><i ng-if="connection.selected" class="check fade icon big circle invite outline" ng-class="{'green': !connection.is_invited && connection.selected}"></i></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="ui bottom attached tab segment" data-tab="second">
            <div class="ui segment basic" ng-class="{'loading': viewevent.invitedPeopleLoading}">
                <table class="ui very basic unstackable table invitations-people" ng-cloak>
                    <thead>
                        <tr>
                            <th class="search-header-container">
                                <div class="ui transparent left icon input searchbox">
                                    <input type="text" placeholder="" ng-model="viewevent.invitedPeopleFirstName" ng-change="viewevent.getInvitedPeople()" ng-model-options="{ debounce: 500 }">
                                    <i class="search large icon"></i>
                                </div>
                            </th>
                            <th class="desktopview"></th>
                            <th class="desktopview"><i class="intersecticon icon"></i></th>
                            <th class="desktopview"><i class="empty user large usericon icon"></i></th>
                            <th>RSVP</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="attendee in viewevent.invitedPeople track by attendee.id">
                            <td>
                                <h4 class="ui image header">
                                    <div style="background-image: url('/media/{{::attendee.image}}'); background-size: cover;background-repeat: no-repeat; background-position: 50% 50%; height: 2.5em;" class="ui circular image"></div>

                                    <div class="content">
                                        {{::attendee.first_name}}, {{::attendee.age}}
                                    </div>
                                </h4>
                            </td>
                            <td class="desktopview">
                                <div class="tagline">{{::attendee.tagline}}</div>
                            </td>
                            <td class="desktopview">{{::attendee.common_goals_offers_interests}}&nbsp;</td>
                            <td class="desktopview">{{::attendee.mutual_friends_count}}&nbsp;</td>
                            <td>{{::attendee.rsvp | uppercase}}</td>
                            <td class="selected"><i ng-click="viewevent.removeInvite($index)" class="remove fade icon big circle outline red"></i></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <br>
</div>
<script>
'use strict';
$('.menu .item')
    .tab();
</script>
