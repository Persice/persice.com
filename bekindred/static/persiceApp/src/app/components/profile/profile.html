<div class="platform m">
  <a (click)="closeProfile($event)" class="platform__back">
    <svg role="img" class="icon ">
      <use xlink:href="/static/persiceApp/src/assets/icons/icons.svg#icon-close"></use>
    </svg>
  </a>
  <div class="tableize tableize--fixed tableize--full content">
    <div class="tableize__cell 3/12 my-profile">
      <profile-avatar [type]="profileType" [avatar]="profileAvatar" [images]="profilePhotos" [score]="profileScore" [count]="profilePhotosCount"></profile-avatar>
      <div class="layout layout--flush pt- ph pl+">
        <div class="layout__item 1/3">
          <h2 class="module-title mb0">gender</h2>
        </div>
        <div class="layout__item 1/3">
          <h2 class="module-title mb0">age</h2>
        </div>
        <div class="layout__item 1/3">
          <h2 class="module-title mb0">lives in</h2>
        </div>
      </div>
      <div class="layout layout--flush pt- ph pb pl+">
        <div class="layout__item 1/3">
          <div class="profile-feature">{{profileGender}}</div>
        </div>
        <div class="layout__item 1/3">
          <div class="profile-feature">{{profileAge}}</div>
        </div>
        <div class="layout__item 1/3">
          <div class="profile-feature">{{profileLocation}}</div>
        </div>
      </div>
      <div class="hr --mh"></div>
      <div class="pt0 ph+ pb">
        <h4 class="module-title mb0">Profession</h4>
        <div class="profile-feature">{{profileJob}}</div>
      </div>
      <div class="hr --mh"></div>
      <div class="pt0 ph+ pb">
        <h4 class="module-title mb0">Religious views</h4>
        <div class="profile-feature" *ngFor="#rel of profileReligiousViews">{{rel.religious_view}}</div>
      </div>
      <div class="hr --mh"></div>
      <div class="pt0 ph+ pb">
        <h4 class="module-title mb0">Political views</h4>
        <div class="profile-feature" *ngFor="#rel of profilePoliticalViews">{{rel.political_view}}</div>
      </div>
      <div class="hr --mh"></div>
      <div class="pt0 ph+ pb">
        <profile-about [about]="profileAbout"></profile-about>
      </div>
      <div class="hr --mh"></div>
      <div class="layout layout--small pt0 pl+ profile-networks" [url]="profileNetworks">
      </div>
    </div>
    <div class="tableize__cell 6/10">
      <div class="border-left">
        <div class="my-profile__header">
          <div class="layout layout--middle layout--center">
            <div class="layout__item" [ngClass]="{'1/2': profileType === 'crowd' || profileType === 'my', '6/10': profileType === 'friend' }">
              <h2 class="single-title">{{profileName}}</h2>
              <div class="single-title-status mt-" *ngIf="profileType !== 'my'">
                Active {{profileActiveAgo}} â€¢ {{profileDistance}} from you
              </div>
            </div>
            <div class="layout__item text-right" [ngClass]="{'1/2': profileType === 'crowd' || profileType === 'my', '4/10': profileType === 'friend' }">
              <profile-acceptpass *ngIf="profileType === 'crowd'" [user]="profileId" (acceptEvent)="acceptUser($event)" (passEvent)="passUser($event)"></profile-acceptpass>
              <a class="user-messages mr-" (click)="openMessages($event)" *ngIf="profileType === 'friend'">
                <svg role="img" class="icon ">
                  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/static/persiceApp/src/assets/icons/icons.svg#icon-menu-messages"></use>
                </svg>
              </a>
              <div class="event-share" *ngIf="profileType === 'friend'">
                <a class="btn btn-1 btn-1--blue btn--icon-circle js-share" dropdown="#friendDropdown">
                  <svg role="img" class="icon icon--tiny">
                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/static/persiceApp/src/assets/icons/icons.svg#icon-more"></use>
                  </svg>
                </a>
                <!-- TODO insert dropdown component -->
                <div class="dropdown-basic" id="friendDropdown">
                  <ul class="list-bare">
                    <li><a href="#">Invite to event</a></li>
                    <li><a href="#">Report user</a></li>
                    <li><a href="#">Disconnect</a></li>
                  </ul>
                </div>
              </div>
              <a *ngIf="profileType === 'my'" data-remodal-target="profile-edit" class="btn btn-1 btn-1--filled btn-1--blue btn-1--medium">Edit</a>

            </div>
          </div>
        </div>
        <div class="hr"></div>
        <div class="match-profile__features pt- pb">
          <div class="layout">
            <div class="layout__item">
              <profile-items [title]="'Interests'" [items]="profileInterests" [itemsCount]="profileInterestsCount"></profile-items>
            </div>
            <div class="hr -mh"></div>
            <div class="layout__item">
              <profile-items [title]="'Goals'" [items]="profileGoals" [itemsCount]="profileGoalsCount"></profile-items>
            </div>
            <div class="hr -mh"></div>
            <div class="layout__item">
              <profile-items [title]="'Offers'" [items]="profileOffers" [itemsCount]="profileOffersCount"></profile-items>
            </div>
          </div>
        </div>
        <profile-likes [likes]="profileLikes" [count]="profileLikesCount"></profile-likes>
        <profile-friends [type]="profileType" [title]="friendsTitle" [friends]="profileFriends" [count]="profileFriendsCount"></profile-friends>
      </div>
    </div>
  </div>
</div>


<div *ngIf="profileType === 'my'" class="remodal remodal--common remodal--medium-large profile-edit" data-remodal-id="profile-edit" remodal>
  <profile-edit (refreshUser)="refreshUser($event)" [user]="userEdit" [interests]="profileInterests"></profile-edit>
</div>
