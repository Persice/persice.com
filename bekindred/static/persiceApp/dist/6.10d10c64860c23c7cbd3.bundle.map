{"version":3,"sources":["webpack:///6.10d10c64860c23c7cbd3.chunk.js","webpack:///./src/app/components/profile/profile_friend.component.ts?791f"],"names":["webpackJsonp",424,"module","exports","__webpack_require__","__decorate","__metadata","core_1","router_1","http_1","profile_avatar_component_1","profile_about_component_1","profile_likes_component_1","profile_friends_component_1","profile_networks_component_1","profile_items_component_1","loading_component_1","profile_gallery_component_1","dropdown_directive_1","remodal_directive_1","mutualfriends_service_1","photos_service_1","religiousviews_service_1","politicalviews_service_1","connections_counter_service_1","util_1","view","ProfileFriendComponent","mutualfriendsService","photosService","religiousviewsService","politicalviewsService","counterService","http","this","closeprofileEvent","EventEmitter","nextEvent","previousEvent","friendsTitle","profileType","profileAge","profileGender","profileLocation","profileScore","profileName","profileJob","profileReligiousViews","profilePoliticalViews","profileActiveAgo","profileDistance","profileAbout","profileAvatar","profilePhotos","profilePhotosCount","profileKeywords","profileKeywordsCount","profileInterests","profileGoals","profileOffers","profileInterestsCount","profileGoalsCount","profileOffersCount","profileLikes","profileLikesCount","profileFriends","mutual_bk_friends","mutual_bk_friends_count","mutual_fb_friends","mutual_fb_friends_count","mutual_linkedin_connections","mutual_linkedin_connections_count","mutual_twitter_followers","mutual_twitter_followers_count","mutual_twitter_friends","mutual_twitter_friends_count","profileFriendsCount","profileNetworks","facebook","twitter","linkedin","loading","loadingLikes","loadingConnections","loadingPhotos","galleryActive","galleryOptions","JSON","stringify","hashTracking","closeOnOutsideClick","prototype","ngOnDestroy","jQuery","document","off","ngOnInit","_this","on","e","setTimeout","focus","window","scrollTo","ngOnChanges","values","user","currentValue","assignUser","url","id","get","map","res","json","subscribe","data","refreshCounter","profileId","first_name","age","gender","distance","lives_in","likes","length","position","job","company","image","about","score","facebook_id","linkedin_provider","twitter_provider","twitter_username","ObjectUtil","transformSorted","offers","interests","goals","count","keywords","getMutualFriends","getPhotos","getReligiousViews","getPoliticalViews","assignMutualFriends","getByUser","assignReligiousViews","assignPoliticalViews","err","console","log","assignPhotos","meta","total_count","objects","reverse","items","parseInt","closeProfile","event","next","openMessages","eventHandler","key","openGallery","remodal","open","Input","Object","Output","Component","selector","template","directives","ProfileAvatarComponent","ProfileAboutComponent","ProfileLikesComponent","ProfileFriendsComponent","ProfileNetworksComponent","ProfileItemsComponent","DropdownDirective","LoadingComponent","ProfileGalleryComponent","RemodalDirective","ROUTER_DIRECTIVES","providers","PhotosService","ReligiousViewsService","MutualFriendsService","PoliticalViewsService","ConnectionsCounterService","Http","call"],"mappings":"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","file":"6.10d10c64860c23c7cbd3.chunk.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 424:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(__decorate, __metadata) {\"use strict\";\n\tvar core_1 = __webpack_require__(2);\n\tvar router_1 = __webpack_require__(20);\n\tvar http_1 = __webpack_require__(83);\n\tvar profile_avatar_component_1 = __webpack_require__(201);\n\tvar profile_about_component_1 = __webpack_require__(200);\n\tvar profile_likes_component_1 = __webpack_require__(204);\n\tvar profile_friends_component_1 = __webpack_require__(202);\n\tvar profile_networks_component_1 = __webpack_require__(205);\n\tvar profile_items_component_1 = __webpack_require__(203);\n\tvar loading_component_1 = __webpack_require__(26);\n\tvar profile_gallery_component_1 = __webpack_require__(425);\n\tvar dropdown_directive_1 = __webpack_require__(421);\n\tvar remodal_directive_1 = __webpack_require__(198);\n\tvar mutualfriends_service_1 = __webpack_require__(126);\n\tvar photos_service_1 = __webpack_require__(85);\n\tvar religiousviews_service_1 = __webpack_require__(61);\n\tvar politicalviews_service_1 = __webpack_require__(60);\n\tvar connections_counter_service_1 = __webpack_require__(84);\n\tvar util_1 = __webpack_require__(13);\n\tvar view = __webpack_require__(423);\n\tvar ProfileFriendComponent = (function () {\n\t    function ProfileFriendComponent(mutualfriendsService, photosService, religiousviewsService, politicalviewsService, counterService, http) {\n\t        this.mutualfriendsService = mutualfriendsService;\n\t        this.photosService = photosService;\n\t        this.religiousviewsService = religiousviewsService;\n\t        this.politicalviewsService = politicalviewsService;\n\t        this.counterService = counterService;\n\t        this.http = http;\n\t        this.closeprofileEvent = new core_1.EventEmitter;\n\t        this.nextEvent = new core_1.EventEmitter;\n\t        this.previousEvent = new core_1.EventEmitter;\n\t        this.friendsTitle = 'Mutual Connections';\n\t        this.profileType = 'friend';\n\t        this.profileAge = '';\n\t        this.profileGender = '';\n\t        this.profileLocation = '';\n\t        this.profileScore = '';\n\t        this.profileName = '';\n\t        this.profileJob = '';\n\t        this.profileReligiousViews = [];\n\t        this.profilePoliticalViews = [];\n\t        this.profileActiveAgo = '2h ago';\n\t        this.profileDistance = '';\n\t        this.profileAbout = '';\n\t        this.profileAvatar = '';\n\t        this.profilePhotos = [];\n\t        this.profilePhotosCount = 0;\n\t        this.profileKeywords = [];\n\t        this.profileKeywordsCount = 0;\n\t        this.profileInterests = [];\n\t        this.profileGoals = [];\n\t        this.profileOffers = [];\n\t        this.profileInterestsCount = 0;\n\t        this.profileGoalsCount = 0;\n\t        this.profileOffersCount = 0;\n\t        this.profileLikes = [];\n\t        this.profileLikesCount = 0;\n\t        this.profileFriends = {\n\t            mutual_bk_friends: [],\n\t            mutual_bk_friends_count: 0,\n\t            mutual_fb_friends: [],\n\t            mutual_fb_friends_count: 0,\n\t            mutual_linkedin_connections: [],\n\t            mutual_linkedin_connections_count: 0,\n\t            mutual_twitter_followers: [],\n\t            mutual_twitter_followers_count: 0,\n\t            mutual_twitter_friends: [],\n\t            mutual_twitter_friends_count: 0\n\t        };\n\t        this.profileFriendsCount = 0;\n\t        this.profileNetworks = {\n\t            facebook: '',\n\t            twitter: '',\n\t            linkedin: ''\n\t        };\n\t        this.loading = false;\n\t        this.loadingLikes = false;\n\t        this.loadingConnections = false;\n\t        this.loadingPhotos = false;\n\t        this.galleryActive = false;\n\t        this.galleryOptions = JSON.stringify({\n\t            hashTracking: false,\n\t            closeOnOutsideClick: true\n\t        });\n\t    }\n\t    ProfileFriendComponent.prototype.ngOnDestroy = function () {\n\t        jQuery(document).off('closed', '.remodal');\n\t    };\n\t    ProfileFriendComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        jQuery(document).on('closed', '.remodal', function (e) {\n\t            _this.galleryActive = false;\n\t        });\n\t        setTimeout(function () {\n\t            jQuery('#userprofile').focus();\n\t            window.scrollTo(0, 0);\n\t        });\n\t    };\n\t    ProfileFriendComponent.prototype.ngOnChanges = function (values) {\n\t        if (values.user && values.user.currentValue) {\n\t            this.assignUser();\n\t        }\n\t    };\n\t    ProfileFriendComponent.prototype.assignUser = function () {\n\t        var _this = this;\n\t        this.galleryActive = false;\n\t        this.loadingConnections = true;\n\t        this.loadingPhotos = true;\n\t        this.loadingLikes = true;\n\t        var url = \"/api/v1/new_connections/updated_at/?format=json&friend_id=\" + this.user.id;\n\t        this.http.get(url).map(function (res) { return res.json(); }).subscribe(function (data) {\n\t            _this.counterService.refreshCounter();\n\t        });\n\t        this.profileId = this.user.id;\n\t        this.profileName = this.user.first_name;\n\t        this.profileAge = this.user.age;\n\t        this.profileGender = this.user.gender === 'm' ? 'Male' : 'Female';\n\t        this.profileDistance = this.user.distance[0] + \" \" + this.user.distance[1];\n\t        this.profileLocation = this.user.lives_in ? this.user.lives_in : '';\n\t        setTimeout(function () {\n\t            _this.profileLikesCount = 0;\n\t            _this.profileLikes = [];\n\t            var likes = _this.user.likes;\n\t            _this.profileLikes = likes;\n\t            _this.profileLikesCount = _this.profileLikes.length;\n\t            _this.loadingLikes = false;\n\t        });\n\t        this.profileJob = this.user.position && this.user.position.job !== null && this.user.position.company !== null ? this.user.position.job + \" at \" + this.user.position.company : '';\n\t        this.profileAvatar = this.user.image;\n\t        this.profileAbout = this.user.about;\n\t        this.profileScore = this.user.score;\n\t        this.profileNetworks.facebook = \"https://www.facebook.com/app_scoped_user_id/\" + this.user.facebook_id;\n\t        this.profileNetworks.linkedin = this.user.linkedin_provider && this.user.linkedin_provider !== null ? this.user.linkedin_provider : '';\n\t        this.profileNetworks.twitter = this.user.twitter_provider && this.user.twitter_provider !== null ? \"https://twitter.com/\" + this.user.twitter_username : '';\n\t        this.profileOffers = util_1.ObjectUtil.transformSorted(this.user.offers[0]);\n\t        this.profileInterests = util_1.ObjectUtil.transformSorted(this.user.interests[0]);\n\t        this.profileGoals = util_1.ObjectUtil.transformSorted(this.user.goals[0]);\n\t        this.profileInterestsCount = util_1.ObjectUtil.count(this.user.interests[0]);\n\t        this.profileOffersCount = util_1.ObjectUtil.count(this.user.offers[0]);\n\t        this.profileGoalsCount = util_1.ObjectUtil.count(this.user.goals[0]);\n\t        this.profileKeywords = this.user.keywords ? this.user.keywords : [];\n\t        this.profileKeywordsCount = this.user.keywords ? this.user.keywords.length : 0;\n\t        this.getMutualFriends(this.user.id);\n\t        this.getPhotos(this.user.id);\n\t        this.getReligiousViews(this.user.id);\n\t        this.getPoliticalViews(this.user.id);\n\t    };\n\t    ProfileFriendComponent.prototype.getMutualFriends = function (id) {\n\t        var _this = this;\n\t        this.mutualfriendsService.get('', 100, id)\n\t            .subscribe(function (data) { return _this.assignMutualFriends(data); });\n\t    };\n\t    ProfileFriendComponent.prototype.getReligiousViews = function (id) {\n\t        var _this = this;\n\t        this.religiousviewsService.getByUser('', 100, id)\n\t            .subscribe(function (data) { return _this.assignReligiousViews(data); });\n\t    };\n\t    ProfileFriendComponent.prototype.getPoliticalViews = function (id) {\n\t        var _this = this;\n\t        this.politicalviewsService.getByUser('', 100, id)\n\t            .subscribe(function (data) { return _this.assignPoliticalViews(data); }, function (err) { return console.log('Error fetching political views'); }, function () { });\n\t    };\n\t    ProfileFriendComponent.prototype.getPhotos = function (id) {\n\t        var _this = this;\n\t        this.photosService.get('', 6, id)\n\t            .subscribe(function (data) { return _this.assignPhotos(data); });\n\t    };\n\t    ProfileFriendComponent.prototype.assignPhotos = function (data) {\n\t        var _this = this;\n\t        this.profilePhotosCount = 0;\n\t        this.profilePhotos = [];\n\t        setTimeout(function () {\n\t            if (data.meta.total_count > 0) {\n\t                _this.profilePhotos = data.objects.reverse();\n\t                _this.profilePhotosCount = _this.profilePhotos.length;\n\t            }\n\t            _this.loadingPhotos = false;\n\t        });\n\t    };\n\t    ProfileFriendComponent.prototype.assignMutualFriends = function (data) {\n\t        var _this = this;\n\t        this.profileFriendsCount = 0;\n\t        this.profileFriends.mutual_bk_friends = [];\n\t        this.profileFriends.mutual_fb_friends = [];\n\t        this.profileFriends.mutual_linkedin_connections = [];\n\t        this.profileFriends.mutual_twitter_friends = [];\n\t        this.profileFriends.mutual_twitter_followers = [];\n\t        setTimeout(function () {\n\t            if (data.meta.total_count > 0) {\n\t                var items = data.objects[0];\n\t                _this.profileFriendsCount += parseInt(items.mutual_bk_friends_count, 10);\n\t                _this.profileFriendsCount += parseInt(items.mutual_fb_friends_count, 10);\n\t                _this.profileFriendsCount += parseInt(items.mutual_linkedin_connections_count, 10);\n\t                _this.profileFriendsCount += parseInt(items.mutual_twitter_followers_count, 10);\n\t                _this.profileFriendsCount += parseInt(items.mutual_twitter_friends_count, 10);\n\t                _this.profileFriends.mutual_bk_friends = items.mutual_bk_friends;\n\t                _this.profileFriends.mutual_fb_friends = items.mutual_fb_friends;\n\t                _this.profileFriends.mutual_linkedin_connections = items.mutual_linkedin_connections;\n\t                _this.profileFriends.mutual_twitter_friends = items.mutual_twitter_friends;\n\t                _this.profileFriends.mutual_twitter_followers = items.mutual_twitter_followers;\n\t                _this.loadingConnections = false;\n\t            }\n\t        });\n\t    };\n\t    ProfileFriendComponent.prototype.assignReligiousViews = function (data) {\n\t        if (data.meta.total_count > 0) {\n\t            var items = data.objects;\n\t            this.profileReligiousViews = items;\n\t        }\n\t    };\n\t    ProfileFriendComponent.prototype.assignPoliticalViews = function (data) {\n\t        if (data.meta.total_count > 0) {\n\t            var items = data.objects;\n\t            this.profilePoliticalViews = items;\n\t        }\n\t    };\n\t    ProfileFriendComponent.prototype.closeProfile = function (event) {\n\t        this.closeprofileEvent.next(event);\n\t    };\n\t    ProfileFriendComponent.prototype.openMessages = function (event) {\n\t        console.log('open messages');\n\t    };\n\t    ProfileFriendComponent.prototype.eventHandler = function (key) {\n\t        switch (key) {\n\t            case 27:\n\t                this.closeProfile(true);\n\t                break;\n\t            case 37:\n\t                this.previousEvent.next(true);\n\t                break;\n\t            case 39:\n\t                this.nextEvent.next(true);\n\t            default:\n\t                break;\n\t        }\n\t    };\n\t    ProfileFriendComponent.prototype.openGallery = function (event) {\n\t        var remodal = jQuery('[data-remodal-id=modal-gallery]').remodal();\n\t        remodal.open();\n\t        this.galleryActive = true;\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], ProfileFriendComponent.prototype, \"user\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], ProfileFriendComponent.prototype, \"count\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], ProfileFriendComponent.prototype, \"currentIndex\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', core_1.EventEmitter)\n\t    ], ProfileFriendComponent.prototype, \"closeprofileEvent\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', core_1.EventEmitter)\n\t    ], ProfileFriendComponent.prototype, \"nextEvent\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', core_1.EventEmitter)\n\t    ], ProfileFriendComponent.prototype, \"previousEvent\", void 0);\n\t    ProfileFriendComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'profile-friend',\n\t            template: view,\n\t            directives: [\n\t                profile_avatar_component_1.ProfileAvatarComponent,\n\t                profile_about_component_1.ProfileAboutComponent,\n\t                profile_likes_component_1.ProfileLikesComponent,\n\t                profile_friends_component_1.ProfileFriendsComponent,\n\t                profile_networks_component_1.ProfileNetworksComponent,\n\t                profile_items_component_1.ProfileItemsComponent,\n\t                dropdown_directive_1.DropdownDirective,\n\t                loading_component_1.LoadingComponent,\n\t                profile_gallery_component_1.ProfileGalleryComponent,\n\t                remodal_directive_1.RemodalDirective,\n\t                router_1.ROUTER_DIRECTIVES\n\t            ],\n\t            providers: [\n\t                photos_service_1.PhotosService,\n\t                religiousviews_service_1.ReligiousViewsService\n\t            ]\n\t        }), \n\t        __metadata('design:paramtypes', [mutualfriends_service_1.MutualFriendsService, photos_service_1.PhotosService, religiousviews_service_1.ReligiousViewsService, politicalviews_service_1.PoliticalViewsService, connections_counter_service_1.ConnectionsCounterService, http_1.Http])\n\t    ], ProfileFriendComponent);\n\t    return ProfileFriendComponent;\n\t}());\n\texports.ProfileFriendComponent = ProfileFriendComponent;\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4), __webpack_require__(5)))\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 6.10d10c64860c23c7cbd3.chunk.js\n **/","\"use strict\";\nvar core_1 = require('angular2/core');\nvar router_1 = require('angular2/router');\nvar http_1 = require('angular2/http');\nvar profile_avatar_component_1 = require('../profile_avatar/profile_avatar.component');\nvar profile_about_component_1 = require('../profile_about/profile_about.component');\nvar profile_likes_component_1 = require('../profile_likes/profile_likes.component');\nvar profile_friends_component_1 = require('../profile_friends/profile_friends.component');\nvar profile_networks_component_1 = require('../profile_networks/profile_networks.component');\nvar profile_items_component_1 = require('../profile_items/profile_items.component');\nvar loading_component_1 = require('../loading/loading.component');\nvar profile_gallery_component_1 = require('../profile_gallery/profile_gallery.component');\nvar dropdown_directive_1 = require('../../directives/dropdown.directive');\nvar remodal_directive_1 = require('../../directives/remodal.directive');\nvar mutualfriends_service_1 = require('../../services/mutualfriends.service');\nvar photos_service_1 = require('../../services/photos.service');\nvar religiousviews_service_1 = require('../../services/religiousviews.service');\nvar politicalviews_service_1 = require('../../services/politicalviews.service');\nvar connections_counter_service_1 = require('../../services/connections_counter.service');\nvar util_1 = require('../../core/util');\nvar view = require('./profile.html');\nvar ProfileFriendComponent = (function () {\n    function ProfileFriendComponent(mutualfriendsService, photosService, religiousviewsService, politicalviewsService, counterService, http) {\n        this.mutualfriendsService = mutualfriendsService;\n        this.photosService = photosService;\n        this.religiousviewsService = religiousviewsService;\n        this.politicalviewsService = politicalviewsService;\n        this.counterService = counterService;\n        this.http = http;\n        this.closeprofileEvent = new core_1.EventEmitter;\n        this.nextEvent = new core_1.EventEmitter;\n        this.previousEvent = new core_1.EventEmitter;\n        this.friendsTitle = 'Mutual Connections';\n        this.profileType = 'friend';\n        this.profileAge = '';\n        this.profileGender = '';\n        this.profileLocation = '';\n        this.profileScore = '';\n        this.profileName = '';\n        this.profileJob = '';\n        this.profileReligiousViews = [];\n        this.profilePoliticalViews = [];\n        this.profileActiveAgo = '2h ago';\n        this.profileDistance = '';\n        this.profileAbout = '';\n        this.profileAvatar = '';\n        this.profilePhotos = [];\n        this.profilePhotosCount = 0;\n        this.profileKeywords = [];\n        this.profileKeywordsCount = 0;\n        this.profileInterests = [];\n        this.profileGoals = [];\n        this.profileOffers = [];\n        this.profileInterestsCount = 0;\n        this.profileGoalsCount = 0;\n        this.profileOffersCount = 0;\n        this.profileLikes = [];\n        this.profileLikesCount = 0;\n        this.profileFriends = {\n            mutual_bk_friends: [],\n            mutual_bk_friends_count: 0,\n            mutual_fb_friends: [],\n            mutual_fb_friends_count: 0,\n            mutual_linkedin_connections: [],\n            mutual_linkedin_connections_count: 0,\n            mutual_twitter_followers: [],\n            mutual_twitter_followers_count: 0,\n            mutual_twitter_friends: [],\n            mutual_twitter_friends_count: 0\n        };\n        this.profileFriendsCount = 0;\n        this.profileNetworks = {\n            facebook: '',\n            twitter: '',\n            linkedin: ''\n        };\n        this.loading = false;\n        this.loadingLikes = false;\n        this.loadingConnections = false;\n        this.loadingPhotos = false;\n        this.galleryActive = false;\n        this.galleryOptions = JSON.stringify({\n            hashTracking: false,\n            closeOnOutsideClick: true\n        });\n    }\n    ProfileFriendComponent.prototype.ngOnDestroy = function () {\n        jQuery(document).off('closed', '.remodal');\n    };\n    ProfileFriendComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        jQuery(document).on('closed', '.remodal', function (e) {\n            _this.galleryActive = false;\n        });\n        setTimeout(function () {\n            jQuery('#userprofile').focus();\n            window.scrollTo(0, 0);\n        });\n    };\n    ProfileFriendComponent.prototype.ngOnChanges = function (values) {\n        if (values.user && values.user.currentValue) {\n            this.assignUser();\n        }\n    };\n    ProfileFriendComponent.prototype.assignUser = function () {\n        var _this = this;\n        this.galleryActive = false;\n        this.loadingConnections = true;\n        this.loadingPhotos = true;\n        this.loadingLikes = true;\n        var url = \"/api/v1/new_connections/updated_at/?format=json&friend_id=\" + this.user.id;\n        this.http.get(url).map(function (res) { return res.json(); }).subscribe(function (data) {\n            _this.counterService.refreshCounter();\n        });\n        this.profileId = this.user.id;\n        this.profileName = this.user.first_name;\n        this.profileAge = this.user.age;\n        this.profileGender = this.user.gender === 'm' ? 'Male' : 'Female';\n        this.profileDistance = this.user.distance[0] + \" \" + this.user.distance[1];\n        this.profileLocation = this.user.lives_in ? this.user.lives_in : '';\n        setTimeout(function () {\n            _this.profileLikesCount = 0;\n            _this.profileLikes = [];\n            var likes = _this.user.likes;\n            _this.profileLikes = likes;\n            _this.profileLikesCount = _this.profileLikes.length;\n            _this.loadingLikes = false;\n        });\n        this.profileJob = this.user.position && this.user.position.job !== null && this.user.position.company !== null ? this.user.position.job + \" at \" + this.user.position.company : '';\n        this.profileAvatar = this.user.image;\n        this.profileAbout = this.user.about;\n        this.profileScore = this.user.score;\n        this.profileNetworks.facebook = \"https://www.facebook.com/app_scoped_user_id/\" + this.user.facebook_id;\n        this.profileNetworks.linkedin = this.user.linkedin_provider && this.user.linkedin_provider !== null ? this.user.linkedin_provider : '';\n        this.profileNetworks.twitter = this.user.twitter_provider && this.user.twitter_provider !== null ? \"https://twitter.com/\" + this.user.twitter_username : '';\n        this.profileOffers = util_1.ObjectUtil.transformSorted(this.user.offers[0]);\n        this.profileInterests = util_1.ObjectUtil.transformSorted(this.user.interests[0]);\n        this.profileGoals = util_1.ObjectUtil.transformSorted(this.user.goals[0]);\n        this.profileInterestsCount = util_1.ObjectUtil.count(this.user.interests[0]);\n        this.profileOffersCount = util_1.ObjectUtil.count(this.user.offers[0]);\n        this.profileGoalsCount = util_1.ObjectUtil.count(this.user.goals[0]);\n        this.profileKeywords = this.user.keywords ? this.user.keywords : [];\n        this.profileKeywordsCount = this.user.keywords ? this.user.keywords.length : 0;\n        this.getMutualFriends(this.user.id);\n        this.getPhotos(this.user.id);\n        this.getReligiousViews(this.user.id);\n        this.getPoliticalViews(this.user.id);\n    };\n    ProfileFriendComponent.prototype.getMutualFriends = function (id) {\n        var _this = this;\n        this.mutualfriendsService.get('', 100, id)\n            .subscribe(function (data) { return _this.assignMutualFriends(data); });\n    };\n    ProfileFriendComponent.prototype.getReligiousViews = function (id) {\n        var _this = this;\n        this.religiousviewsService.getByUser('', 100, id)\n            .subscribe(function (data) { return _this.assignReligiousViews(data); });\n    };\n    ProfileFriendComponent.prototype.getPoliticalViews = function (id) {\n        var _this = this;\n        this.politicalviewsService.getByUser('', 100, id)\n            .subscribe(function (data) { return _this.assignPoliticalViews(data); }, function (err) { return console.log('Error fetching political views'); }, function () { });\n    };\n    ProfileFriendComponent.prototype.getPhotos = function (id) {\n        var _this = this;\n        this.photosService.get('', 6, id)\n            .subscribe(function (data) { return _this.assignPhotos(data); });\n    };\n    ProfileFriendComponent.prototype.assignPhotos = function (data) {\n        var _this = this;\n        this.profilePhotosCount = 0;\n        this.profilePhotos = [];\n        setTimeout(function () {\n            if (data.meta.total_count > 0) {\n                _this.profilePhotos = data.objects.reverse();\n                _this.profilePhotosCount = _this.profilePhotos.length;\n            }\n            _this.loadingPhotos = false;\n        });\n    };\n    ProfileFriendComponent.prototype.assignMutualFriends = function (data) {\n        var _this = this;\n        this.profileFriendsCount = 0;\n        this.profileFriends.mutual_bk_friends = [];\n        this.profileFriends.mutual_fb_friends = [];\n        this.profileFriends.mutual_linkedin_connections = [];\n        this.profileFriends.mutual_twitter_friends = [];\n        this.profileFriends.mutual_twitter_followers = [];\n        setTimeout(function () {\n            if (data.meta.total_count > 0) {\n                var items = data.objects[0];\n                _this.profileFriendsCount += parseInt(items.mutual_bk_friends_count, 10);\n                _this.profileFriendsCount += parseInt(items.mutual_fb_friends_count, 10);\n                _this.profileFriendsCount += parseInt(items.mutual_linkedin_connections_count, 10);\n                _this.profileFriendsCount += parseInt(items.mutual_twitter_followers_count, 10);\n                _this.profileFriendsCount += parseInt(items.mutual_twitter_friends_count, 10);\n                _this.profileFriends.mutual_bk_friends = items.mutual_bk_friends;\n                _this.profileFriends.mutual_fb_friends = items.mutual_fb_friends;\n                _this.profileFriends.mutual_linkedin_connections = items.mutual_linkedin_connections;\n                _this.profileFriends.mutual_twitter_friends = items.mutual_twitter_friends;\n                _this.profileFriends.mutual_twitter_followers = items.mutual_twitter_followers;\n                _this.loadingConnections = false;\n            }\n        });\n    };\n    ProfileFriendComponent.prototype.assignReligiousViews = function (data) {\n        if (data.meta.total_count > 0) {\n            var items = data.objects;\n            this.profileReligiousViews = items;\n        }\n    };\n    ProfileFriendComponent.prototype.assignPoliticalViews = function (data) {\n        if (data.meta.total_count > 0) {\n            var items = data.objects;\n            this.profilePoliticalViews = items;\n        }\n    };\n    ProfileFriendComponent.prototype.closeProfile = function (event) {\n        this.closeprofileEvent.next(event);\n    };\n    ProfileFriendComponent.prototype.openMessages = function (event) {\n        console.log('open messages');\n    };\n    ProfileFriendComponent.prototype.eventHandler = function (key) {\n        switch (key) {\n            case 27:\n                this.closeProfile(true);\n                break;\n            case 37:\n                this.previousEvent.next(true);\n                break;\n            case 39:\n                this.nextEvent.next(true);\n            default:\n                break;\n        }\n    };\n    ProfileFriendComponent.prototype.openGallery = function (event) {\n        var remodal = jQuery('[data-remodal-id=modal-gallery]').remodal();\n        remodal.open();\n        this.galleryActive = true;\n    };\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', Object)\n    ], ProfileFriendComponent.prototype, \"user\", void 0);\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', Object)\n    ], ProfileFriendComponent.prototype, \"count\", void 0);\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', Object)\n    ], ProfileFriendComponent.prototype, \"currentIndex\", void 0);\n    __decorate([\n        core_1.Output(), \n        __metadata('design:type', core_1.EventEmitter)\n    ], ProfileFriendComponent.prototype, \"closeprofileEvent\", void 0);\n    __decorate([\n        core_1.Output(), \n        __metadata('design:type', core_1.EventEmitter)\n    ], ProfileFriendComponent.prototype, \"nextEvent\", void 0);\n    __decorate([\n        core_1.Output(), \n        __metadata('design:type', core_1.EventEmitter)\n    ], ProfileFriendComponent.prototype, \"previousEvent\", void 0);\n    ProfileFriendComponent = __decorate([\n        core_1.Component({\n            selector: 'profile-friend',\n            template: view,\n            directives: [\n                profile_avatar_component_1.ProfileAvatarComponent,\n                profile_about_component_1.ProfileAboutComponent,\n                profile_likes_component_1.ProfileLikesComponent,\n                profile_friends_component_1.ProfileFriendsComponent,\n                profile_networks_component_1.ProfileNetworksComponent,\n                profile_items_component_1.ProfileItemsComponent,\n                dropdown_directive_1.DropdownDirective,\n                loading_component_1.LoadingComponent,\n                profile_gallery_component_1.ProfileGalleryComponent,\n                remodal_directive_1.RemodalDirective,\n                router_1.ROUTER_DIRECTIVES\n            ],\n            providers: [\n                photos_service_1.PhotosService,\n                religiousviews_service_1.ReligiousViewsService\n            ]\n        }), \n        __metadata('design:paramtypes', [mutualfriends_service_1.MutualFriendsService, photos_service_1.PhotosService, religiousviews_service_1.ReligiousViewsService, politicalviews_service_1.PoliticalViewsService, connections_counter_service_1.ConnectionsCounterService, http_1.Http])\n    ], ProfileFriendComponent);\n    return ProfileFriendComponent;\n}());\nexports.ProfileFriendComponent = ProfileFriendComponent;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ts-loader?{\"compilerOptions\":{\"removeComments\":true,\"noEmitHelpers\":true}}!./~/tslint-loader!./src/app/components/profile/profile_friend.component.ts\n ** module id = 424\n ** module chunks = 4 6\n **/"],"sourceRoot":""}