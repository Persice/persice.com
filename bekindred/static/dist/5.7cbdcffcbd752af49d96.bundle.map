{"version":3,"sources":["webpack:///5.7cbdcffcbd752af49d96.chunk.js","webpack:///./src/app/components/profile/profile_loader.ts","webpack:///./src/app/components/profile/profile_view.component.ts"],"names":["webpackJsonp",431,"module","exports","__webpack_require__","__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","core_1","router_1","profile_view_component_1","profile_my_component_1","util_1","ProfileLoader","_loader","_el","_params","username","CookieUtil","getValue","usernameParam","get","prototype","ngOnInit","_this","loadIntoLocation","ProfileMyComponent","then","res","ProfileViewComponent","instance","setUsername","Component","selector","template","directives","DynamicComponentLoader","ElementRef","RouteParams",853,"http_1","profile_avatar_component_1","profile_about_component_1","profile_likes_component_1","profile_friends_component_1","profile_networks_component_1","profile_items_component_1","loading_component_1","profile_acceptpass_component_1","profile_gallery_component_1","profile_service_1","mutualfriends_service_1","friend_service_1","photos_service_1","history_service_1","connections_counter_service_1","dropdown_directive_1","remodal_directive_1","view","mutualfriendsService","profileService","friendService","photosService","historyService","http","counterService","_router","count","friendsTitle","notFound","profileType","profileAge","profileGender","profileLocation","profileScore","profileName","profileJob","profileReligiousViews","profilePoliticalViews","profileActiveAgo","profileDistance","profileAbout","profileAvatar","profilePhotos","profilePhotosCount","profileKeywords","profileKeywordsCount","profileInterests","profileGoals","profileOffers","profileInterestsCount","profileGoalsCount","profileOffersCount","profileLikes","profileLikesCount","profileFriends","mutual_bk_friends","mutual_bk_friends_count","mutual_fb_friends","mutual_fb_friends_count","mutual_linkedin_connections","mutual_linkedin_connections_count","mutual_twitter_followers","mutual_twitter_followers_count","mutual_twitter_friends","mutual_twitter_friends_count","profileFriendsCount","profileNetworks","facebook","twitter","linkedin","loading","loadingLikes","loadingConnections","loadingPhotos","galleryActive","galleryOptions","JSON","stringify","hashTracking","closeOnOutsideClick","jQuery","document","on","e","setTimeout","window","scrollTo","profileServiceInstance","serviceObserver","subscribe","user","data","keys","assignData","focus","loadProfile","connected","updated_at","url","id","map","json","refreshCounter","profileId","first_name","age","gender","distance","lives_in","likes","position","job","company","image","about","score","facebook_id","linkedin_provider","twitter_provider","twitter_username","ObjectUtil","transformSorted","offers","interests","goals","religious_views","concat","religious_view","political_views","political_view","getMutualFriends","getPhotos","assignPhotos","meta","total_count","ListUtil","orderBy","objects","assignMutualFriends","items","parseInt","closeProfile","event","uri","getPrev","parent","navigateByUrl","acceptUser","saveFriendship","passUser","ngOnDestroy","unsubscribe","off","eventHandler","openGallery","remodal","open","ProfileAvatarComponent","ProfileAboutComponent","ProfileLikesComponent","ProfileFriendsComponent","ProfileNetworksComponent","ProfileItemsComponent","ProfileAcceptPassComponent","LoadingComponent","DropdownDirective","ProfileGalleryComponent","RemodalDirective","ROUTER_DIRECTIVES","providers","ProfileService","MutualFriendsService","FriendService","PhotosService","HistoryService","Http","ConnectionsCounterService","Router"],"mappings":"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","file":"5.7cbdcffcbd752af49d96.chunk.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 431:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n\t};\r\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n\t};\r\n\tvar core_1 = __webpack_require__(2);\r\n\tvar router_1 = __webpack_require__(18);\r\n\tvar profile_view_component_1 = __webpack_require__(853);\r\n\tvar profile_my_component_1 = __webpack_require__(432);\r\n\tvar util_1 = __webpack_require__(11);\r\n\tvar ProfileLoader = (function () {\r\n\t    function ProfileLoader(_loader, _el, _params) {\r\n\t        this._loader = _loader;\r\n\t        this._el = _el;\r\n\t        this._params = _params;\r\n\t        this.username = util_1.CookieUtil.getValue('user_username');\r\n\t        this.usernameParam = this._params.get('username');\r\n\t    }\r\n\t    ProfileLoader.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        if (this.username === this.usernameParam) {\r\n\t            this._loader.loadIntoLocation(profile_my_component_1.ProfileMyComponent, this._el, 'child')\r\n\t                .then(function (res) {\r\n\t            });\r\n\t        }\r\n\t        else {\r\n\t            this._loader.loadIntoLocation(profile_view_component_1.ProfileViewComponent, this._el, 'child')\r\n\t                .then(function (res) {\r\n\t                res.instance.setUsername(_this.usernameParam);\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    ProfileLoader = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'profile-loader',\r\n\t            template: \"<div #child></div>\",\r\n\t            directives: [\r\n\t                profile_my_component_1.ProfileMyComponent,\r\n\t                profile_view_component_1.ProfileViewComponent\r\n\t            ]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [core_1.DynamicComponentLoader, core_1.ElementRef, router_1.RouteParams])\r\n\t    ], ProfileLoader);\r\n\t    return ProfileLoader;\r\n\t}());\r\n\texports.ProfileLoader = ProfileLoader;\r\n\n\n/***/ },\n\n/***/ 853:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n\t};\r\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n\t};\r\n\tvar core_1 = __webpack_require__(2);\r\n\tvar router_1 = __webpack_require__(18);\r\n\tvar http_1 = __webpack_require__(80);\r\n\t/** Components */\r\n\tvar profile_avatar_component_1 = __webpack_require__(198);\r\n\tvar profile_about_component_1 = __webpack_require__(197);\r\n\tvar profile_likes_component_1 = __webpack_require__(201);\r\n\tvar profile_friends_component_1 = __webpack_require__(199);\r\n\tvar profile_networks_component_1 = __webpack_require__(202);\r\n\tvar profile_items_component_1 = __webpack_require__(200);\r\n\tvar loading_component_1 = __webpack_require__(24);\r\n\tvar profile_acceptpass_component_1 = __webpack_require__(433);\r\n\tvar profile_gallery_component_1 = __webpack_require__(421);\r\n\t/** Services */\r\n\tvar profile_service_1 = __webpack_require__(208);\r\n\tvar mutualfriends_service_1 = __webpack_require__(123);\r\n\tvar friend_service_1 = __webpack_require__(207);\r\n\tvar photos_service_1 = __webpack_require__(82);\r\n\tvar history_service_1 = __webpack_require__(84);\r\n\tvar connections_counter_service_1 = __webpack_require__(81);\r\n\t/**\r\n\t * Directives\r\n\t */\r\n\tvar dropdown_directive_1 = __webpack_require__(418);\r\n\tvar remodal_directive_1 = __webpack_require__(195);\r\n\t/** Utils */\r\n\tvar util_1 = __webpack_require__(11);\r\n\t/** View */\r\n\tvar view = __webpack_require__(422);\r\n\tvar ProfileViewComponent = (function () {\r\n\t    function ProfileViewComponent(mutualfriendsService, profileService, friendService, photosService, historyService, http, counterService, _router) {\r\n\t        this.mutualfriendsService = mutualfriendsService;\r\n\t        this.profileService = profileService;\r\n\t        this.friendService = friendService;\r\n\t        this.photosService = photosService;\r\n\t        this.historyService = historyService;\r\n\t        this.http = http;\r\n\t        this.counterService = counterService;\r\n\t        this._router = _router;\r\n\t        this.count = 0;\r\n\t        this.friendsTitle = 'Mutual Connections';\r\n\t        this.notFound = false;\r\n\t        this.profileType = 'friend';\r\n\t        this.profileAge = '';\r\n\t        this.profileGender = '';\r\n\t        this.profileLocation = '';\r\n\t        this.profileScore = '';\r\n\t        this.profileName = '';\r\n\t        this.profileJob = '';\r\n\t        this.profileReligiousViews = [];\r\n\t        this.profilePoliticalViews = [];\r\n\t        this.profileActiveAgo = '2h ago';\r\n\t        this.profileDistance = '';\r\n\t        this.profileAbout = '';\r\n\t        this.profileAvatar = '';\r\n\t        this.profilePhotos = [];\r\n\t        this.profilePhotosCount = 0;\r\n\t        this.profileKeywords = [];\r\n\t        this.profileKeywordsCount = 0;\r\n\t        this.profileInterests = [];\r\n\t        this.profileGoals = [];\r\n\t        this.profileOffers = [];\r\n\t        this.profileInterestsCount = 0;\r\n\t        this.profileGoalsCount = 0;\r\n\t        this.profileOffersCount = 0;\r\n\t        this.profileLikes = [];\r\n\t        this.profileLikesCount = 0;\r\n\t        this.profileFriends = {\r\n\t            mutual_bk_friends: [],\r\n\t            mutual_bk_friends_count: 0,\r\n\t            mutual_fb_friends: [],\r\n\t            mutual_fb_friends_count: 0,\r\n\t            mutual_linkedin_connections: [],\r\n\t            mutual_linkedin_connections_count: 0,\r\n\t            mutual_twitter_followers: [],\r\n\t            mutual_twitter_followers_count: 0,\r\n\t            mutual_twitter_friends: [],\r\n\t            mutual_twitter_friends_count: 0\r\n\t        };\r\n\t        this.profileFriendsCount = 0;\r\n\t        this.profileNetworks = {\r\n\t            facebook: '',\r\n\t            twitter: '',\r\n\t            linkedin: ''\r\n\t        };\r\n\t        this.loading = false;\r\n\t        this.loadingLikes = false;\r\n\t        this.loadingConnections = false;\r\n\t        this.loadingPhotos = false;\r\n\t        this.galleryActive = false;\r\n\t        this.galleryOptions = JSON.stringify({\r\n\t            hashTracking: false,\r\n\t            closeOnOutsideClick: true\r\n\t        });\r\n\t    }\r\n\t    ProfileViewComponent.prototype.setUsername = function (username) {\r\n\t        this.username = username;\r\n\t    };\r\n\t    ProfileViewComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        //listen for event when gallery modal is closed\r\n\t        jQuery(document).on('closed', '.remodal', function (e) {\r\n\t            _this.galleryActive = false;\r\n\t        });\r\n\t        setTimeout(function () {\r\n\t            window.scrollTo(0, 0);\r\n\t        });\r\n\t        this.profileServiceInstance = this.profileService.serviceObserver()\r\n\t            .subscribe(function (res) {\r\n\t            _this.user = res.data;\r\n\t            _this.notFound = res.notFound;\r\n\t            _this.loading = res.loading;\r\n\t            if (Object.keys(res.data).length > 0) {\r\n\t                _this.assignData(_this.user);\r\n\t                setTimeout(function () {\r\n\t                    jQuery('#userprofile').focus();\r\n\t                    window.scrollTo(0, 0);\r\n\t                });\r\n\t            }\r\n\t        });\r\n\t        this.profileService.loadProfile(this.username);\r\n\t    };\r\n\t    ProfileViewComponent.prototype.assignData = function (data) {\r\n\t        var _this = this;\r\n\t        this.loadingConnections = true;\r\n\t        this.loadingLikes = true;\r\n\t        this.loadingPhotos = true;\r\n\t        this.profileType = data.connected === true ? 'friend' : 'crowd';\r\n\t        if (this.profileType === 'friend') {\r\n\t            if (data.updated_at === null) {\r\n\t                var url = \"/api/v1/new_connections/updated_at/?format=json&friend_id=\" + data.id;\r\n\t                this.http.get(url).map(function (res) { return res.json(); }).subscribe(function (data) {\r\n\t                    _this.counterService.refreshCounter();\r\n\t                });\r\n\t            }\r\n\t        }\r\n\t        this.profileId = data.id;\r\n\t        this.profileName = data.first_name;\r\n\t        this.profileAge = data.age;\r\n\t        this.profileGender = data.gender === 'm' ? 'Male' : 'Female';\r\n\t        this.profileDistance = data.distance[0] + \" \" + data.distance[1];\r\n\t        this.profileLocation = data.lives_in ? data.lives_in : '';\r\n\t        setTimeout(function () {\r\n\t            _this.profileLikesCount = 0;\r\n\t            _this.profileLikes = [];\r\n\t            var likes = data.likes;\r\n\t            _this.profileLikes = likes;\r\n\t            _this.profileLikesCount = _this.profileLikes.length;\r\n\t            _this.loadingLikes = false;\r\n\t        });\r\n\t        this.profileJob = data.position && data.position.job !== null && data.position.company !== null ? data.position.job + \" at \" + data.position.company : '';\r\n\t        this.profileAvatar = data.image;\r\n\t        this.profileAbout = data.about;\r\n\t        this.profileScore = data.score;\r\n\t        this.profileNetworks.facebook = \"https://www.facebook.com/app_scoped_user_id/\" + data.facebook_id;\r\n\t        this.profileNetworks.linkedin = data.linkedin_provider && data.linkedin_provider !== null ? data.linkedin_provider : '';\r\n\t        this.profileNetworks.twitter = data.twitter_provider && data.twitter_provider !== null ? \"https://twitter.com/\" + data.twitter_username : '';\r\n\t        this.profileOffers = util_1.ObjectUtil.transformSorted(data.offers[0]);\r\n\t        this.profileInterests = util_1.ObjectUtil.transformSorted(data.interests[0]);\r\n\t        this.profileGoals = util_1.ObjectUtil.transformSorted(data.goals[0]);\r\n\t        this.profileInterestsCount = util_1.ObjectUtil.count(data.interests[0]);\r\n\t        this.profileOffersCount = util_1.ObjectUtil.count(data.offers[0]);\r\n\t        this.profileGoalsCount = util_1.ObjectUtil.count(data.goals[0]);\r\n\t        var religious_views = [];\r\n\t        for (var i = 0; i < data.religious_views.length; ++i) {\r\n\t            religious_views = religious_views.concat([{\r\n\t                religious_view: data.religious_views[i]\r\n\t            }]);\r\n\t        }\r\n\t        this.profileReligiousViews = religious_views;\r\n\t        var political_views = [];\r\n\t        for (var i = 0; i < data.political_views.length; ++i) {\r\n\t            political_views = political_views.concat([{\r\n\t                political_view: data.political_views[i]\r\n\t            }]);\r\n\t        }\r\n\t        this.profilePoliticalViews = political_views;\r\n\t        this.getMutualFriends(data.id);\r\n\t        this.getPhotos(data.id);\r\n\t    };\r\n\t    ProfileViewComponent.prototype.getPhotos = function (id) {\r\n\t        var _this = this;\r\n\t        this.photosService.get('', 6, id)\r\n\t            .subscribe(function (data) { return _this.assignPhotos(data); });\r\n\t    };\r\n\t    ProfileViewComponent.prototype.assignPhotos = function (data) {\r\n\t        var _this = this;\r\n\t        this.profilePhotosCount = 0;\r\n\t        this.profilePhotos = [];\r\n\t        setTimeout(function () {\r\n\t            if (data.meta.total_count > 0) {\r\n\t                _this.profilePhotos = util_1.ListUtil.orderBy(data.objects, ['order'], ['asc']);\r\n\t                _this.profilePhotosCount = _this.profilePhotos.length;\r\n\t            }\r\n\t            _this.loadingPhotos = false;\r\n\t        });\r\n\t    };\r\n\t    ProfileViewComponent.prototype.getMutualFriends = function (id) {\r\n\t        var _this = this;\r\n\t        this.mutualfriendsService.get('', 100, id)\r\n\t            .subscribe(function (data) { return _this.assignMutualFriends(data); });\r\n\t    };\r\n\t    ProfileViewComponent.prototype.assignMutualFriends = function (data) {\r\n\t        var _this = this;\r\n\t        this.profileFriendsCount = 0;\r\n\t        this.profileFriends.mutual_bk_friends = [];\r\n\t        this.profileFriends.mutual_fb_friends = [];\r\n\t        this.profileFriends.mutual_linkedin_connections = [];\r\n\t        this.profileFriends.mutual_twitter_friends = [];\r\n\t        this.profileFriends.mutual_twitter_followers = [];\r\n\t        setTimeout(function () {\r\n\t            if (data.meta.total_count > 0) {\r\n\t                var items = data.objects[0];\r\n\t                _this.profileFriendsCount += parseInt(items.mutual_bk_friends_count, 10);\r\n\t                _this.profileFriendsCount += parseInt(items.mutual_fb_friends_count, 10);\r\n\t                _this.profileFriendsCount += parseInt(items.mutual_linkedin_connections_count, 10);\r\n\t                _this.profileFriendsCount += parseInt(items.mutual_twitter_followers_count, 10);\r\n\t                _this.profileFriendsCount += parseInt(items.mutual_twitter_friends_count, 10);\r\n\t                _this.profileFriends.mutual_bk_friends = items.mutual_bk_friends;\r\n\t                _this.profileFriends.mutual_fb_friends = items.mutual_fb_friends;\r\n\t                _this.profileFriends.mutual_linkedin_connections = items.mutual_linkedin_connections;\r\n\t                _this.profileFriends.mutual_twitter_friends = items.mutual_twitter_friends;\r\n\t                _this.profileFriends.mutual_twitter_followers = items.mutual_twitter_followers;\r\n\t                _this.loadingConnections = false;\r\n\t            }\r\n\t        });\r\n\t    };\r\n\t    ProfileViewComponent.prototype.closeProfile = function (event) {\r\n\t        var uri = this.historyService.getPrev();\r\n\t        if (uri !== '') {\r\n\t            this._router.parent.navigateByUrl(uri);\r\n\t        }\r\n\t        else {\r\n\t            this._router.parent.navigateByUrl('/');\r\n\t        }\r\n\t    };\r\n\t    ProfileViewComponent.prototype.acceptUser = function (event) {\r\n\t        var _this = this;\r\n\t        this.friendService.saveFriendship(0, event.user)\r\n\t            .subscribe(function (data) {\r\n\t            _this.closeProfile(true);\r\n\t        });\r\n\t    };\r\n\t    ProfileViewComponent.prototype.passUser = function (event) {\r\n\t        var _this = this;\r\n\t        this.friendService.saveFriendship(-1, event.user)\r\n\t            .subscribe(function (data) {\r\n\t            _this.closeProfile(true);\r\n\t        });\r\n\t    };\r\n\t    ProfileViewComponent.prototype.ngOnDestroy = function () {\r\n\t        if (this.profileServiceInstance) {\r\n\t            this.profileServiceInstance.unsubscribe();\r\n\t        }\r\n\t        jQuery(document).off('closed', '.remodal');\r\n\t    };\r\n\t    ProfileViewComponent.prototype.eventHandler = function (key) {\r\n\t        switch (key) {\r\n\t            case 27:\r\n\t                this.closeProfile(true);\r\n\t                break;\r\n\t            default:\r\n\t                break;\r\n\t        }\r\n\t    };\r\n\t    ProfileViewComponent.prototype.openGallery = function (event) {\r\n\t        var remodal = jQuery('[data-remodal-id=modal-gallery]').remodal();\r\n\t        remodal.open();\r\n\t        this.galleryActive = true;\r\n\t    };\r\n\t    ProfileViewComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'profile-view',\r\n\t            template: view,\r\n\t            directives: [\r\n\t                profile_avatar_component_1.ProfileAvatarComponent,\r\n\t                profile_about_component_1.ProfileAboutComponent,\r\n\t                profile_likes_component_1.ProfileLikesComponent,\r\n\t                profile_friends_component_1.ProfileFriendsComponent,\r\n\t                profile_networks_component_1.ProfileNetworksComponent,\r\n\t                profile_items_component_1.ProfileItemsComponent,\r\n\t                profile_acceptpass_component_1.ProfileAcceptPassComponent,\r\n\t                loading_component_1.LoadingComponent,\r\n\t                dropdown_directive_1.DropdownDirective,\r\n\t                profile_gallery_component_1.ProfileGalleryComponent,\r\n\t                remodal_directive_1.RemodalDirective,\r\n\t                router_1.ROUTER_DIRECTIVES\r\n\t            ],\r\n\t            providers: [\r\n\t                profile_service_1.ProfileService,\r\n\t                mutualfriends_service_1.MutualFriendsService,\r\n\t                friend_service_1.FriendService,\r\n\t                photos_service_1.PhotosService\r\n\t            ]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [mutualfriends_service_1.MutualFriendsService, profile_service_1.ProfileService, friend_service_1.FriendService, photos_service_1.PhotosService, history_service_1.HistoryService, http_1.Http, connections_counter_service_1.ConnectionsCounterService, router_1.Router])\r\n\t    ], ProfileViewComponent);\r\n\t    return ProfileViewComponent;\r\n\t}());\r\n\texports.ProfileViewComponent = ProfileViewComponent;\r\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 5.7cbdcffcbd752af49d96.chunk.js\n **/","import {Component, DynamicComponentLoader, ElementRef} from 'angular2/core';\nimport {RouteParams, Router} from 'angular2/router';\n\nimport {ProfileViewComponent} from './profile_view.component';\nimport {ProfileMyComponent} from './profile_my.component';\n\nimport {CookieUtil} from '../../core/util';\n\n@Component({\n  selector: 'profile-loader',\n  template: `<div #child></div>`,\n  directives: [\n    ProfileMyComponent,\n    ProfileViewComponent\n  ]\n})\nexport class ProfileLoader {\n  username;\n  usernameParam;\n\n  constructor(\n    private _loader: DynamicComponentLoader,\n    private _el: ElementRef,\n    private _params: RouteParams\n    ) {\n    this.username = CookieUtil.getValue('user_username');\n    this.usernameParam = this._params.get('username');\n  }\n\n  ngOnInit() {\n\n    if (this.username === this.usernameParam) {\n      this._loader.loadIntoLocation(ProfileMyComponent, this._el, 'child')\n      .then((res) => {\n\n      });\n    }\n    else {\n      this._loader.loadIntoLocation(ProfileViewComponent, this._el, 'child')\n      .then((res) => {\n        res.instance.setUsername(this.usernameParam);\n      });\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/app/components/profile/profile_loader.ts\n **/","import {Component, Input, Output} from 'angular2/core';\nimport {RouteParams, Router, ROUTER_DIRECTIVES} from 'angular2/router';\nimport {Http} from 'angular2/http';\n\n/** Components */\nimport {ProfileAvatarComponent} from '../profile_avatar/profile_avatar.component';\nimport {ProfileAboutComponent} from '../profile_about/profile_about.component';\nimport {ProfileLikesComponent} from '../profile_likes/profile_likes.component';\nimport {ProfileFriendsComponent} from '../profile_friends/profile_friends.component';\nimport {ProfileNetworksComponent} from '../profile_networks/profile_networks.component';\nimport {ProfileItemsComponent} from '../profile_items/profile_items.component';\nimport {LoadingComponent} from '../loading/loading.component';\nimport {ProfileAcceptPassComponent} from '../profile_acceptpass/profile_acceptpass.component';\nimport {ProfileGalleryComponent} from '../profile_gallery/profile_gallery.component';\n\n/** Services */\nimport {ProfileService} from '../../services/profile.service';\nimport {MutualFriendsService} from '../../services/mutualfriends.service';\nimport {FriendService} from '../../services/friend.service';\nimport {PhotosService} from '../../services/photos.service';\nimport {HistoryService} from '../../services/history.service';\nimport {ConnectionsCounterService} from '../../services/connections_counter.service';\n/**\n * Directives\n */\nimport {DropdownDirective} from '../../directives/dropdown.directive';\nimport {RemodalDirective} from '../../directives/remodal.directive';\n\n\n/** Utils */\nimport {ObjectUtil, ListUtil} from '../../core/util';\n\n/** View */\nlet view = require('./profile.html');\n\n@Component({\n  selector: 'profile-view',\n  template: view,\n  directives: [\n    ProfileAvatarComponent,\n    ProfileAboutComponent,\n    ProfileLikesComponent,\n    ProfileFriendsComponent,\n    ProfileNetworksComponent,\n    ProfileItemsComponent,\n    ProfileAcceptPassComponent,\n    LoadingComponent,\n    DropdownDirective,\n    ProfileGalleryComponent,\n    RemodalDirective,\n    ROUTER_DIRECTIVES\n  ],\n  providers: [\n    ProfileService,\n    MutualFriendsService,\n    FriendService,\n    PhotosService\n  ]\n})\nexport class ProfileViewComponent {\n  user;\n  username;\n  count = 0;\n  friendsTitle: string = 'Mutual Connections';\n  profileServiceInstance;\n  notFound: boolean = false;\n\n  profileId;\n  profileType: string = 'friend';\n  profileAge = '';\n  profileGender = '';\n  profileLocation = '';\n  profileScore = '';\n  profileName = '';\n  profileJob = '';\n  profileReligiousViews = [];\n  profilePoliticalViews = [];\n  profileActiveAgo = '2h ago';\n  profileDistance = '';\n  profileAbout: string = '';\n  profileAvatar: string = '';\n  profilePhotos: any[] = [];\n  profilePhotosCount: number = 0;\n  profileKeywords: any[] = [];\n  profileKeywordsCount: number = 0;\n  profileInterests: any[] = [];\n  profileGoals: any[] = [];\n  profileOffers: any[] = [];\n  profileInterestsCount: number = 0;\n  profileGoalsCount: number = 0;\n  profileOffersCount: number = 0;\n  profileLikes: any[] = [];\n  profileLikesCount: number = 0;\n  profileFriends = {\n    mutual_bk_friends: [],\n    mutual_bk_friends_count: 0,\n    mutual_fb_friends: [],\n    mutual_fb_friends_count: 0,\n    mutual_linkedin_connections: [],\n    mutual_linkedin_connections_count: 0,\n    mutual_twitter_followers: [],\n    mutual_twitter_followers_count: 0,\n    mutual_twitter_friends: [],\n    mutual_twitter_friends_count: 0\n  };\n  profileFriendsCount: number = 0;\n  profileNetworks = {\n    facebook: '',\n    twitter: '',\n    linkedin: ''\n  };\n  loading: boolean = false;\n  loadingLikes: boolean = false;\n  loadingConnections: boolean = false;\n  loadingPhotos: boolean = false;\n\n  galleryActive = false;\n  galleryOptions = JSON.stringify({\n    hashTracking: false,\n    closeOnOutsideClick: true\n  });\n\n  constructor(\n    private mutualfriendsService: MutualFriendsService,\n    private profileService: ProfileService,\n    private friendService: FriendService,\n    private photosService: PhotosService,\n    private historyService: HistoryService,\n    private http: Http,\n    private counterService: ConnectionsCounterService,\n    private _router: Router\n  ) {\n\n  }\n\n  setUsername(username) {\n    this.username = username;\n  }\n\n\n\n  ngOnInit() {\n\n    //listen for event when gallery modal is closed\n    jQuery(document).on('closed', '.remodal', (e) => {\n      this.galleryActive = false;\n    });\n\n\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    });\n\n    this.profileServiceInstance = this.profileService.serviceObserver()\n      .subscribe((res) => {\n        this.user = res.data;\n        this.notFound = res.notFound;\n        this.loading = res.loading;\n        if (Object.keys(res.data).length > 0) {\n          this.assignData(this.user);\n          setTimeout(() => {\n            jQuery('#userprofile').focus();\n            window.scrollTo(0, 0);\n          });\n        }\n\n      });\n\n    this.profileService.loadProfile(this.username);\n  }\n\n  assignData(data) {\n    this.loadingConnections = true;\n    this.loadingLikes = true;\n    this.loadingPhotos = true;\n\n    this.profileType = data.connected === true ? 'friend' : 'crowd';\n\n    if (this.profileType === 'friend') {\n      if (data.updated_at === null) {\n        let url = `/api/v1/new_connections/updated_at/?format=json&friend_id=${data.id}`;\n        this.http.get(url).map(res => res.json()).subscribe(data => {\n          this.counterService.refreshCounter();\n        });\n      }\n    }\n\n    this.profileId = data.id;\n    this.profileName = data.first_name;\n    this.profileAge = data.age;\n    this.profileGender = data.gender === 'm' ? 'Male' : 'Female';\n    this.profileDistance = `${data.distance[0]} ${data.distance[1]}`;\n    this.profileLocation = data.lives_in ? data.lives_in : '';\n\n\n    setTimeout(() => {\n      this.profileLikesCount = 0;\n      this.profileLikes = [];\n      let likes = data.likes;\n      this.profileLikes = likes;\n      this.profileLikesCount = this.profileLikes.length;\n      this.loadingLikes = false;\n\n    });\n\n    this.profileJob = data.position && data.position.job !== null && data.position.company !== null ? `${data.position.job} at ${data.position.company}` : '';\n\n    this.profileAvatar = data.image;\n    this.profileAbout = data.about;\n    this.profileScore = data.score;\n\n    this.profileNetworks.facebook = `https://www.facebook.com/app_scoped_user_id/${data.facebook_id}`;\n    this.profileNetworks.linkedin = data.linkedin_provider && data.linkedin_provider !== null ? data.linkedin_provider : '';\n    this.profileNetworks.twitter = data.twitter_provider && data.twitter_provider !== null ? `https://twitter.com/${data.twitter_username}` : '';\n\n    this.profileOffers = ObjectUtil.transformSorted(data.offers[0]);\n    this.profileInterests = ObjectUtil.transformSorted(data.interests[0]);\n    this.profileGoals = ObjectUtil.transformSorted(data.goals[0]);\n    this.profileInterestsCount = ObjectUtil.count(data.interests[0]);\n    this.profileOffersCount = ObjectUtil.count(data.offers[0]);\n    this.profileGoalsCount = ObjectUtil.count(data.goals[0]);\n\n\n    let religious_views = [];\n    for (var i = 0; i < data.religious_views.length; ++i) {\n      religious_views = [...religious_views, {\n        religious_view: data.religious_views[i]\n      }];\n    }\n    this.profileReligiousViews = religious_views;\n\n\n    let political_views = [];\n    for (var i = 0; i < data.political_views.length; ++i) {\n      political_views = [...political_views, {\n        political_view: data.political_views[i]\n      }];\n    }\n    this.profilePoliticalViews = political_views;\n\n\n\n    this.getMutualFriends(data.id);\n    this.getPhotos(data.id);\n  }\n\n\n  getPhotos(id) {\n    this.photosService.get('', 6, id)\n      .subscribe(data => this.assignPhotos(data));\n  }\n\n  assignPhotos(data) {\n    this.profilePhotosCount = 0;\n    this.profilePhotos = [];\n    setTimeout(() => {\n      if (data.meta.total_count > 0) {\n        this.profilePhotos = ListUtil.orderBy(data.objects, ['order'], ['asc']);\n        this.profilePhotosCount = this.profilePhotos.length;\n      }\n      this.loadingPhotos = false;\n    });\n\n  }\n\n  getMutualFriends(id) {\n    this.mutualfriendsService.get('', 100, id)\n      .subscribe((data) => this.assignMutualFriends(data));\n  }\n\n  assignMutualFriends(data) {\n    this.profileFriendsCount = 0;\n    this.profileFriends.mutual_bk_friends = [];\n    this.profileFriends.mutual_fb_friends = [];\n    this.profileFriends.mutual_linkedin_connections = [];\n    this.profileFriends.mutual_twitter_friends = [];\n    this.profileFriends.mutual_twitter_followers = [];\n    setTimeout(() => {\n      if (data.meta.total_count > 0) {\n        let items = data.objects[0];\n        this.profileFriendsCount += parseInt(items.mutual_bk_friends_count, 10);\n        this.profileFriendsCount += parseInt(items.mutual_fb_friends_count, 10);\n        this.profileFriendsCount += parseInt(items.mutual_linkedin_connections_count, 10);\n        this.profileFriendsCount += parseInt(items.mutual_twitter_followers_count, 10);\n        this.profileFriendsCount += parseInt(items.mutual_twitter_friends_count, 10);\n\n        this.profileFriends.mutual_bk_friends = items.mutual_bk_friends;\n        this.profileFriends.mutual_fb_friends = items.mutual_fb_friends;\n        this.profileFriends.mutual_linkedin_connections = items.mutual_linkedin_connections;\n        this.profileFriends.mutual_twitter_friends = items.mutual_twitter_friends;\n        this.profileFriends.mutual_twitter_followers = items.mutual_twitter_followers;\n        this.loadingConnections = false;\n      }\n    });\n  }\n\n\n  closeProfile(event) {\n    let uri = this.historyService.getPrev();\n    if (uri !== '') {\n      this._router.parent.navigateByUrl(uri);\n    }\n    else {\n      this._router.parent.navigateByUrl('/');\n    }\n\n  }\n\n  acceptUser(event) {\n    this.friendService.saveFriendship(0, event.user)\n      .subscribe(data => {\n        this.closeProfile(true);\n      });\n\n  }\n\n  passUser(event) {\n    this.friendService.saveFriendship(-1, event.user)\n      .subscribe(data => {\n        this.closeProfile(true);\n      });\n\n  }\n\n\n  ngOnDestroy() {\n    if (this.profileServiceInstance) {\n      this.profileServiceInstance.unsubscribe();\n    }\n\n    jQuery(document).off('closed', '.remodal');\n\n  }\n\n  eventHandler(key) {\n    switch (key) {\n      case 27: //escape\n        this.closeProfile(true);\n        break;\n      default:\n        break;\n    }\n  }\n\n  openGallery(event) {\n    let remodal = jQuery('[data-remodal-id=modal-gallery]').remodal();\n    remodal.open();\n    this.galleryActive = true;\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/app/components/profile/profile_view.component.ts\n **/"],"sourceRoot":""}