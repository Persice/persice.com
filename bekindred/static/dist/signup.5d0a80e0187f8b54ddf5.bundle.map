{"version":3,"sources":["webpack:///signup.5d0a80e0187f8b54ddf5.bundle.js","webpack:///./src/signup/components/signup.component.ts","webpack:///./src/signup/components/signup.html","webpack:///./src/signup/components/signup_connect/signup_connect.component.ts","webpack:///./src/signup/components/signup_connect/signup_connect.html","webpack:///./src/signup/components/signup_goals/signup_goals.component.ts","webpack:///./src/signup/components/signup_goals/signup_goals.html","webpack:///./src/signup/components/signup_header/signup_header.component.ts","webpack:///./src/signup/components/signup_header/signup_header.html","webpack:///./src/signup/components/signup_interests/signup_interests.component.ts","webpack:///./src/signup/components/signup_interests/signup_interests.html","webpack:///./src/signup/components/signup_offers/signup_offers.component.ts","webpack:///./src/signup/components/signup_offers/signup_offers.html","webpack:///./src/signup/main.ts"],"names":["webpackJsonp",473,"module","exports","__webpack_require__","__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","core_1","router_1","signup_interests_component_1","signup_goals_component_1","signup_offers_component_1","signup_connect_component_1","signup_header_component_1","interests_service_1","keywords_service_1","goals_service_1","offers_service_1","userauth_service_1","onboarding_service_1","warning_service_1","view","SignupComponent","router","location","goalsService","offersService","interestsService","userAuthService","onboardingService","warningService","_this","page","cGoa","cOff","cInt","showSkip","nextStep","nextTitle","is_complete","notificationMain","body","title","active","type","subs","subscribe","path","unsubscribe","myElem1","counter","message","onCounterChanged","count","push","myElem2","myElem3","onRouteChanged","prototype","ngOnInit","findOneByUri","data","res","goals","offers","interests","onboardingflow","ngOnDestroy","next","event","navigate","completeOnboarding","skip","complete","window","href","err","ViewChild","SignupInterestsComponent","SignupGoalsComponent","SignupOffersComponent","Component","template","selector","directives","SignupHeaderComponent","ROUTER_DIRECTIVES","providers","InterestsService","GoalsService","OffersService","KeywordsService","UserAuthService","OnboardingService","WarningService","RouteConfig","redirectTo","component","name","SignupConnectComponent","Router","Location",515,474,"service","_ngZone","connectStatus","twitter","connected","username","url","linkedin","getConnectStatus","jQuery","on","e","refreshConnectInfo","run","toggle","provider","disconnect","connect","w","h","dualScreenLeft","screenLeft","dualScreenTop","screenTop","width","innerWidth","document","documentElement","clientWidth","screen","height","innerHeight","clientHeight","left","top","settings","newWindow","open","focus","openUrl","win","NgZone",516,475,"lodash_1","loading_component_1","EventEmitter","items","loading","isListEmpty","limit","query","total_count","offset","newGoal","saveLoading","initializeTokenInput","getList","typeahead","keywordsEngine","Bloodhound","remote","filter","x","map","objects","item","description","wildcard","datumTokenizer","tokenizers","whitespace","queryTokenizer","initialize","hint","highlight","minLength","source","bind","ev","suggestion","saveGoal","goal","status","save","newItem","error","JSON","parse","_body","inputChanged","which","addGoal","removeGoal","idx","findIndex","delete","resource_uri","splice","get","assignList","refreshList","scrollTop","meta","more","handleScrollEvent","unbind","scrollOffset","threshold","scrollHeight","Output","LoadingComponent",517,476,"Input",518,477,"keywordsService","newInterest","showWarning","userInterest","userInterestCounter","observer","saveInterest","interest","interest_resource","interest_subject","addInterest","mergeMap","console","log","j","onInterestClick",519,478,"newOffer","routerOnActivate","prev","urlPath","saveOffer","offer","addOffer","removeOffer","CanActivate",520,0,"main","browser","bootstrap","signup_component_1","APP_PROVIDERS","catch","bootstrapDomReady","addEventListener","ngCore","common_1","http_1","services_1","ENV_PROVIDERS","enableProdMode","ELEMENT_PROBE_PROVIDERS_PROD_MODE","http_client_1","UNIVERSAL_PROVIDERS","concat","ROUTER_PROVIDERS","FORM_PROVIDERS","HTTP_PROVIDERS","JSONP_PROVIDERS","HttpClient","APP_SERVICES_PROVIDERS","PLATFORM_PROVIDERS","provide","LocationStrategy","useClass","PathLocationStrategy","ROUTER_PRIMARY_COMPONENT","useValue","APP_BASE_HREF"],"mappings":"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","file":"signup.5d0a80e0187f8b54ddf5.bundle.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 473:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n\t};\r\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n\t};\r\n\tvar core_1 = __webpack_require__(2);\r\n\tvar router_1 = __webpack_require__(19);\r\n\tvar signup_interests_component_1 = __webpack_require__(477);\r\n\tvar signup_goals_component_1 = __webpack_require__(475);\r\n\tvar signup_offers_component_1 = __webpack_require__(478);\r\n\tvar signup_connect_component_1 = __webpack_require__(474);\r\n\tvar signup_header_component_1 = __webpack_require__(476);\r\n\tvar interests_service_1 = __webpack_require__(63);\r\n\tvar keywords_service_1 = __webpack_require__(45);\r\n\tvar goals_service_1 = __webpack_require__(62);\r\n\tvar offers_service_1 = __webpack_require__(65);\r\n\tvar userauth_service_1 = __webpack_require__(44);\r\n\tvar onboarding_service_1 = __webpack_require__(134);\r\n\tvar warning_service_1 = __webpack_require__(89);\r\n\tvar view = __webpack_require__(515);\r\n\tvar SignupComponent = (function () {\r\n\t    function SignupComponent(router, location, goalsService, offersService, interestsService, userAuthService, onboardingService, warningService) {\r\n\t        var _this = this;\r\n\t        this.goalsService = goalsService;\r\n\t        this.offersService = offersService;\r\n\t        this.interestsService = interestsService;\r\n\t        this.userAuthService = userAuthService;\r\n\t        this.onboardingService = onboardingService;\r\n\t        this.warningService = warningService;\r\n\t        this.page = 1;\r\n\t        this.cGoa = 0;\r\n\t        this.cOff = 0;\r\n\t        this.cInt = 0;\r\n\t        this.showSkip = false;\r\n\t        this.nextStep = 'SignupGoals';\r\n\t        this.nextTitle = 'Next';\r\n\t        this.is_complete = null;\r\n\t        this.notificationMain = {\r\n\t            body: '',\r\n\t            title: '',\r\n\t            active: false,\r\n\t            type: ''\r\n\t        };\r\n\t        this.router = router;\r\n\t        this.location = location;\r\n\t        var subs = null;\r\n\t        this.router.subscribe(function (path) {\r\n\t            if (subs) {\r\n\t                subs.unsubscribe();\r\n\t                subs = null;\r\n\t            }\r\n\t            if (_this.myElem1) {\r\n\t                subs = _this.myElem1.counter.subscribe(function (message) {\r\n\t                    _this.onCounterChanged(message);\r\n\t                    if (message.count >= 3) {\r\n\t                        _this.warningService.push(false);\r\n\t                    }\r\n\t                });\r\n\t            }\r\n\t            if (_this.myElem2) {\r\n\t                subs = _this.myElem2.counter.subscribe(function (message) { return _this.onCounterChanged(message); });\r\n\t            }\r\n\t            if (_this.myElem3) {\r\n\t                subs = _this.myElem3.counter.subscribe(function (message) { return _this.onCounterChanged(message); });\r\n\t            }\r\n\t            _this.onRouteChanged(path);\r\n\t        });\r\n\t    }\r\n\t    SignupComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        this.userAuthService.findOneByUri('me').subscribe(function (data) {\r\n\t            var res = data;\r\n\t            _this.cGoa = res.goals.length;\r\n\t            _this.cOff = res.offers.length;\r\n\t            _this.cInt = res.interests.length;\r\n\t            _this.is_complete = res.onboardingflow;\r\n\t        });\r\n\t    };\r\n\t    SignupComponent.prototype.ngOnDestroy = function () {\r\n\t    };\r\n\t    SignupComponent.prototype.onRouteChanged = function (path) {\r\n\t        switch (path) {\r\n\t            case 'interests':\r\n\t                this.page = 1;\r\n\t                this.showSkip = false;\r\n\t                this.nextStep = 'SignupGoals';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t            case 'goals':\r\n\t                this.page = 2;\r\n\t                this.showSkip = true;\r\n\t                this.nextStep = 'SignupOffers';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t            case 'offers':\r\n\t                this.page = 3;\r\n\t                this.showSkip = true;\r\n\t                this.nextStep = 'SignupConnect';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t            case 'connect':\r\n\t                this.page = 4;\r\n\t                this.showSkip = true;\r\n\t                this.nextStep = null;\r\n\t                this.nextTitle = 'Go!';\r\n\t                break;\r\n\t            default:\r\n\t                this.page = 1;\r\n\t                this.showSkip = false;\r\n\t                this.nextStep = 'SignupGoals';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.next = function (event) {\r\n\t        if (this.nextStep) {\r\n\t            switch (this.nextStep) {\r\n\t                case 'SignupGoals':\r\n\t                    //check if user selected less than 3 interests\r\n\t                    if (this.cInt < 3) {\r\n\t                        this.warningService.push(true);\r\n\t                        return;\r\n\t                    }\r\n\t                    else {\r\n\t                        this.warningService.push(false);\r\n\t                    }\r\n\t                    break;\r\n\t                default:\r\n\t                    break;\r\n\t            }\r\n\t            this.router.navigate([this.nextStep]);\r\n\t        }\r\n\t        else {\r\n\t            this.completeOnboarding();\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.skip = function (event) {\r\n\t        if (this.nextStep) {\r\n\t            this.router.navigate([this.nextStep]);\r\n\t        }\r\n\t        else {\r\n\t            this.completeOnboarding();\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.completeOnboarding = function () {\r\n\t        if (this.is_complete === null) {\r\n\t            this.onboardingService.complete().subscribe(function (data) {\r\n\t                window.location.href = '/crowd/';\r\n\t            }, function (err) {\r\n\t            }, function () {\r\n\t            });\r\n\t        }\r\n\t        else {\r\n\t            window.location.href = '/crowd/';\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.onCounterChanged = function (event) {\r\n\t        switch (event.type) {\r\n\t            case 'interests':\r\n\t                this.cInt = event.count;\r\n\t                break;\r\n\t            case 'goals':\r\n\t                this.cGoa = event.count;\r\n\t                break;\r\n\t            case 'offers':\r\n\t                this.cOff = event.count;\r\n\t                break;\r\n\t            default:\r\n\t                break;\r\n\t        }\r\n\t    };\r\n\t    __decorate([\r\n\t        core_1.ViewChild(signup_interests_component_1.SignupInterestsComponent), \r\n\t        __metadata('design:type', signup_interests_component_1.SignupInterestsComponent)\r\n\t    ], SignupComponent.prototype, \"myElem1\", void 0);\r\n\t    __decorate([\r\n\t        core_1.ViewChild(signup_goals_component_1.SignupGoalsComponent), \r\n\t        __metadata('design:type', signup_goals_component_1.SignupGoalsComponent)\r\n\t    ], SignupComponent.prototype, \"myElem2\", void 0);\r\n\t    __decorate([\r\n\t        core_1.ViewChild(signup_offers_component_1.SignupOffersComponent), \r\n\t        __metadata('design:type', signup_offers_component_1.SignupOffersComponent)\r\n\t    ], SignupComponent.prototype, \"myElem3\", void 0);\r\n\t    SignupComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            template: view,\r\n\t            selector: 'persice-signup',\r\n\t            directives: [\r\n\t                signup_header_component_1.SignupHeaderComponent,\r\n\t                router_1.ROUTER_DIRECTIVES\r\n\t            ],\r\n\t            providers: [\r\n\t                interests_service_1.InterestsService,\r\n\t                goals_service_1.GoalsService,\r\n\t                offers_service_1.OffersService,\r\n\t                keywords_service_1.KeywordsService,\r\n\t                userauth_service_1.UserAuthService,\r\n\t                onboarding_service_1.OnboardingService,\r\n\t                warning_service_1.WarningService\r\n\t            ]\r\n\t        }),\r\n\t        router_1.RouteConfig([\r\n\t            {\r\n\t                path: '/',\r\n\t                redirectTo: ['SignupInterests']\r\n\t            },\r\n\t            {\r\n\t                path: '/interests',\r\n\t                component: signup_interests_component_1.SignupInterestsComponent,\r\n\t                name: 'SignupInterests',\r\n\t                data: { page: 1 }\r\n\t            },\r\n\t            {\r\n\t                path: '/goals',\r\n\t                component: signup_goals_component_1.SignupGoalsComponent,\r\n\t                name: 'SignupGoals',\r\n\t                data: { page: 2 }\r\n\t            },\r\n\t            {\r\n\t                path: '/offers',\r\n\t                component: signup_offers_component_1.SignupOffersComponent,\r\n\t                name: 'SignupOffers',\r\n\t                data: { page: 3 }\r\n\t            },\r\n\t            {\r\n\t                path: '/connect',\r\n\t                component: signup_connect_component_1.SignupConnectComponent,\r\n\t                name: 'SignupConnect',\r\n\t                data: { page: 4 }\r\n\t            }\r\n\t        ]), \r\n\t        __metadata('design:paramtypes', [router_1.Router, router_1.Location, goals_service_1.GoalsService, offers_service_1.OffersService, interests_service_1.InterestsService, userauth_service_1.UserAuthService, onboarding_service_1.OnboardingService, warning_service_1.WarningService])\r\n\t    ], SignupComponent);\r\n\t    return SignupComponent;\r\n\t}());\r\n\texports.SignupComponent = SignupComponent;\r\n\n\n/***/ },\n\n/***/ 515:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"signup\\\">\\n  <signup-header [nextTitle]=\\\"nextTitle\\\" [showSkip]=\\\"showSkip\\\" (skip)=\\\"skip($event)\\\" (next)=\\\"next($event)\\\" [page]=\\\"page\\\" [counterInterests]=\\\"cInt\\\" [counterOffers]=\\\"cOff\\\" [counterGoals]=\\\"cGoa\\\"></signup-header>\\n  <div class=\\\"signup__content\\\">\\n    <ul class=\\\"signup-pager\\\">\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 1, 'signup-pager__completed': page >= 2}\\\">1</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 2,'signup-pager__completed': page >= 3}\\\">2</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 3, 'signup-pager__completed': page === 4}\\\">3</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 4}\\\">4</li>\\n    </ul>\\n    <router-outlet></router-outlet>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 474:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n\t};\r\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n\t};\r\n\tvar core_1 = __webpack_require__(2);\r\n\tvar userauth_service_1 = __webpack_require__(44);\r\n\tvar view = __webpack_require__(516);\r\n\tvar SignupConnectComponent = (function () {\r\n\t    function SignupConnectComponent(service, _ngZone) {\r\n\t        this.service = service;\r\n\t        this._ngZone = _ngZone;\r\n\t        this.connectStatus = {\r\n\t            twitter: {\r\n\t                connected: false,\r\n\t                username: 'Your twitter account',\r\n\t                url: ''\r\n\t            },\r\n\t            linkedin: {\r\n\t                connected: false,\r\n\t                username: 'Your linkedin account',\r\n\t                url: ''\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t    SignupConnectComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        this.getConnectStatus();\r\n\t        jQuery('.connect-media').on('persice:refreshConnect', function (e) {\r\n\t            _this.refreshConnectInfo();\r\n\t        });\r\n\t    };\r\n\t    SignupConnectComponent.prototype.refreshConnectInfo = function () {\r\n\t        var _this = this;\r\n\t        this.service.findOneByUri('me').subscribe(function (data) {\r\n\t            _this.getConnectStatus();\r\n\t        });\r\n\t    };\r\n\t    SignupConnectComponent.prototype.getConnectStatus = function () {\r\n\t        var _this = this;\r\n\t        this._ngZone.run(function () {\r\n\t            _this.connectStatus = _this.service.getConnectStatus();\r\n\t        });\r\n\t    };\r\n\t    SignupConnectComponent.prototype.toggle = function (provider) {\r\n\t        if (this.connectStatus[provider].connected) {\r\n\t            this.disconnect(provider);\r\n\t        }\r\n\t        else {\r\n\t            this.connect(provider);\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent.prototype.connect = function (provider) {\r\n\t        var w = 400;\r\n\t        var h = 300;\r\n\t        var dualScreenLeft = window.screenLeft;\r\n\t        var dualScreenTop = window.screenTop;\r\n\t        var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\r\n\t        var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\r\n\t        var left = ((width / 2) - (w / 2)) + dualScreenLeft;\r\n\t        var top = ((height / 2) - (h / 2)) + dualScreenTop;\r\n\t        var settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\r\n\t        var url = '/social/associate/' + provider + '/?next=/goals/close_login_popup/';\r\n\t        var newWindow = window.open(url, \"Connecting your \" + provider + \" account...\", settings);\r\n\t        if (window.focus) {\r\n\t            newWindow.focus();\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent.prototype.disconnect = function (provider) {\r\n\t        var w = 400;\r\n\t        var h = 300;\r\n\t        var dualScreenLeft = window.screenLeft;\r\n\t        var dualScreenTop = window.screenTop;\r\n\t        var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\r\n\t        var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\r\n\t        var left = ((width / 2) - (w / 2)) + dualScreenLeft;\r\n\t        var top = ((height / 2) - (h / 2)) + dualScreenTop;\r\n\t        var settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\r\n\t        var url = '/social/disconnect/' + provider + '/?next=/goals/close_login_popup/';\r\n\t        var newWindow = window.open(url, \"Disconnecting your \" + provider + \" account...\", settings);\r\n\t        if (window.focus) {\r\n\t            newWindow.focus();\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent.prototype.openUrl = function (provider) {\r\n\t        if (this.connectStatus[provider].connected) {\r\n\t            var win = window.open(this.connectStatus[provider].url, '_blank');\r\n\t            win.focus();\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'signup-connect',\r\n\t            template: view\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [userauth_service_1.UserAuthService, core_1.NgZone])\r\n\t    ], SignupConnectComponent);\r\n\t    return SignupConnectComponent;\r\n\t}());\r\n\texports.SignupConnectComponent = SignupConnectComponent;\r\n\n\n/***/ },\n\n/***/ 516:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title mb mt+\\\">Connect your LinkedIn and <br> Twitter accounts</h2>\\n<p class=\\\"signup-step__subtitle\\\">\\n  This will improve your match results within the Persice community.\\n  <br>\\n  <svg role=\\\"img\\\" class=\\\"icon\\\">\\n    <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-lock\\\"></use>\\n  </svg> Persice will never share your information or post on your behalf.\\n</p>\\n<ul class=\\\"connect-media\\\">\\n  <li>\\n    <div (click)=\\\"openUrl('twitter')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.twitter.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--twitter\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-twitter-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--twitter\\\">twitter</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.twitter.connected}\\\">{{connectStatus.twitter.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('twitter')\\\" [ngClass]=\\\"{'is-active': connectStatus.twitter.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--twitter btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n  <li>\\n    <div (click)=\\\"openUrl('linkedin')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.linkedin.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--linkedin\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-linkedin-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--linkedin\\\">linkedin</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.linkedin.connected}\\\">{{connectStatus.linkedin.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('linkedin')\\\" [ngClass]=\\\"{'is-active': connectStatus.linkedin.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--linkedin btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n</ul>\\n<a class=\\\"mr\\\" href=\\\"#\\\"></a>\\n<a href=\\\"#\\\"></a>\\n\"\n\n/***/ },\n\n/***/ 475:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n\t};\r\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n\t};\r\n\tvar core_1 = __webpack_require__(2);\r\n\tvar lodash_1 = __webpack_require__(21);\r\n\tvar goals_service_1 = __webpack_require__(62);\r\n\tvar loading_component_1 = __webpack_require__(24);\r\n\tvar view = __webpack_require__(517);\r\n\tvar SignupGoalsComponent = (function () {\r\n\t    function SignupGoalsComponent(goalsService) {\r\n\t        this.goalsService = goalsService;\r\n\t        this.counter = new core_1.EventEmitter();\r\n\t        this.items = [];\r\n\t        this.loading = false;\r\n\t        this.isListEmpty = false;\r\n\t        this.limit = 12;\r\n\t        this.query = '';\r\n\t        this.next = '';\r\n\t        this.total_count = 0;\r\n\t        this.offset = 0;\r\n\t        this.newGoal = '';\r\n\t        this.saveLoading = false;\r\n\t    }\r\n\t    SignupGoalsComponent.prototype.ngOnInit = function () {\r\n\t        this.initializeTokenInput();\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.ngOnDestroy = function () {\r\n\t        jQuery('#goalsInput').typeahead('destroy');\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.initializeTokenInput = function () {\r\n\t        var _this = this;\r\n\t        var keywordsEngine = new Bloodhound({\r\n\t            remote: {\r\n\t                url: '/api/v1/subject/?format=json&description__icontains=%QUERY',\r\n\t                filter: function (x) {\r\n\t                    return jQuery.map(x.objects, function (item) {\r\n\t                        return item.description;\r\n\t                    });\r\n\t                },\r\n\t                wildcard: '%QUERY'\r\n\t            },\r\n\t            datumTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t            queryTokenizer: Bloodhound.tokenizers.whitespace\r\n\t        });\r\n\t        keywordsEngine.initialize();\r\n\t        jQuery('#goalsInput').typeahead({\r\n\t            hint: false,\r\n\t            highlight: true,\r\n\t            minLength: 2,\r\n\t            limit: 20\r\n\t        }, {\r\n\t            source: keywordsEngine\r\n\t        });\r\n\t        jQuery('#goalsInput').bind('typeahead:select', function (ev, suggestion) {\r\n\t            if (_this.saveLoading) {\r\n\t                return;\r\n\t            }\r\n\t            _this.saveLoading = true;\r\n\t            _this.saveGoal(suggestion);\r\n\t        });\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.saveGoal = function (goal) {\r\n\t        var _this = this;\r\n\t        if (goal.length === 0 || goal.length > 100) {\r\n\t            this.status = 'failure';\r\n\t            this.saveLoading = false;\r\n\t            return;\r\n\t        }\r\n\t        this.goalsService.save(goal)\r\n\t            .subscribe(function (res) {\r\n\t            var newItem = res;\r\n\t            _this.items.push(newItem);\r\n\t            _this.status = 'success';\r\n\t            _this.total_count++;\r\n\t            _this.counter.next({\r\n\t                type: 'goals',\r\n\t                count: _this.total_count\r\n\t            });\r\n\t            if (_this.total_count === 0) {\r\n\t                _this.isListEmpty = true;\r\n\t            }\r\n\t            else {\r\n\t                _this.isListEmpty = false;\r\n\t            }\r\n\t            _this.newGoal = '';\r\n\t            jQuery('#goalsInput').typeahead('val', '');\r\n\t            _this.saveLoading = false;\r\n\t        }, function (err) {\r\n\t            var error = JSON.parse(err._body);\r\n\t            if ('goal' in error) {\r\n\t                _this.status = 'failure';\r\n\t            }\r\n\t            _this.saveLoading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.inputChanged = function (event) {\r\n\t        //if key is not enter clear notification\r\n\t        if (event.which !== 13) {\r\n\t            this.status = null;\r\n\t        }\r\n\t        else {\r\n\t            this.addGoal();\r\n\t        }\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.addGoal = function () {\r\n\t        if (this.saveLoading) {\r\n\t            return;\r\n\t        }\r\n\t        this.saveLoading = true;\r\n\t        this.saveGoal(this.newGoal);\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.removeGoal = function (event) {\r\n\t        var _this = this;\r\n\t        var idx = lodash_1.findIndex(this.items, event);\r\n\t        if (this.items[idx]) {\r\n\t            this.goalsService.delete(event.resource_uri)\r\n\t                .subscribe(function (res) {\r\n\t                _this.items.splice(idx, 1);\r\n\t                _this.total_count--;\r\n\t                _this.counter.next({\r\n\t                    type: 'goals',\r\n\t                    count: _this.total_count\r\n\t                });\r\n\t                if (_this.total_count === 0) {\r\n\t                    _this.isListEmpty = true;\r\n\t                }\r\n\t                else {\r\n\t                    _this.isListEmpty = false;\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.getList = function () {\r\n\t        var _this = this;\r\n\t        if (this.next === null)\r\n\t            return;\r\n\t        this.loading = true;\r\n\t        this.goalsService.get(this.next, 100)\r\n\t            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\r\n\t            _this.loading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.refreshList = function () {\r\n\t        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t        this.items.splice(0, this.items.length);\r\n\t        this.isListEmpty = false;\r\n\t        this.next = '';\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.assignList = function (data) {\r\n\t        this.loading = false;\r\n\t        this.total_count = data.meta.total_count;\r\n\t        this.counter.next({\r\n\t            type: 'goals',\r\n\t            count: this.total_count\r\n\t        });\r\n\t        if (this.total_count === 0) {\r\n\t            this.isListEmpty = true;\r\n\t            return;\r\n\t        }\r\n\t        else {\r\n\t            this.isListEmpty = false;\r\n\t        }\r\n\t        if (this.items.length > 0) {\r\n\t            var more = data.objects;\r\n\t            for (var i = 0; i <= more.length - 1; i++) {\r\n\t                this.items.push(more[i]);\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            this.items = data.objects;\r\n\t        }\r\n\t        this.next = data.meta.next;\r\n\t        this.offset = data.meta.offset;\r\n\t        //bind to scroll event to load more data on bottom scroll\r\n\t        if (this.next !== null) {\r\n\t            jQuery('#goals').bind('scroll', this.handleScrollEvent.bind(this));\r\n\t        }\r\n\t        else {\r\n\t            jQuery('#goals').unbind('scroll');\r\n\t        }\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.handleScrollEvent = function (event) {\r\n\t        var scrollOffset = jQuery('#goals').scrollTop() + jQuery('#goals').innerHeight();\r\n\t        var threshold = jQuery('#goals')[0].scrollHeight;\r\n\t        if (this.next && scrollOffset >= threshold) {\r\n\t            if (!this.loading) {\r\n\t                this.getList();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupGoalsComponent.prototype, \"counter\", void 0);\r\n\t    SignupGoalsComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'signup-goals',\r\n\t            template: view,\r\n\t            directives: [\r\n\t                loading_component_1.LoadingComponent\r\n\t            ]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [goals_service_1.GoalsService])\r\n\t    ], SignupGoalsComponent);\r\n\t    return SignupGoalsComponent;\r\n\t}());\r\n\texports.SignupGoalsComponent = SignupGoalsComponent;\r\n\n\n/***/ },\n\n/***/ 517:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title\\\">My goal is to...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newGoal\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"goalsInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few goals here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addGoal($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"goals\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"#item of items\\\">\\n      <a (click)=\\\"removeGoal(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-goals\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Goals\\\" are things you want to achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Learn how to salsa dance\\\" or\\n        <br>\\\"Discover new hiking trails\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 476:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n\t};\r\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n\t};\r\n\tvar core_1 = __webpack_require__(2);\r\n\tvar router_1 = __webpack_require__(19);\r\n\tvar view = __webpack_require__(518);\r\n\tvar SignupHeaderComponent = (function () {\r\n\t    function SignupHeaderComponent() {\r\n\t        this.next = new core_1.EventEmitter();\r\n\t        this.skip = new core_1.EventEmitter();\r\n\t    }\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"counterInterests\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"counterGoals\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"counterOffers\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"page\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"nextTitle\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"showSkip\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupHeaderComponent.prototype, \"next\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupHeaderComponent.prototype, \"skip\", void 0);\r\n\t    SignupHeaderComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'signup-header',\r\n\t            template: view,\r\n\t            directives: [router_1.ROUTER_DIRECTIVES]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [])\r\n\t    ], SignupHeaderComponent);\r\n\t    return SignupHeaderComponent;\r\n\t}());\r\n\texports.SignupHeaderComponent = SignupHeaderComponent;\r\n\n\n/***/ },\n\n/***/ 518:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<header class=\\\"header-signup\\\">\\n  <div class=\\\"layout layout--middle\\\">\\n    <div class=\\\"layout__item 2/3\\\">\\n      <div class=\\\"layout layout--auto\\\">\\n        <div class=\\\"layout__item\\\">\\n          <div class=\\\"header-signup__logo-place\\\">\\n            <a class=\\\"site-logo\\\" href=\\\"/signup\\\">\\n              <img alt=\\\"#\\\" src=\\\"/static/assets/images/logo.svg\\\" class=\\\"site-logo__mark\\\">\\n              <h1 class=\\\"site-logo__type\\\">Persice</h1>\\n            </a>\\n          </div>\\n        </div>\\n        <div class=\\\"layout__item\\\">\\n          <ul class=\\\"header-signup__steps\\\">\\n            <li *ngIf=\\\"page >= 1\\\"><a [routerLink]=\\\"['./SignupInterests']\\\"><b>{{counterInterests}}</b> interests</a></li>\\n            <li *ngIf=\\\"page >= 2\\\"><a [routerLink]=\\\"['./SignupGoals']\\\"><b>{{counterGoals}}</b> goals</a></li>\\n            <li *ngIf=\\\"page >= 3\\\"><a [routerLink]=\\\"['./SignupOffers']\\\"><b>{{counterOffers}}</b> offers</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"layout__item 1/3 text-right pr\\\">\\n      <a *ngIf=\\\"showSkip\\\" (click)=\\\"skip.next($event)\\\" class=\\\"link--darkgrey mr\\\">Skip</a>\\n      <a (click)=\\\"next.next($event)\\\" class=\\\"btn btn-1 btn-1--green btn-1--medium \\\">{{nextTitle}}</a>\\n    </div>\\n  </div>\\n</header>\\n\"\n\n/***/ },\n\n/***/ 477:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n\t};\r\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n\t};\r\n\tvar core_1 = __webpack_require__(2);\r\n\tvar lodash_1 = __webpack_require__(21);\r\n\tvar interests_service_1 = __webpack_require__(63);\r\n\tvar keywords_service_1 = __webpack_require__(45);\r\n\tvar warning_service_1 = __webpack_require__(89);\r\n\tvar loading_component_1 = __webpack_require__(24);\r\n\tvar view = __webpack_require__(519);\r\n\tvar SignupInterestsComponent = (function () {\r\n\t    function SignupInterestsComponent(interestsService, keywordsService, warningService) {\r\n\t        this.interestsService = interestsService;\r\n\t        this.keywordsService = keywordsService;\r\n\t        this.warningService = warningService;\r\n\t        this.counter = new core_1.EventEmitter();\r\n\t        this.items = [];\r\n\t        this.loading = false;\r\n\t        this.isListEmpty = false;\r\n\t        this.limit = 12;\r\n\t        this.query = '';\r\n\t        this.next = '';\r\n\t        this.total_count = 0;\r\n\t        this.offset = 0;\r\n\t        this.newInterest = '';\r\n\t        this.saveLoading = false;\r\n\t        this.showWarning = false;\r\n\t        this.userInterest = [];\r\n\t        this.userInterestCounter = 0;\r\n\t    }\r\n\t    SignupInterestsComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        this.initializeTokenInput();\r\n\t        this.getList();\r\n\t        if (this.subs) {\r\n\t            this.subs.unsubscribe();\r\n\t        }\r\n\t        this.subs = this.warningService.observer().subscribe(function (event) { return _this.showWarning = event; });\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.ngOnDestroy = function () {\r\n\t        if (this.subs) {\r\n\t            this.subs.unsubscribe();\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.initializeTokenInput = function () {\r\n\t        var _this = this;\r\n\t        var keywordsEngine = new Bloodhound({\r\n\t            remote: {\r\n\t                url: '/api/v1/interest_subject/?format=json&description__icontains=%QUERY',\r\n\t                filter: function (x) {\r\n\t                    return jQuery.map(x.objects, function (item) {\r\n\t                        return item.description;\r\n\t                    });\r\n\t                },\r\n\t                wildcard: '%QUERY'\r\n\t            },\r\n\t            datumTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t            queryTokenizer: Bloodhound.tokenizers.whitespace\r\n\t        });\r\n\t        keywordsEngine.initialize();\r\n\t        jQuery('#interestsInput').typeahead({\r\n\t            hint: false,\r\n\t            highlight: true,\r\n\t            minLength: 2,\r\n\t            limit: 20\r\n\t        }, {\r\n\t            source: keywordsEngine\r\n\t        });\r\n\t        jQuery('#interestsInput').bind('typeahead:select', function (ev, suggestion) {\r\n\t            if (_this.saveLoading) {\r\n\t                return;\r\n\t            }\r\n\t            _this.saveLoading = true;\r\n\t            _this.saveInterest(suggestion);\r\n\t        });\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.saveInterest = function (interest) {\r\n\t        var _this = this;\r\n\t        if (interest.length === 0 || interest.length > 100) {\r\n\t            this.status = 'failure';\r\n\t            this.saveLoading = false;\r\n\t            return;\r\n\t        }\r\n\t        var idx = lodash_1.findIndex(this.items, { 'description': interest });\r\n\t        if (this.items[idx]) {\r\n\t            if (!this.items[idx].active) {\r\n\t                this.interestsService.save(this.items[idx].description)\r\n\t                    .subscribe(function (res) {\r\n\t                    _this.saveLoading = false;\r\n\t                    _this.items[idx].active = true;\r\n\t                    _this.items[idx].interest_resource = res.resource_uri;\r\n\t                    _this.userInterestCounter++;\r\n\t                    _this.counter.next({\r\n\t                        type: 'interests',\r\n\t                        count: _this.userInterestCounter\r\n\t                    });\r\n\t                    _this.status = 'success';\r\n\t                    _this.newInterest = '';\r\n\t                    jQuery('#interestsInput').typeahead('val', '');\r\n\t                }, function (err) {\r\n\t                    _this.status = 'failure';\r\n\t                    _this.saveLoading = false;\r\n\t                }, function () { });\r\n\t            }\r\n\t            else {\r\n\t                this.status = 'failure';\r\n\t                this.saveLoading = false;\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            //create new interest\r\n\t            this.interestsService.save(interest)\r\n\t                .subscribe(function (res) {\r\n\t                _this.saveLoading = false;\r\n\t                var newItem = res;\r\n\t                newItem.active = true;\r\n\t                newItem.description = res.interest_subject;\r\n\t                newItem.interest_resource = res.resource_uri;\r\n\t                _this.items.push(newItem);\r\n\t                _this.status = 'success';\r\n\t                _this.userInterestCounter++;\r\n\t                _this.counter.next({\r\n\t                    type: 'interests',\r\n\t                    count: _this.userInterestCounter\r\n\t                });\r\n\t                _this.newInterest = '';\r\n\t                jQuery('#interestsInput').typeahead('val', '');\r\n\t                _this.refreshList();\r\n\t            }, function (err) {\r\n\t                _this.status = 'failure';\r\n\t                _this.saveLoading = false;\r\n\t            }, function () { });\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.inputChanged = function (event) {\r\n\t        //if key is not enter clear notification\r\n\t        if (event.which !== 13) {\r\n\t            this.status = null;\r\n\t        }\r\n\t        else {\r\n\t            this.addInterest();\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.addInterest = function () {\r\n\t        if (this.saveLoading) {\r\n\t            return;\r\n\t        }\r\n\t        this.saveLoading = true;\r\n\t        this.saveInterest(this.newInterest);\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.getList = function () {\r\n\t        var _this = this;\r\n\t        if (this.next === null)\r\n\t            return;\r\n\t        this.loading = true;\r\n\t        this.interestsService.get('', 2000)\r\n\t            .mergeMap(function (data) {\r\n\t            _this.userInterestCounter = data.meta.total_count;\r\n\t            _this.counter.next({\r\n\t                type: 'interests',\r\n\t                count: _this.userInterestCounter\r\n\t            });\r\n\t            if (_this.userInterestCounter > 0) {\r\n\t                _this.userInterest = data.objects;\r\n\t            }\r\n\t            return _this.keywordsService.get(_this.next, 100, _this.newInterest);\r\n\t        })\r\n\t            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\r\n\t            console.log(err);\r\n\t            _this.loading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.refreshList = function () {\r\n\t        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t        this.items.splice(0, this.items.length);\r\n\t        this.isListEmpty = false;\r\n\t        this.next = '';\r\n\t        this.saveLoading = false;\r\n\t        this.userInterest.splice(0, this.userInterest.length);\r\n\t        this.userInterestCounter = 0;\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.assignList = function (data) {\r\n\t        this.loading = false;\r\n\t        this.total_count = data.meta.total_count;\r\n\t        if (this.total_count === 0) {\r\n\t            this.isListEmpty = true;\r\n\t            return;\r\n\t        }\r\n\t        else {\r\n\t            this.isListEmpty = false;\r\n\t        }\r\n\t        var more = data.objects;\r\n\t        for (var i = 0; i <= more.length - 1; i++) {\r\n\t            more[i].active = false;\r\n\t            more[i].interest_resource = null;\r\n\t            for (var j = this.userInterest.length - 1; j >= 0; j--) {\r\n\t                if (more[i].resource_uri === this.userInterest[j].interest) {\r\n\t                    more[i].interest_resource = this.userInterest[j].resource_uri;\r\n\t                    more[i].active = true;\r\n\t                }\r\n\t            }\r\n\t            this.items.push(more[i]);\r\n\t        }\r\n\t        this.next = data.meta.next;\r\n\t        this.offset = data.meta.offset;\r\n\t        //bind to scroll event to load more data on bottom scroll\r\n\t        if (this.next !== null) {\r\n\t            jQuery('#interests').bind('scroll', this.handleScrollEvent.bind(this));\r\n\t        }\r\n\t        else {\r\n\t            jQuery('#interests').unbind('scroll');\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.handleScrollEvent = function (event) {\r\n\t        var scrollOffset = jQuery('#interests').scrollTop() + jQuery('#interests').innerHeight();\r\n\t        var threshold = jQuery('#interests')[0].scrollHeight;\r\n\t        if (this.next && scrollOffset >= threshold) {\r\n\t            if (!this.loading) {\r\n\t                this.getList();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.onInterestClick = function (event) {\r\n\t        var _this = this;\r\n\t        this.status = null;\r\n\t        var idx = lodash_1.findIndex(this.items, event);\r\n\t        if (this.items[idx]) {\r\n\t            if (this.items[idx].active) {\r\n\t                //deselect interest\r\n\t                var url = this.items[idx].interest_resource;\r\n\t                this.interestsService.delete(url)\r\n\t                    .subscribe(function (res) {\r\n\t                    _this.items[idx].active = false;\r\n\t                    _this.items[idx].interest_resource = null;\r\n\t                    _this.userInterestCounter--;\r\n\t                    _this.counter.next({\r\n\t                        type: 'interests',\r\n\t                        count: _this.userInterestCounter\r\n\t                    });\r\n\t                }, function (err) {\r\n\t                    _this.status = 'failure';\r\n\t                }, function () { });\r\n\t            }\r\n\t            else {\r\n\t                //select interest\r\n\t                this.interestsService.save(this.items[idx].description)\r\n\t                    .subscribe(function (res) {\r\n\t                    _this.items[idx].active = true;\r\n\t                    _this.items[idx].interest_resource = res.resource_uri;\r\n\t                    _this.userInterestCounter++;\r\n\t                    _this.counter.next({\r\n\t                        type: 'interests',\r\n\t                        count: _this.userInterestCounter\r\n\t                    });\r\n\t                }, function (err) {\r\n\t                    _this.status = 'failure';\r\n\t                }, function () { });\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupInterestsComponent.prototype, \"counter\", void 0);\r\n\t    SignupInterestsComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'signup-interests',\r\n\t            template: view,\r\n\t            directives: [\r\n\t                loading_component_1.LoadingComponent\r\n\t            ]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [interests_service_1.InterestsService, keywords_service_1.KeywordsService, warning_service_1.WarningService])\r\n\t    ], SignupInterestsComponent);\r\n\t    return SignupInterestsComponent;\r\n\t}());\r\n\texports.SignupInterestsComponent = SignupInterestsComponent;\r\n\n\n/***/ },\n\n/***/ 519:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title\\\">What interests you?</h2>\\n<p class=\\\"signup-step__subtitle signup-step__subtitle__warning\\\" *ngIf=\\\"showWarning\\\">Please select at least three.</p>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\" id=\\\"interestsSearch\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon \\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newInterest\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" class=\\\"search__input typeahead\\\" id=\\\"interestsInput\\\" placeholder=\\\"Enter your interests or search existing\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\" (click)=\\\"addInterest($event)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper\\\" id=\\\"interests\\\">\\n    <span (click)=\\\"onInterestClick(item)\\\" [ngClass]=\\\"{'is-current': item.active}\\\" class=\\\"search-tag\\\" *ngFor=\\\"#item of items\\\">{{item.description}}</span>\\n    <loading [status]=\\\"loading\\\"></loading>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 478:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n\t};\r\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\r\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n\t};\r\n\tvar core_1 = __webpack_require__(2);\r\n\tvar router_1 = __webpack_require__(19);\r\n\tvar lodash_1 = __webpack_require__(21);\r\n\tvar offers_service_1 = __webpack_require__(65);\r\n\tvar loading_component_1 = __webpack_require__(24);\r\n\tvar view = __webpack_require__(520);\r\n\tvar SignupOffersComponent = (function () {\r\n\t    function SignupOffersComponent(offersService) {\r\n\t        this.offersService = offersService;\r\n\t        this.counter = new core_1.EventEmitter();\r\n\t        this.items = [];\r\n\t        this.loading = false;\r\n\t        this.isListEmpty = false;\r\n\t        this.limit = 12;\r\n\t        this.query = '';\r\n\t        this.next = '';\r\n\t        this.total_count = 0;\r\n\t        this.offset = 0;\r\n\t        this.newOffer = '';\r\n\t        this.saveLoading = false;\r\n\t    }\r\n\t    SignupOffersComponent.prototype.routerOnActivate = function (next, prev) {\r\n\t        console.log(\"Finished navigating from \\\"\" + (prev ? prev.urlPath : 'null') + \"\\\" to \\\"\" + next.urlPath + \"\\\"\");\r\n\t    };\r\n\t    SignupOffersComponent.prototype.ngOnInit = function () {\r\n\t        this.initializeTokenInput();\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupOffersComponent.prototype.ngOnDestroy = function () {\r\n\t        jQuery('#offersInput').typeahead('destroy');\r\n\t    };\r\n\t    SignupOffersComponent.prototype.initializeTokenInput = function () {\r\n\t        var _this = this;\r\n\t        var keywordsEngine = new Bloodhound({\r\n\t            remote: {\r\n\t                url: '/api/v1/subject/?format=json&description__icontains=%QUERY',\r\n\t                filter: function (x) {\r\n\t                    return jQuery.map(x.objects, function (item) {\r\n\t                        return item.description;\r\n\t                    });\r\n\t                },\r\n\t                wildcard: '%QUERY'\r\n\t            },\r\n\t            datumTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t            queryTokenizer: Bloodhound.tokenizers.whitespace\r\n\t        });\r\n\t        keywordsEngine.initialize();\r\n\t        jQuery('#offersInput').typeahead({\r\n\t            hint: false,\r\n\t            highlight: true,\r\n\t            minLength: 2,\r\n\t            limit: 20\r\n\t        }, {\r\n\t            source: keywordsEngine\r\n\t        });\r\n\t        jQuery('#offersInput').bind('typeahead:select', function (ev, suggestion) {\r\n\t            if (_this.saveLoading) {\r\n\t                return;\r\n\t            }\r\n\t            _this.saveLoading = true;\r\n\t            _this.saveOffer(suggestion);\r\n\t        });\r\n\t    };\r\n\t    SignupOffersComponent.prototype.saveOffer = function (offer) {\r\n\t        var _this = this;\r\n\t        if (offer.length === 0 || offer.length > 100) {\r\n\t            this.status = 'failure';\r\n\t            this.saveLoading = false;\r\n\t            return;\r\n\t        }\r\n\t        this.offersService.save(offer)\r\n\t            .subscribe(function (res) {\r\n\t            var newItem = res;\r\n\t            _this.items.push(newItem);\r\n\t            _this.status = 'success';\r\n\t            _this.total_count++;\r\n\t            _this.counter.next({\r\n\t                type: 'offers',\r\n\t                count: _this.total_count\r\n\t            });\r\n\t            if (_this.total_count === 0) {\r\n\t                _this.isListEmpty = true;\r\n\t            }\r\n\t            else {\r\n\t                _this.isListEmpty = false;\r\n\t            }\r\n\t            _this.newOffer = '';\r\n\t            jQuery('#offersInput').typeahead('val', '');\r\n\t            _this.saveLoading = false;\r\n\t        }, function (err) {\r\n\t            var error = JSON.parse(err._body);\r\n\t            if ('offer' in error) {\r\n\t                _this.status = 'failure';\r\n\t            }\r\n\t            _this.saveLoading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupOffersComponent.prototype.inputChanged = function (event) {\r\n\t        //if key is not enter clear notification\r\n\t        if (event.which !== 13) {\r\n\t            this.status = null;\r\n\t        }\r\n\t        else {\r\n\t            this.addOffer();\r\n\t        }\r\n\t    };\r\n\t    SignupOffersComponent.prototype.addOffer = function () {\r\n\t        if (this.saveLoading) {\r\n\t            return;\r\n\t        }\r\n\t        this.saveLoading = true;\r\n\t        this.saveOffer(this.newOffer);\r\n\t    };\r\n\t    SignupOffersComponent.prototype.removeOffer = function (event) {\r\n\t        var _this = this;\r\n\t        var idx = lodash_1.findIndex(this.items, event);\r\n\t        if (this.items[idx]) {\r\n\t            this.offersService.delete(event.resource_uri)\r\n\t                .subscribe(function (res) {\r\n\t                _this.items.splice(idx, 1);\r\n\t                _this.total_count--;\r\n\t                _this.counter.next({\r\n\t                    type: 'offers',\r\n\t                    count: _this.total_count\r\n\t                });\r\n\t                if (_this.total_count === 0) {\r\n\t                    _this.isListEmpty = true;\r\n\t                }\r\n\t                else {\r\n\t                    _this.isListEmpty = false;\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    SignupOffersComponent.prototype.getList = function () {\r\n\t        var _this = this;\r\n\t        if (this.next === null)\r\n\t            return;\r\n\t        this.loading = true;\r\n\t        this.offersService.get(this.next, 100)\r\n\t            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\r\n\t            _this.loading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupOffersComponent.prototype.refreshList = function () {\r\n\t        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t        this.items.splice(0, this.items.length);\r\n\t        this.isListEmpty = false;\r\n\t        this.next = '';\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupOffersComponent.prototype.assignList = function (data) {\r\n\t        this.loading = false;\r\n\t        this.total_count = data.meta.total_count;\r\n\t        this.counter.next({\r\n\t            type: 'offers',\r\n\t            count: this.total_count\r\n\t        });\r\n\t        if (this.total_count === 0) {\r\n\t            this.isListEmpty = true;\r\n\t            return;\r\n\t        }\r\n\t        else {\r\n\t            this.isListEmpty = false;\r\n\t        }\r\n\t        if (this.items.length > 0) {\r\n\t            var more = data.objects;\r\n\t            for (var i = 0; i <= more.length - 1; i++) {\r\n\t                this.items.push(more[i]);\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            this.items = data.objects;\r\n\t        }\r\n\t        this.next = data.meta.next;\r\n\t        this.offset = data.meta.offset;\r\n\t        //bind to scroll event to load more data on bottom scroll\r\n\t        if (this.next !== null) {\r\n\t            jQuery('#offers').bind('scroll', this.handleScrollEvent.bind(this));\r\n\t        }\r\n\t        else {\r\n\t            jQuery('#offers').unbind('scroll');\r\n\t        }\r\n\t    };\r\n\t    SignupOffersComponent.prototype.handleScrollEvent = function (event) {\r\n\t        var scrollOffset = jQuery('#offers').scrollTop() + jQuery('#offers').innerHeight();\r\n\t        var threshold = jQuery('#offers')[0].scrollHeight;\r\n\t        if (this.next && scrollOffset >= threshold) {\r\n\t            if (!this.loading) {\r\n\t                this.getList();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupOffersComponent.prototype, \"counter\", void 0);\r\n\t    SignupOffersComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'signup-offers',\r\n\t            template: view,\r\n\t            directives: [\r\n\t                loading_component_1.LoadingComponent\r\n\t            ]\r\n\t        }),\r\n\t        router_1.CanActivate(function () { return true; }), \r\n\t        __metadata('design:paramtypes', [offers_service_1.OffersService])\r\n\t    ], SignupOffersComponent);\r\n\t    return SignupOffersComponent;\r\n\t}());\r\n\texports.SignupOffersComponent = SignupOffersComponent;\r\n\n\n/***/ },\n\n/***/ 520:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title\\\">I can help people...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newOffer\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"offersInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few offers here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addOffer($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"offers\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"#item of items\\\">\\n      <a (click)=\\\"removeOffer(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-offers\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Offers\\\" are things you can help other people achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Practice speaking Spanish\\\"\\n        <br>or \\\"Find a tennis partner\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\t// Angular 2\r\n\tvar ngCore = __webpack_require__(2);\r\n\tvar browser = __webpack_require__(239);\r\n\tvar common_1 = __webpack_require__(87);\r\n\tvar router_1 = __webpack_require__(19);\r\n\tvar http_1 = __webpack_require__(58);\r\n\t/*\r\n\t * App Services\r\n\t * our collection of injectables services\r\n\t */\r\n\tvar services_1 = __webpack_require__(221);\r\n\tvar ENV_PROVIDERS = [];\r\n\tif (true) {\r\n\t    ngCore.enableProdMode();\r\n\t    ENV_PROVIDERS.push(browser.ELEMENT_PROBE_PROVIDERS_PROD_MODE);\r\n\t}\r\n\telse {\r\n\t    ENV_PROVIDERS.push(browser.ELEMENT_PROBE_PROVIDERS);\r\n\t}\r\n\tvar http_client_1 = __webpack_require__(9);\r\n\t/*\r\n\t * App Component\r\n\t * our top level component that holds all of our components\r\n\t */\r\n\tvar signup_component_1 = __webpack_require__(473);\r\n\t/*\r\n\t * Universal injectables\r\n\t */\r\n\tvar UNIVERSAL_PROVIDERS = ENV_PROVIDERS.concat(router_1.ROUTER_PROVIDERS, common_1.FORM_PROVIDERS, http_1.HTTP_PROVIDERS, http_1.JSONP_PROVIDERS, [\r\n\t    http_client_1.HttpClient\r\n\t], services_1.APP_SERVICES_PROVIDERS);\r\n\t/*\r\n\t * Platform injectables\r\n\t */\r\n\tvar PLATFORM_PROVIDERS = [\r\n\t    ngCore.provide(router_1.LocationStrategy, { useClass: router_1.PathLocationStrategy }),\r\n\t    ngCore.provide(router_1.ROUTER_PRIMARY_COMPONENT, { useValue: signup_component_1.SignupComponent }),\r\n\t    ngCore.provide(router_1.APP_BASE_HREF, { useValue: '/signup' }),\r\n\t];\r\n\tvar APP_PROVIDERS = [\r\n\t    UNIVERSAL_PROVIDERS,\r\n\t    PLATFORM_PROVIDERS\r\n\t];\r\n\t/*\r\n\t * Bootstrap our Angular app with a top level component `App` and inject\r\n\t * our Services and Providers into Angular's dependency injection\r\n\t */\r\n\tfunction main() {\r\n\t    return browser.bootstrap(signup_component_1.SignupComponent, APP_PROVIDERS)\r\n\t        .catch(function (err) { return console.error(err); });\r\n\t}\r\n\texports.main = main;\r\n\t/*\r\n\t * Vendors\r\n\t * For vendors for example jQuery, Lodash, angular2-jwt just import them anywhere in your app\r\n\t * Also see custom_typings.d.ts as you also need to do `typings install x` where `x` is your module\r\n\t */\r\n\t/*\r\n\t * Hot Module Reload\r\n\t * experimental version\r\n\t */\r\n\tfunction bootstrapDomReady() {\r\n\t    // bootstrap after document is ready\r\n\t    return document.addEventListener('DOMContentLoaded', main);\r\n\t}\r\n\tif (false) {\r\n\t    // activate hot module reload\r\n\t    if (process.env.HMR) {\r\n\t        if (document.readyState === 'complete') {\r\n\t            main();\r\n\t        }\r\n\t        else {\r\n\t            bootstrapDomReady();\r\n\t        }\r\n\t        module.hot.accept();\r\n\t    }\r\n\t    else {\r\n\t        bootstrapDomReady();\r\n\t    }\r\n\t}\r\n\telse {\r\n\t    bootstrapDomReady();\r\n\t}\r\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** signup.5d0a80e0187f8b54ddf5.bundle.js\n **/","import {Component, ViewChild} from 'angular2/core';\nimport {RouteConfig, Router, Location, RouteParams, ROUTER_DIRECTIVES} from 'angular2/router';\n\nimport {SignupInterestsComponent} from './signup_interests/signup_interests.component';\nimport {SignupGoalsComponent} from './signup_goals/signup_goals.component';\nimport {SignupOffersComponent} from './signup_offers/signup_offers.component';\nimport {SignupConnectComponent} from './signup_connect/signup_connect.component';\nimport {SignupHeaderComponent} from './signup_header/signup_header.component';\n\n\nimport {InterestsService} from '../../app/services/interests.service';\nimport {KeywordsService} from '../../app/services/keywords.service';\nimport {GoalsService} from '../../app/services/goals.service';\nimport {OffersService} from '../../app/services/offers.service';\nimport {UserAuthService} from '../../app/services/userauth.service';\nimport {OnboardingService} from '../../app/services/onboarding.service';\nimport {WarningService} from '../../app/services/warning.service';\n\nlet view = require('./signup.html');\n\n@Component({\n  template: view,\n  selector: 'persice-signup',\n  directives: [\n    SignupHeaderComponent,\n    ROUTER_DIRECTIVES\n  ],\n  providers: [\n    InterestsService,\n    GoalsService,\n    OffersService,\n    KeywordsService,\n    UserAuthService,\n    OnboardingService,\n    WarningService\n  ]\n})\n@RouteConfig([\n  {\n    path: '/',\n    redirectTo: ['SignupInterests']\n  },\n  {\n    path: '/interests',\n    component: SignupInterestsComponent,\n    name: 'SignupInterests',\n    data: { page: 1 }\n  },\n  {\n    path: '/goals',\n    component: SignupGoalsComponent,\n    name: 'SignupGoals',\n    data: { page: 2 }\n  },\n  {\n    path: '/offers',\n    component: SignupOffersComponent,\n    name: 'SignupOffers',\n    data: { page: 3 }\n  },\n  {\n    path: '/connect',\n    component: SignupConnectComponent,\n    name: 'SignupConnect',\n    data: { page: 4 }\n  }\n])\nexport class SignupComponent {\n\n  @ViewChild(SignupInterestsComponent) myElem1: SignupInterestsComponent;\n  @ViewChild(SignupGoalsComponent) myElem2: SignupGoalsComponent;\n  @ViewChild(SignupOffersComponent) myElem3: SignupOffersComponent;\n\n  page: number = 1;\n  cGoa: number = 0;\n  cOff: number = 0;\n  cInt: number = 0;\n  showSkip = false;\n  nextStep = 'SignupGoals';\n  nextTitle = 'Next';\n  is_complete = null;\n\n  router: Router;\n  location: Location;\n\n  notificationMain = {\n    body: '',\n    title: '',\n    active: false,\n    type: ''\n  };\n\n  constructor(\n    router: Router,\n    location: Location,\n    private goalsService: GoalsService,\n    private offersService: OffersService,\n    private interestsService: InterestsService,\n    private userAuthService: UserAuthService,\n    private onboardingService: OnboardingService,\n    private warningService: WarningService\n  ) {\n    this.router = router;\n    this.location = location;\n\n    let subs = null;\n\n    this.router.subscribe((path) => {\n      if (subs) {\n        subs.unsubscribe();\n        subs = null;\n      }\n      if (this.myElem1) {\n        subs = this.myElem1.counter.subscribe(message => {\n          this.onCounterChanged(message);\n          if (message.count >= 3) {\n            this.warningService.push(false);\n          }\n        });\n      }\n\n      if (this.myElem2) {\n        subs = this.myElem2.counter.subscribe(message => this.onCounterChanged(message));\n      }\n\n      if (this.myElem3) {\n        subs = this.myElem3.counter.subscribe(message => this.onCounterChanged(message));\n      }\n\n      this.onRouteChanged(path);\n    });\n  }\n\n  ngOnInit() {\n\n    this.userAuthService.findOneByUri('me').subscribe((data) => {\n      let res = data;\n      this.cGoa = res.goals.length;\n      this.cOff = res.offers.length;\n      this.cInt = res.interests.length;\n      this.is_complete = res.onboardingflow;\n    });\n  }\n\n  ngOnDestroy() {\n\n  }\n\n\n  onRouteChanged(path) {\n    switch (path) {\n      case 'interests':\n        this.page = 1;\n        this.showSkip = false;\n        this.nextStep = 'SignupGoals';\n        this.nextTitle = 'Next';\n        break;\n      case 'goals':\n        this.page = 2;\n        this.showSkip = true;\n        this.nextStep = 'SignupOffers';\n        this.nextTitle = 'Next';\n        break;\n      case 'offers':\n        this.page = 3;\n        this.showSkip = true;\n        this.nextStep = 'SignupConnect';\n        this.nextTitle = 'Next';\n        break;\n      case 'connect':\n        this.page = 4;\n        this.showSkip = true;\n        this.nextStep = null;\n        this.nextTitle = 'Go!';\n        break;\n      default:\n        this.page = 1;\n        this.showSkip = false;\n        this.nextStep = 'SignupGoals';\n        this.nextTitle = 'Next';\n        break;\n    }\n  }\n\n\n  next(event) {\n    if (this.nextStep) {\n      switch (this.nextStep) {\n        case 'SignupGoals':\n          //check if user selected less than 3 interests\n          if (this.cInt < 3) {\n            this.warningService.push(true);\n            return;\n          }\n          else {\n            this.warningService.push(false);\n          }\n          break;\n\n        default:\n          break;\n      }\n\n      this.router.navigate([this.nextStep]);\n    } else {\n      this.completeOnboarding();\n    }\n\n  }\n\n  skip(event) {\n    if (this.nextStep) {\n      this.router.navigate([this.nextStep]);\n    } else {\n      this.completeOnboarding();\n    }\n\n  }\n\n\n  completeOnboarding() {\n    if (this.is_complete === null) {\n      this.onboardingService.complete().subscribe((data) => {\n        window.location.href = '/crowd/';\n      }, (err) => {\n      }, () => {\n\n      });\n    } else {\n      window.location.href = '/crowd/';\n    }\n\n  }\n\n  onCounterChanged(event) {\n    switch (event.type) {\n      case 'interests':\n        this.cInt = event.count;\n        break;\n      case 'goals':\n        this.cGoa = event.count;\n        break;\n      case 'offers':\n        this.cOff = event.count;\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/signup/components/signup.component.ts\n **/","module.exports = \"<div class=\\\"signup\\\">\\n  <signup-header [nextTitle]=\\\"nextTitle\\\" [showSkip]=\\\"showSkip\\\" (skip)=\\\"skip($event)\\\" (next)=\\\"next($event)\\\" [page]=\\\"page\\\" [counterInterests]=\\\"cInt\\\" [counterOffers]=\\\"cOff\\\" [counterGoals]=\\\"cGoa\\\"></signup-header>\\n  <div class=\\\"signup__content\\\">\\n    <ul class=\\\"signup-pager\\\">\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 1, 'signup-pager__completed': page >= 2}\\\">1</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 2,'signup-pager__completed': page >= 3}\\\">2</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 3, 'signup-pager__completed': page === 4}\\\">3</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 4}\\\">4</li>\\n    </ul>\\n    <router-outlet></router-outlet>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/components/signup.html\n ** module id = 515\n ** module chunks = 8\n **/","import {Component, NgZone} from 'angular2/core';\n\nimport {UserAuthService} from '../../../app/services/userauth.service';\n\nlet view = require('./signup_connect.html');\n\ndeclare var jQuery: any;\n@Component({\n  selector: 'signup-connect',\n  template: view\n})\nexport class SignupConnectComponent {\n\n  connectStatus = {\n    twitter: {\n      connected: false,\n      username: 'Your twitter account',\n      url: ''\n    },\n    linkedin: {\n      connected: false,\n      username: 'Your linkedin account',\n      url: ''\n    }\n  };\n\n  constructor(private service: UserAuthService, private _ngZone: NgZone) {\n  }\n\n  ngOnInit() {\n    this.getConnectStatus();\n    jQuery('.connect-media').on('persice:refreshConnect', (e) => {\n      this.refreshConnectInfo();\n    });\n  }\n\n  refreshConnectInfo() {\n    this.service.findOneByUri('me').subscribe((data) => {\n      this.getConnectStatus();\n    });\n  }\n\n  getConnectStatus() {\n    this._ngZone.run(() => {\n      this.connectStatus = this.service.getConnectStatus();\n    });\n  }\n\n\n  toggle(provider) {\n    if (this.connectStatus[provider].connected) {\n      this.disconnect(provider);\n    }\n    else {\n      this.connect(provider);\n    }\n  }\n\n  connect(provider) {\n    let w = 400;\n    let h = 300;\n\n\n    let dualScreenLeft = window.screenLeft;\n    let dualScreenTop = window.screenTop;\n\n    let width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n    let height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n    let left = ((width / 2) - (w / 2)) + dualScreenLeft;\n    let top = ((height / 2) - (h / 2)) + dualScreenTop;\n\n\n    let settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\n    let url = '/social/associate/' + provider + '/?next=/goals/close_login_popup/';\n    let newWindow = window.open(url, `Connecting your ${provider} account...`, settings);\n\n    if (window.focus) {\n      newWindow.focus();\n    }\n  }\n\n  disconnect(provider) {\n    let w = 400;\n    let h = 300;\n\n\n    let dualScreenLeft = window.screenLeft;\n    let dualScreenTop = window.screenTop;\n\n    let width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n    let height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n    let left = ((width / 2) - (w / 2)) + dualScreenLeft;\n    let top = ((height / 2) - (h / 2)) + dualScreenTop;\n\n\n    let settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\n    let url = '/social/disconnect/' + provider + '/?next=/goals/close_login_popup/';\n    let newWindow = window.open(url, `Disconnecting your ${provider} account...`, settings);\n\n    if (window.focus) {\n      newWindow.focus();\n    }\n  }\n\n  openUrl(provider) {\n    if (this.connectStatus[provider].connected) {\n      let win = window.open(this.connectStatus[provider].url, '_blank');\n      win.focus();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/signup/components/signup_connect/signup_connect.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title mb mt+\\\">Connect your LinkedIn and <br> Twitter accounts</h2>\\n<p class=\\\"signup-step__subtitle\\\">\\n  This will improve your match results within the Persice community.\\n  <br>\\n  <svg role=\\\"img\\\" class=\\\"icon\\\">\\n    <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-lock\\\"></use>\\n  </svg> Persice will never share your information or post on your behalf.\\n</p>\\n<ul class=\\\"connect-media\\\">\\n  <li>\\n    <div (click)=\\\"openUrl('twitter')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.twitter.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--twitter\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-twitter-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--twitter\\\">twitter</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.twitter.connected}\\\">{{connectStatus.twitter.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('twitter')\\\" [ngClass]=\\\"{'is-active': connectStatus.twitter.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--twitter btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n  <li>\\n    <div (click)=\\\"openUrl('linkedin')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.linkedin.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--linkedin\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-linkedin-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--linkedin\\\">linkedin</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.linkedin.connected}\\\">{{connectStatus.linkedin.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('linkedin')\\\" [ngClass]=\\\"{'is-active': connectStatus.linkedin.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--linkedin btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n</ul>\\n<a class=\\\"mr\\\" href=\\\"#\\\"></a>\\n<a href=\\\"#\\\"></a>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/components/signup_connect/signup_connect.html\n ** module id = 516\n ** module chunks = 8\n **/","import {Component, Input, Output, EventEmitter} from 'angular2/core';\nimport {findIndex} from 'lodash';\n\nimport {GoalsService} from '../../../app/services/goals.service';\n\nimport {LoadingComponent} from '../../../app/components/loading/loading.component';\nlet view = require('./signup_goals.html');\n\ndeclare var jQuery: any;\ndeclare var TweenMax: any;\ndeclare var Bloodhound: any;\n\n@Component({\n  selector: 'signup-goals',\n  template: view,\n  directives: [\n    LoadingComponent\n  ]\n})\nexport class SignupGoalsComponent {\n\n  @Output() counter: EventEmitter<any> = new EventEmitter();\n\n  items: any[] = [];\n  loading: boolean = false;\n  isListEmpty: boolean = false;\n  limit: number = 12;\n  query: string = '';\n  next: string = '';\n  total_count: number = 0;\n  offset: number = 0;\n  newGoal = '';\n  status;\n  saveLoading = false;\n\n  constructor(\n    private goalsService: GoalsService\n    ) {\n\n  }\n\n  ngOnInit() {\n    this.initializeTokenInput();\n    this.getList();\n  }\n\n  ngOnDestroy() {\n    jQuery('#goalsInput').typeahead('destroy');\n  }\n\n  initializeTokenInput() {\n    let keywordsEngine = new Bloodhound({\n      remote: {\n        url: '/api/v1/subject/?format=json&description__icontains=%QUERY',\n        filter: (x: any) => {\n          return jQuery.map(x.objects, (item) => {\n            return item.description;\n          });\n        },\n        wildcard: '%QUERY'\n      },\n      datumTokenizer: Bloodhound.tokenizers.whitespace,\n      queryTokenizer: Bloodhound.tokenizers.whitespace\n    });\n\n    keywordsEngine.initialize();\n\n    jQuery('#goalsInput').typeahead(\n      {\n        hint: false,\n        highlight: true,\n        minLength: 2,\n        limit: 20\n      },\n      {\n        source: keywordsEngine\n      }\n      );\n\n    jQuery('#goalsInput').bind('typeahead:select', (ev, suggestion) => {\n      if (this.saveLoading) {\n        return;\n      }\n      this.saveLoading = true;\n      this.saveGoal(suggestion);\n    });\n\n  }\n\n  saveGoal(goal) {\n\n    if (goal.length === 0 || goal.length > 100) {\n      this.status = 'failure';\n      this.saveLoading = false;\n      return;\n    }\n\n    this.goalsService.save(goal)\n      .subscribe((res) => {\n      let newItem = res;\n      this.items.push(newItem);\n      this.status = 'success';\n\n      this.total_count++;\n      this.counter.next({\n        type: 'goals',\n        count: this.total_count\n      });\n      if (this.total_count === 0) {\n        this.isListEmpty = true;\n      }\n      else {\n        this.isListEmpty = false;\n      }\n      this.newGoal = '';\n      jQuery('#goalsInput').typeahead('val', '');\n      this.saveLoading = false;\n    }, (err) => {\n        let error = JSON.parse(err._body);\n        if ('goal' in error) {\n          this.status = 'failure';\n        }\n        this.saveLoading = false;\n      }, () => {\n\n      });\n  }\n\n  inputChanged(event) {\n    //if key is not enter clear notification\n    if (event.which !== 13) {\n      this.status = null;\n    }\n    else { //if key is entered\n      this.addGoal();\n    }\n\n  }\n\n  addGoal() {\n    if (this.saveLoading) {\n      return;\n    }\n    this.saveLoading = true;\n    this.saveGoal(this.newGoal);\n  }\n\n  removeGoal(event) {\n    let idx = findIndex(this.items, event);\n    if (this.items[idx]) {\n      this.goalsService.delete(event.resource_uri)\n        .subscribe((res) => {\n        this.items.splice(idx, 1);\n        this.total_count--;\n        this.counter.next({\n          type: 'goals',\n          count: this.total_count\n        });\n        if (this.total_count === 0) {\n          this.isListEmpty = true;\n        }\n        else {\n          this.isListEmpty = false;\n        }\n      });\n    }\n\n  }\n\n\n  getList() {\n    if (this.next === null) return;\n    this.loading = true;\n    this.goalsService.get(this.next, 100)\n      .subscribe(data => this.assignList(data),\n      (err) => {\n        this.loading = false;\n      },\n      () => {\n\n      });\n  }\n\n\n  refreshList() {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n    this.items.splice(0, this.items.length);\n    this.isListEmpty = false;\n    this.next = '';\n    this.getList();\n  }\n\n  assignList(data) {\n\n    this.loading = false;\n\n    this.total_count = data.meta.total_count;\n\n    this.counter.next({\n      type: 'goals',\n      count: this.total_count\n    });\n\n    if (this.total_count === 0) {\n      this.isListEmpty = true;\n      return;\n    } else {\n      this.isListEmpty = false;\n    }\n\n    if (this.items.length > 0) {\n      let more = data.objects;\n      for (var i = 0; i <= more.length - 1; i++) {\n        this.items.push(more[i]);\n      }\n\n    }\n    else {\n      this.items = data.objects;\n    }\n\n    this.next = data.meta.next;\n    this.offset = data.meta.offset;\n\n\n    //bind to scroll event to load more data on bottom scroll\n    if (this.next !== null) {\n      jQuery('#goals').bind('scroll', this.handleScrollEvent.bind(this));\n    }\n    else {\n      jQuery('#goals').unbind('scroll');\n    }\n\n\n  }\n\n  handleScrollEvent(event) {\n    let scrollOffset = jQuery('#goals').scrollTop() + jQuery('#goals').innerHeight();\n    let threshold = jQuery('#goals')[0].scrollHeight;\n    if (this.next && scrollOffset >= threshold) {\n      if (!this.loading) {\n        this.getList();\n      }\n    }\n\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/signup/components/signup_goals/signup_goals.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title\\\">My goal is to...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newGoal\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"goalsInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few goals here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addGoal($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"goals\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"#item of items\\\">\\n      <a (click)=\\\"removeGoal(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-goals\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Goals\\\" are things you want to achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Learn how to salsa dance\\\" or\\n        <br>\\\"Discover new hiking trails\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/components/signup_goals/signup_goals.html\n ** module id = 517\n ** module chunks = 8\n **/","import {Component, Input, Output, EventEmitter} from 'angular2/core';\nimport {ROUTER_DIRECTIVES} from 'angular2/router';\n\nlet view = require('./signup_header.html');\n\n@Component({\n  selector: 'signup-header',\n  template: view,\n  directives: [ROUTER_DIRECTIVES]\n})\nexport class SignupHeaderComponent {\n  @Input() counterInterests;\n  @Input() counterGoals;\n  @Input() counterOffers;\n  @Input() page;\n  @Input() nextTitle;\n  @Input() showSkip;\n  @Output() next: EventEmitter<any> = new EventEmitter();\n  @Output() skip: EventEmitter<any> = new EventEmitter();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/signup/components/signup_header/signup_header.component.ts\n **/","module.exports = \"<header class=\\\"header-signup\\\">\\n  <div class=\\\"layout layout--middle\\\">\\n    <div class=\\\"layout__item 2/3\\\">\\n      <div class=\\\"layout layout--auto\\\">\\n        <div class=\\\"layout__item\\\">\\n          <div class=\\\"header-signup__logo-place\\\">\\n            <a class=\\\"site-logo\\\" href=\\\"/signup\\\">\\n              <img alt=\\\"#\\\" src=\\\"/static/assets/images/logo.svg\\\" class=\\\"site-logo__mark\\\">\\n              <h1 class=\\\"site-logo__type\\\">Persice</h1>\\n            </a>\\n          </div>\\n        </div>\\n        <div class=\\\"layout__item\\\">\\n          <ul class=\\\"header-signup__steps\\\">\\n            <li *ngIf=\\\"page >= 1\\\"><a [routerLink]=\\\"['./SignupInterests']\\\"><b>{{counterInterests}}</b> interests</a></li>\\n            <li *ngIf=\\\"page >= 2\\\"><a [routerLink]=\\\"['./SignupGoals']\\\"><b>{{counterGoals}}</b> goals</a></li>\\n            <li *ngIf=\\\"page >= 3\\\"><a [routerLink]=\\\"['./SignupOffers']\\\"><b>{{counterOffers}}</b> offers</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"layout__item 1/3 text-right pr\\\">\\n      <a *ngIf=\\\"showSkip\\\" (click)=\\\"skip.next($event)\\\" class=\\\"link--darkgrey mr\\\">Skip</a>\\n      <a (click)=\\\"next.next($event)\\\" class=\\\"btn btn-1 btn-1--green btn-1--medium \\\">{{nextTitle}}</a>\\n    </div>\\n  </div>\\n</header>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/components/signup_header/signup_header.html\n ** module id = 518\n ** module chunks = 8\n **/","import {Component, Input, Output, EventEmitter} from 'angular2/core';\nimport {mergeMap} from 'rxjs/operator/mergeMap';\nimport {findIndex} from 'lodash';\n\nimport {InterestsService} from '../../../app/services/interests.service';\nimport {KeywordsService} from '../../../app/services/keywords.service';\nimport {WarningService} from '../../../app/services/warning.service';\n\nimport {LoadingComponent} from '../../../app/components/loading/loading.component';\nlet view = require('./signup_interests.html');\n\n\ndeclare var jQuery: any;\ndeclare var Bloodhound: any;\n\n@Component({\n  selector: 'signup-interests',\n  template: view,\n  directives: [\n    LoadingComponent\n  ]\n})\nexport class SignupInterestsComponent {\n\n  @Output() counter: EventEmitter<any> = new EventEmitter();\n\n  items: any[] = [];\n  loading: boolean = false;\n  isListEmpty: boolean = false;\n  limit: number = 12;\n  query: string = '';\n  next: string = '';\n  total_count: number = 0;\n  offset: number = 0;\n  newInterest = '';\n  status;\n  saveLoading = false;\n\n  subs: EventEmitter<any>;\n  showWarning = false;\n\n  userInterest: any[] = [];\n  userInterestCounter: number = 0;\n\n  constructor(\n    private interestsService: InterestsService,\n    private keywordsService: KeywordsService,\n    private warningService: WarningService\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.initializeTokenInput();\n    this.getList();\n\n    if (this.subs) {\n      this.subs.unsubscribe();\n    }\n    this.subs = this.warningService.observer().subscribe((event: any) => this.showWarning = event);\n  }\n\n  ngOnDestroy() {\n    if (this.subs) {\n      this.subs.unsubscribe();\n    }\n  }\n\n  initializeTokenInput() {\n    let keywordsEngine = new Bloodhound({\n      remote: {\n        url: '/api/v1/interest_subject/?format=json&description__icontains=%QUERY',\n        filter: (x: any) => {\n          return jQuery.map(x.objects, (item) => {\n            return item.description;\n          });\n        },\n        wildcard: '%QUERY'\n      },\n      datumTokenizer: Bloodhound.tokenizers.whitespace,\n      queryTokenizer: Bloodhound.tokenizers.whitespace\n    });\n\n    keywordsEngine.initialize();\n\n    jQuery('#interestsInput').typeahead(\n      {\n        hint: false,\n        highlight: true,\n        minLength: 2,\n        limit: 20\n      },\n      {\n        source: keywordsEngine\n      }\n    );\n\n    jQuery('#interestsInput').bind('typeahead:select', (ev, suggestion) => {\n      if (this.saveLoading) {\n        return;\n      }\n      this.saveLoading = true;\n      this.saveInterest(suggestion);\n    });\n\n  }\n\n  saveInterest(interest) {\n    if (interest.length === 0 || interest.length > 100) {\n      this.status = 'failure';\n      this.saveLoading = false;\n      return;\n    }\n\n    let idx = findIndex(this.items, { 'description': interest });\n    if (this.items[idx]) {\n      if (!this.items[idx].active) {\n        this.interestsService.save(this.items[idx].description)\n          .subscribe((res) => {\n            this.saveLoading = false;\n            this.items[idx].active = true;\n            this.items[idx].interest_resource = res.resource_uri;\n            this.userInterestCounter++;\n            this.counter.next({\n              type: 'interests',\n              count: this.userInterestCounter\n            });\n            this.status = 'success';\n            this.newInterest = '';\n            jQuery('#interestsInput').typeahead('val', '');\n          },\n          (err) => {\n            this.status = 'failure';\n            this.saveLoading = false;\n          },\n          () => { });\n      }\n      else {\n        this.status = 'failure';\n        this.saveLoading = false;\n      }\n    }\n    else {\n      //create new interest\n      this.interestsService.save(interest)\n        .subscribe((res) => {\n          this.saveLoading = false;\n          let newItem = res;\n          newItem.active = true;\n          newItem.description = res.interest_subject;\n          newItem.interest_resource = res.resource_uri;\n          this.items.push(newItem);\n\n          this.status = 'success';\n\n          this.userInterestCounter++;\n          this.counter.next({\n            type: 'interests',\n            count: this.userInterestCounter\n          });\n\n          this.newInterest = '';\n          jQuery('#interestsInput').typeahead('val', '');\n          this.refreshList();\n\n        },\n        (err) => {\n          this.status = 'failure';\n          this.saveLoading = false;\n        },\n        () => { });\n    }\n  }\n\n  inputChanged(event) {\n    //if key is not enter clear notification\n    if (event.which !== 13) {\n      this.status = null;\n    }\n    else { //if key is entered\n      this.addInterest();\n    }\n  }\n\n  addInterest() {\n    if (this.saveLoading) {\n      return;\n    }\n    this.saveLoading = true;\n    this.saveInterest(this.newInterest);\n  }\n\n  getList() {\n    if (this.next === null) return;\n    this.loading = true;\n    this.interestsService.get('', 2000)\n      .mergeMap((data) => {\n\n        this.userInterestCounter = data.meta.total_count;\n\n        this.counter.next({\n          type: 'interests',\n          count: this.userInterestCounter\n        });\n\n        if (this.userInterestCounter > 0) {\n          this.userInterest = data.objects;\n        }\n\n        return this.keywordsService.get(this.next, 100, this.newInterest);\n      })\n      .subscribe(data => this.assignList(data),\n      (err) => {\n        console.log(err);\n        this.loading = false;\n      },\n      () => {\n\n      });\n  }\n\n\n  refreshList() {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n    this.items.splice(0, this.items.length);\n    this.isListEmpty = false;\n    this.next = '';\n    this.saveLoading = false;\n    this.userInterest.splice(0, this.userInterest.length);\n    this.userInterestCounter = 0;\n    this.getList();\n  }\n\n  assignList(data) {\n\n    this.loading = false;\n\n    this.total_count = data.meta.total_count;\n    if (this.total_count === 0) {\n      this.isListEmpty = true;\n      return;\n    } else {\n      this.isListEmpty = false;\n    }\n\n    let more = data.objects;\n\n    for (var i = 0; i <= more.length - 1; i++) {\n      more[i].active = false;\n      more[i].interest_resource = null;\n\n      for (var j = this.userInterest.length - 1; j >= 0; j--) {\n        if (more[i].resource_uri === this.userInterest[j].interest) {\n          more[i].interest_resource = this.userInterest[j].resource_uri;\n          more[i].active = true;\n        }\n      }\n\n      this.items.push(more[i]);\n    }\n\n    this.next = data.meta.next;\n    this.offset = data.meta.offset;\n\n\n    //bind to scroll event to load more data on bottom scroll\n    if (this.next !== null) {\n      jQuery('#interests').bind('scroll', this.handleScrollEvent.bind(this));\n    }\n    else {\n      jQuery('#interests').unbind('scroll');\n    }\n\n\n  }\n\n  handleScrollEvent(event) {\n    let scrollOffset = jQuery('#interests').scrollTop() + jQuery('#interests').innerHeight();\n    let threshold = jQuery('#interests')[0].scrollHeight;\n    if (this.next && scrollOffset >= threshold) {\n      if (!this.loading) {\n        this.getList();\n      }\n    }\n\n  }\n\n\n  onInterestClick(event) {\n    this.status = null;\n\n    let idx = findIndex(this.items, event);\n\n    if (this.items[idx]) {\n      if (this.items[idx].active) {\n        //deselect interest\n        let url = this.items[idx].interest_resource;\n\n        this.interestsService.delete(url)\n          .subscribe((res) => {\n            this.items[idx].active = false;\n            this.items[idx].interest_resource = null;\n            this.userInterestCounter--;\n            this.counter.next({\n              type: 'interests',\n              count: this.userInterestCounter\n            });\n          }, (err) => {\n            this.status = 'failure';\n          }, () => { });\n      }\n      else {\n        //select interest\n        this.interestsService.save(this.items[idx].description)\n          .subscribe((res) => {\n            this.items[idx].active = true;\n            this.items[idx].interest_resource = res.resource_uri;\n            this.userInterestCounter++;\n            this.counter.next({\n              type: 'interests',\n              count: this.userInterestCounter\n            });\n          }, (err) => {\n            this.status = 'failure';\n          }, () => { });\n\n\n      }\n    }\n  }\n\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/signup/components/signup_interests/signup_interests.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title\\\">What interests you?</h2>\\n<p class=\\\"signup-step__subtitle signup-step__subtitle__warning\\\" *ngIf=\\\"showWarning\\\">Please select at least three.</p>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\" id=\\\"interestsSearch\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon \\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newInterest\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" class=\\\"search__input typeahead\\\" id=\\\"interestsInput\\\" placeholder=\\\"Enter your interests or search existing\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\" (click)=\\\"addInterest($event)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper\\\" id=\\\"interests\\\">\\n    <span (click)=\\\"onInterestClick(item)\\\" [ngClass]=\\\"{'is-current': item.active}\\\" class=\\\"search-tag\\\" *ngFor=\\\"#item of items\\\">{{item.description}}</span>\\n    <loading [status]=\\\"loading\\\"></loading>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/components/signup_interests/signup_interests.html\n ** module id = 519\n ** module chunks = 8\n **/","import {Component, Input, Output, EventEmitter} from 'angular2/core';\nimport {CanActivate, ComponentInstruction} from 'angular2/router';\nimport {findIndex} from 'lodash';\n\nimport {OffersService} from '../../../app/services/offers.service';\n\nimport {LoadingComponent} from '../../../app/components/loading/loading.component';\nlet view = require('./signup_offers.html');\n\n\ndeclare var jQuery: any;\ndeclare var Bloodhound: any;\n\n@Component({\n  selector: 'signup-offers',\n  template: view,\n  directives: [\n    LoadingComponent\n  ]\n})\n@CanActivate(() => true)\nexport class SignupOffersComponent {\n\n  @Output() counter: EventEmitter<any> = new EventEmitter();\n\n  items: any[] = [];\n  loading: boolean = false;\n  isListEmpty: boolean = false;\n  limit: number = 12;\n  query: string = '';\n  next: string = '';\n  total_count: number = 0;\n  offset: number = 0;\n  newOffer = '';\n  status;\n  saveLoading = false;\n\n  constructor(\n    private offersService: OffersService\n    ) {\n\n  }\n\n  routerOnActivate(next: ComponentInstruction, prev: ComponentInstruction) {\n    console.log(`Finished navigating from \"${prev ? prev.urlPath : 'null'}\" to \"${next.urlPath}\"`);\n  }\n\n  ngOnInit() {\n    this.initializeTokenInput();\n    this.getList();\n  }\n\n  ngOnDestroy() {\n    jQuery('#offersInput').typeahead('destroy');\n  }\n\n  initializeTokenInput() {\n    let keywordsEngine = new Bloodhound({\n      remote: {\n        url: '/api/v1/subject/?format=json&description__icontains=%QUERY',\n        filter: (x: any) => {\n          return jQuery.map(x.objects, (item) => {\n            return item.description;\n          });\n        },\n        wildcard: '%QUERY'\n      },\n      datumTokenizer: Bloodhound.tokenizers.whitespace,\n      queryTokenizer: Bloodhound.tokenizers.whitespace\n    });\n\n    keywordsEngine.initialize();\n\n    jQuery('#offersInput').typeahead(\n      {\n        hint: false,\n        highlight: true,\n        minLength: 2,\n        limit: 20\n      },\n      {\n        source: keywordsEngine\n      }\n      );\n\n    jQuery('#offersInput').bind('typeahead:select', (ev, suggestion) => {\n      if (this.saveLoading) {\n        return;\n      }\n      this.saveLoading = true;\n      this.saveOffer(suggestion);\n    });\n\n  }\n\n  saveOffer(offer) {\n\n    if (offer.length === 0 || offer.length > 100) {\n      this.status = 'failure';\n      this.saveLoading = false;\n      return;\n    }\n\n    this.offersService.save(offer)\n      .subscribe((res) => {\n      let newItem = res;\n      this.items.push(newItem);\n      this.status = 'success';\n      this.total_count++;\n      this.counter.next({\n        type: 'offers',\n        count: this.total_count\n      });\n      if (this.total_count === 0) {\n        this.isListEmpty = true;\n      }\n      else {\n        this.isListEmpty = false;\n      }\n      this.newOffer = '';\n      jQuery('#offersInput').typeahead('val', '');\n      this.saveLoading = false;\n    }, (err) => {\n        let error = JSON.parse(err._body);\n        if ('offer' in error) {\n          this.status = 'failure';\n        }\n        this.saveLoading = false;\n      }, () => {\n\n      });\n  }\n\n  inputChanged(event) {\n    //if key is not enter clear notification\n    if (event.which !== 13) {\n      this.status = null;\n    }\n    else { //if key is entered\n      this.addOffer();\n    }\n\n  }\n\n  addOffer() {\n    if (this.saveLoading) {\n      return;\n    }\n    this.saveLoading = true;\n    this.saveOffer(this.newOffer);\n  }\n\n  removeOffer(event) {\n    let idx = findIndex(this.items, event);\n    if (this.items[idx]) {\n      this.offersService.delete(event.resource_uri)\n        .subscribe((res) => {\n        this.items.splice(idx, 1);\n        this.total_count--;\n        this.counter.next({\n          type: 'offers',\n          count: this.total_count\n        });\n        if (this.total_count === 0) {\n          this.isListEmpty = true;\n        }\n        else {\n          this.isListEmpty = false;\n        }\n      });\n    }\n\n  }\n\n\n  getList() {\n    if (this.next === null) return;\n    this.loading = true;\n    this.offersService.get(this.next, 100)\n      .subscribe(data => this.assignList(data),\n      (err) => {\n        this.loading = false;\n      },\n      () => {\n\n      });\n  }\n\n\n  refreshList() {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n    this.items.splice(0, this.items.length);\n    this.isListEmpty = false;\n    this.next = '';\n    this.getList();\n  }\n\n  assignList(data) {\n\n    this.loading = false;\n\n    this.total_count = data.meta.total_count;\n\n    this.counter.next({\n      type: 'offers',\n      count: this.total_count\n    });\n\n    if (this.total_count === 0) {\n      this.isListEmpty = true;\n      return;\n    } else {\n      this.isListEmpty = false;\n    }\n\n    if (this.items.length > 0) {\n      let more = data.objects;\n      for (var i = 0; i <= more.length - 1; i++) {\n        this.items.push(more[i]);\n      }\n\n    }\n    else {\n      this.items = data.objects;\n    }\n\n    this.next = data.meta.next;\n    this.offset = data.meta.offset;\n\n\n    //bind to scroll event to load more data on bottom scroll\n    if (this.next !== null) {\n      jQuery('#offers').bind('scroll', this.handleScrollEvent.bind(this));\n    }\n    else {\n      jQuery('#offers').unbind('scroll');\n    }\n\n\n  }\n\n  handleScrollEvent(event) {\n    let scrollOffset = jQuery('#offers').scrollTop() + jQuery('#offers').innerHeight();\n    let threshold = jQuery('#offers')[0].scrollHeight;\n    if (this.next && scrollOffset >= threshold) {\n      if (!this.loading) {\n        this.getList();\n      }\n    }\n\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/signup/components/signup_offers/signup_offers.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title\\\">I can help people...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newOffer\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"offersInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few offers here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addOffer($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"offers\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"#item of items\\\">\\n      <a (click)=\\\"removeOffer(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-offers\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Offers\\\" are things you can help other people achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Practice speaking Spanish\\\"\\n        <br>or \\\"Find a tennis partner\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/components/signup_offers/signup_offers.html\n ** module id = 520\n ** module chunks = 8\n **/","// Angular 2\nimport * as ngCore from 'angular2/core';\nimport * as browser from 'angular2/platform/browser';\n\nimport {FORM_PROVIDERS} from 'angular2/common';\nimport {\nROUTER_PROVIDERS,\nROUTER_PRIMARY_COMPONENT,\nHashLocationStrategy,\nPathLocationStrategy,\nLocationStrategy,\nAPP_BASE_HREF\n} from 'angular2/router';\nimport {HTTP_PROVIDERS, JSONP_PROVIDERS} from 'angular2/http';\n\n/*\n * App Services\n * our collection of injectables services\n */\nimport {APP_SERVICES_PROVIDERS} from '../app/services/services';\n\n\nconst ENV_PROVIDERS = [];\n\nif ('production' === process.env.ENV) {\n  ngCore.enableProdMode();\n  ENV_PROVIDERS.push(browser.ELEMENT_PROBE_PROVIDERS_PROD_MODE);\n}\nelse {\n  ENV_PROVIDERS.push(browser.ELEMENT_PROBE_PROVIDERS);\n}\n\n\nimport {HttpClient} from '../app/core/http_client';\n\n\n/*\n * App Component\n * our top level component that holds all of our components\n */\nimport {SignupComponent} from './components/signup.component';\n\n\n/*\n * Universal injectables\n */\nconst UNIVERSAL_PROVIDERS = [\n  ...ENV_PROVIDERS,\n  ...ROUTER_PROVIDERS,\n  ...FORM_PROVIDERS,\n  ...HTTP_PROVIDERS,\n  ...JSONP_PROVIDERS,\n  HttpClient,\n  ...APP_SERVICES_PROVIDERS\n];\n\n/*\n * Platform injectables\n */\nconst PLATFORM_PROVIDERS = [\n  ngCore.provide(LocationStrategy, { useClass: PathLocationStrategy }),\n  ngCore.provide(ROUTER_PRIMARY_COMPONENT, { useValue: SignupComponent }),\n  ngCore.provide(APP_BASE_HREF, { useValue: '/signup' }),\n];\n\nconst APP_PROVIDERS = [\n  UNIVERSAL_PROVIDERS,\n  PLATFORM_PROVIDERS\n];\n\n/*\n * Bootstrap our Angular app with a top level component `App` and inject\n * our Services and Providers into Angular's dependency injection\n */\nexport function main() {\n  return browser.bootstrap(SignupComponent, APP_PROVIDERS)\n    .catch(err => console.error(err));\n}\n\n/*\n * Vendors\n * For vendors for example jQuery, Lodash, angular2-jwt just import them anywhere in your app\n * Also see custom_typings.d.ts as you also need to do `typings install x` where `x` is your module\n */\n\n/*\n * Hot Module Reload\n * experimental version\n */\n\nfunction bootstrapDomReady() {\n  // bootstrap after document is ready\n  return document.addEventListener('DOMContentLoaded', main);\n}\n\nif ('development' === process.env.ENV) {\n  // activate hot module reload\n  if (process.env.HMR) {\n    if (document.readyState === 'complete') {\n      main();\n    } else {\n      bootstrapDomReady();\n    }\n    module.hot.accept();\n  } else {\n    bootstrapDomReady();\n  }\n} else {\n  bootstrapDomReady();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./src/signup/main.ts\n **/"],"sourceRoot":""}