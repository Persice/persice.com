{"version":3,"sources":["webpack:///4.285e590d93a574b82560.chunk.js","webpack:///./src/app/components/connections/connections.component.ts","webpack:///./src/app/components/connections/connections.html","webpack:///./src/app/components/profile/profile_friend.component.ts"],"names":["webpackJsonp",425,"module","exports","__webpack_require__","__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","core_1","router_1","userslist_component_1","loading_component_1","filter_component_1","profile_friend_component_1","connections_service_1","filter_service_1","lodash_1","view","ConnectionsComponent","service","filterService","_router","_this","items","loading","loadingInitial","isListEmpty","limit","filter","next","total_count","offset","profileViewActive","selectedUser","currentIndex","routerInstance","parent","subscribe","closeProfile","window","scrollTo","prototype","setLocation","loc","history","pushState","ngAfterViewInit","setTimeout","ngOnInit","getList","addObserver","observer","data","refreshList","err","console","log","ngOnDestroy","unsubscribe","removeObserver","serviceInstance","get","assignList","document","body","scrollTop","documentElement","meta","more","objects","push","jQuery","bind","handleScrollEvent","unbind","viewFriendProfile","id","findIndex","updated_at","username","event","previousProfile","newIndex","nextProfile","scrollOffset","threshold","height","Component","selector","template","directives","FilterComponent","UsersListComponent","LoadingComponent","ProfileFriendComponent","ConnectionsService","FilterService","Router",825,420,"http_1","profile_avatar_component_1","profile_about_component_1","profile_likes_component_1","profile_friends_component_1","profile_networks_component_1","profile_items_component_1","profile_gallery_component_1","dropdown_directive_1","remodal_directive_1","mutualfriends_service_1","photos_service_1","religiousviews_service_1","politicalviews_service_1","connections_counter_service_1","util_1","mutualfriendsService","photosService","religiousviewsService","politicalviewsService","counterService","http","closeprofileEvent","EventEmitter","nextEvent","previousEvent","friendsTitle","profileType","profileAge","profileGender","profileLocation","profileScore","profileName","profileJob","profileReligiousViews","profilePoliticalViews","profileActiveAgo","profileDistance","profileAbout","profileAvatar","profilePhotos","profilePhotosCount","profileKeywords","profileKeywordsCount","profileInterests","profileGoals","profileOffers","profileInterestsCount","profileGoalsCount","profileOffersCount","profileLikes","profileLikesCount","profileFriends","mutual_bk_friends","mutual_bk_friends_count","mutual_fb_friends","mutual_fb_friends_count","mutual_linkedin_connections","mutual_linkedin_connections_count","mutual_twitter_followers","mutual_twitter_followers_count","mutual_twitter_friends","mutual_twitter_friends_count","profileFriendsCount","profileNetworks","facebook","twitter","linkedin","loadingLikes","loadingConnections","loadingPhotos","galleryActive","galleryOptions","JSON","stringify","hashTracking","closeOnOutsideClick","off","on","e","focus","ngOnChanges","values","user","currentValue","assignUser","url","map","res","json","refreshCounter","profileId","first_name","age","gender","distance","lives_in","likes","position","job","company","image","about","score","facebook_id","linkedin_provider","twitter_provider","twitter_username","ObjectUtil","transformSorted","offers","interests","goals","count","keywords","getMutualFriends","getPhotos","getReligiousViews","getPoliticalViews","assignMutualFriends","getByUser","assignReligiousViews","assignPoliticalViews","assignPhotos","reverse","parseInt","openMessages","eventHandler","openGallery","remodal","open","Input","Output","ProfileAvatarComponent","ProfileAboutComponent","ProfileLikesComponent","ProfileFriendsComponent","ProfileNetworksComponent","ProfileItemsComponent","DropdownDirective","ProfileGalleryComponent","RemodalDirective","ROUTER_DIRECTIVES","providers","PhotosService","ReligiousViewsService","MutualFriendsService","PoliticalViewsService","ConnectionsCounterService","Http"],"mappings":"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","file":"4.285e590d93a574b82560.chunk.js","sourcesContent":["webpackJsonp([4,6],{\n\n/***/ 425:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(2);\n\tvar router_1 = __webpack_require__(18);\n\tvar userslist_component_1 = __webpack_require__(433);\n\tvar loading_component_1 = __webpack_require__(24);\n\tvar filter_component_1 = __webpack_require__(422);\n\tvar profile_friend_component_1 = __webpack_require__(420);\n\tvar connections_service_1 = __webpack_require__(126);\n\tvar filter_service_1 = __webpack_require__(43);\n\tvar lodash_1 = __webpack_require__(21);\n\tvar view = __webpack_require__(825);\n\tvar ConnectionsComponent = (function () {\n\t    function ConnectionsComponent(service, filterService, _router) {\n\t        var _this = this;\n\t        this.service = service;\n\t        this.filterService = filterService;\n\t        this._router = _router;\n\t        this.items = [];\n\t        this.loading = false;\n\t        this.loadingInitial = false;\n\t        this.isListEmpty = false;\n\t        this.limit = 12;\n\t        this.filter = true;\n\t        this.next = '';\n\t        this.total_count = 0;\n\t        this.offset = 0;\n\t        this.profileViewActive = false;\n\t        this.selectedUser = null;\n\t        this.currentIndex = 0;\n\t        this.routerInstance = this._router.parent.subscribe(function (next) {\n\t            _this.closeProfile(true);\n\t            window.scrollTo(0, 0);\n\t        });\n\t    }\n\t    ConnectionsComponent.prototype.setLocation = function (loc) {\n\t        window.history.pushState('', '', '/' + loc);\n\t    };\n\t    ConnectionsComponent.prototype.ngAfterViewInit = function () {\n\t        setTimeout(function () {\n\t            window.scrollTo(0, 0);\n\t        });\n\t    };\n\t    ConnectionsComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        this.total_count = 0;\n\t        this.getList();\n\t        this.filterService.addObserver('connections');\n\t        this.filterService.observer('connections')\n\t            .subscribe(function (data) { return _this.refreshList(); }, function (err) { return console.log(err); }, function () { return console.log('event completed'); });\n\t    };\n\t    ConnectionsComponent.prototype.ngOnDestroy = function () {\n\t        this.filterService.observer('connections').unsubscribe();\n\t        this.filterService.removeObserver('connections');\n\t        if (this.serviceInstance) {\n\t            this.serviceInstance.unsubscribe();\n\t        }\n\t        this.routerInstance.unsubscribe();\n\t    };\n\t    ConnectionsComponent.prototype.getList = function () {\n\t        var _this = this;\n\t        if (this.serviceInstance) {\n\t            this.serviceInstance.unsubscribe();\n\t        }\n\t        this.isListEmpty = false;\n\t        if (this.next === null)\n\t            return;\n\t        this.loading = true;\n\t        if (this.next === '') {\n\t            this.loadingInitial = true;\n\t        }\n\t        this.serviceInstance = this.service.get(this.next, this.limit, this.filter)\n\t            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\n\t            console.log(err);\n\t            _this.loading = false;\n\t            _this.loadingInitial = false;\n\t        }, function () {\n\t        });\n\t    };\n\t    ConnectionsComponent.prototype.refreshList = function () {\n\t        if (this.serviceInstance) {\n\t            this.serviceInstance.unsubscribe();\n\t        }\n\t        document.body.scrollTop = document.documentElement.scrollTop = 0;\n\t        this.items = [];\n\t        this.total_count = 0;\n\t        this.currentIndex = 0;\n\t        this.isListEmpty = false;\n\t        this.next = '';\n\t        this.getList();\n\t    };\n\t    ConnectionsComponent.prototype.assignList = function (data) {\n\t        this.loading = false;\n\t        this.loadingInitial = false;\n\t        if (data.meta.total_count === 0) {\n\t            this.isListEmpty = true;\n\t            return;\n\t        }\n\t        else {\n\t            this.isListEmpty = false;\n\t        }\n\t        if (this.items.length > 0) {\n\t            var more = data.objects;\n\t            for (var i = 0; i <= more.length - 1; i++) {\n\t                this.items.push(more[i]);\n\t            }\n\t            this.total_count += more.length;\n\t        }\n\t        else {\n\t            this.items = data.objects;\n\t            this.total_count = data.objects.length;\n\t        }\n\t        this.next = data.meta.next;\n\t        this.offset = data.meta.offset;\n\t        if (this.next !== null) {\n\t            jQuery(window).bind('scroll', this.handleScrollEvent.bind(this));\n\t        }\n\t        else {\n\t            jQuery(window).unbind('scroll');\n\t        }\n\t    };\n\t    ConnectionsComponent.prototype.viewFriendProfile = function (id) {\n\t        for (var i = this.items.length - 1; i >= 0; i--) {\n\t            if (this.items[i].id === id) {\n\t                this.selectedUser = this.items[i];\n\t                this.currentIndex = lodash_1.findIndex(this.items, { id: this.selectedUser.id });\n\t                this.profileViewActive = true;\n\t                if (this.items[i].updated_at === null) {\n\t                    this.items[i].updated_at = 'seen';\n\t                }\n\t                document.body.scrollTop = document.documentElement.scrollTop = 0;\n\t                this.setLocation(this.selectedUser.username);\n\t            }\n\t        }\n\t    };\n\t    ConnectionsComponent.prototype.closeProfile = function (event) {\n\t        this.profileViewActive = false;\n\t        this.selectedUser = null;\n\t        this.setLocation('connections');\n\t    };\n\t    ConnectionsComponent.prototype.previousProfile = function (event) {\n\t        var currentIndex = lodash_1.findIndex(this.items, { id: this.selectedUser.id });\n\t        var newIndex = currentIndex - 1;\n\t        if (newIndex < 0) {\n\t            return;\n\t        }\n\t        if (this.items.length > 0) {\n\t            this.selectedUser = this.items[newIndex];\n\t            this.setLocation(this.selectedUser.username);\n\t        }\n\t        else {\n\t            this.closeProfile(true);\n\t            this.isListEmpty = true;\n\t        }\n\t        this.currentIndex = newIndex;\n\t    };\n\t    ConnectionsComponent.prototype.nextProfile = function (event) {\n\t        var currentIndex = lodash_1.findIndex(this.items, { id: this.selectedUser.id });\n\t        var newIndex = currentIndex + 1;\n\t        if (!this.loading && newIndex > this.items.length - 13 && this.next) {\n\t            this.getList();\n\t        }\n\t        if (newIndex > this.items.length - 1) {\n\t            return;\n\t        }\n\t        if (this.items.length > 0) {\n\t            this.selectedUser = this.items[newIndex];\n\t            this.setLocation(this.selectedUser.username);\n\t        }\n\t        else {\n\t            this.closeProfile(true);\n\t            this.isListEmpty = true;\n\t        }\n\t        this.currentIndex = newIndex;\n\t    };\n\t    ConnectionsComponent.prototype.handleScrollEvent = function (event) {\n\t        var scrollOffset = jQuery(window).scrollTop();\n\t        var threshold = jQuery(document).height() - jQuery(window).height() - 60;\n\t        if (this.next && scrollOffset > threshold) {\n\t            if (!this.loading) {\n\t                this.getList();\n\t            }\n\t        }\n\t    };\n\t    ConnectionsComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'connections-page',\n\t            template: view,\n\t            directives: [\n\t                filter_component_1.FilterComponent,\n\t                userslist_component_1.UsersListComponent,\n\t                loading_component_1.LoadingComponent,\n\t                profile_friend_component_1.ProfileFriendComponent\n\t            ]\n\t        }), \n\t        __metadata('design:paramtypes', [connections_service_1.ConnectionsService, filter_service_1.FilterService, router_1.Router])\n\t    ], ConnectionsComponent);\n\t    return ConnectionsComponent;\n\t}());\n\texports.ConnectionsComponent = ConnectionsComponent;\n\n\n/***/ },\n\n/***/ 825:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"layout layout--flush content\\\" [ngClass]=\\\"{'is-hidden': profileViewActive}\\\">\\n  <div class=\\\"layout__item 3/4 extralarge-and-up-4/5\\\">\\n    <h3 *ngIf=\\\"!loading && emptyList\\\">No results...</h3>\\n    <users-list [showButtons]=\\\"0\\\" [users]=\\\"items\\\" (onClicked)=\\\"viewFriendProfile($event)\\\"></users-list>\\n    <loading [status]=\\\"loading\\\"></loading>\\n    <div class=\\\"no-results\\\" *ngIf=\\\"isListEmpty\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <h2 class=\\\"no-results__title\\\">Whoops!</h2>\\n      <p class=\\\"no-results__par\\\">No results found.\\n        <br>Please broaden your search criteria</p>\\n      <img src=\\\"/static/assets/images/polar-bear.png\\\" alt=\\\"Polar Bear\\\">\\n    </div>\\n  </div>\\n  <div class=\\\"layout__item 1/4 extralarge-and-up-1/5 filter-place\\\">\\n    <filters [type]=\\\"'connections'\\\"></filters>\\n  </div>\\n</div>\\n<profile-friend [currentIndex]=\\\"currentIndex\\\" [count]=\\\"total_count\\\" (previousEvent)=\\\"previousProfile($event)\\\" (nextEvent)=\\\"nextProfile($event)\\\" *ngIf=\\\"profileViewActive\\\" [user]=\\\"selectedUser\\\" (closeprofileEvent)=\\\"closeProfile($event)\\\">\\n</profile-friend>\\n\"\n\n/***/ },\n\n/***/ 420:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\tvar __metadata = (this && this.__metadata) || function (k, v) {\n\t    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n\t};\n\tvar core_1 = __webpack_require__(2);\n\tvar router_1 = __webpack_require__(18);\n\tvar http_1 = __webpack_require__(80);\n\tvar profile_avatar_component_1 = __webpack_require__(198);\n\tvar profile_about_component_1 = __webpack_require__(197);\n\tvar profile_likes_component_1 = __webpack_require__(201);\n\tvar profile_friends_component_1 = __webpack_require__(199);\n\tvar profile_networks_component_1 = __webpack_require__(202);\n\tvar profile_items_component_1 = __webpack_require__(200);\n\tvar loading_component_1 = __webpack_require__(24);\n\tvar profile_gallery_component_1 = __webpack_require__(421);\n\tvar dropdown_directive_1 = __webpack_require__(417);\n\tvar remodal_directive_1 = __webpack_require__(195);\n\tvar mutualfriends_service_1 = __webpack_require__(123);\n\tvar photos_service_1 = __webpack_require__(82);\n\tvar religiousviews_service_1 = __webpack_require__(58);\n\tvar politicalviews_service_1 = __webpack_require__(57);\n\tvar connections_counter_service_1 = __webpack_require__(81);\n\tvar util_1 = __webpack_require__(11);\n\tvar view = __webpack_require__(419);\n\tvar ProfileFriendComponent = (function () {\n\t    function ProfileFriendComponent(mutualfriendsService, photosService, religiousviewsService, politicalviewsService, counterService, http) {\n\t        this.mutualfriendsService = mutualfriendsService;\n\t        this.photosService = photosService;\n\t        this.religiousviewsService = religiousviewsService;\n\t        this.politicalviewsService = politicalviewsService;\n\t        this.counterService = counterService;\n\t        this.http = http;\n\t        this.closeprofileEvent = new core_1.EventEmitter;\n\t        this.nextEvent = new core_1.EventEmitter;\n\t        this.previousEvent = new core_1.EventEmitter;\n\t        this.friendsTitle = 'Mutual Connections';\n\t        this.profileType = 'friend';\n\t        this.profileAge = '';\n\t        this.profileGender = '';\n\t        this.profileLocation = '';\n\t        this.profileScore = '';\n\t        this.profileName = '';\n\t        this.profileJob = '';\n\t        this.profileReligiousViews = [];\n\t        this.profilePoliticalViews = [];\n\t        this.profileActiveAgo = '2h ago';\n\t        this.profileDistance = '';\n\t        this.profileAbout = '';\n\t        this.profileAvatar = '';\n\t        this.profilePhotos = [];\n\t        this.profilePhotosCount = 0;\n\t        this.profileKeywords = [];\n\t        this.profileKeywordsCount = 0;\n\t        this.profileInterests = [];\n\t        this.profileGoals = [];\n\t        this.profileOffers = [];\n\t        this.profileInterestsCount = 0;\n\t        this.profileGoalsCount = 0;\n\t        this.profileOffersCount = 0;\n\t        this.profileLikes = [];\n\t        this.profileLikesCount = 0;\n\t        this.profileFriends = {\n\t            mutual_bk_friends: [],\n\t            mutual_bk_friends_count: 0,\n\t            mutual_fb_friends: [],\n\t            mutual_fb_friends_count: 0,\n\t            mutual_linkedin_connections: [],\n\t            mutual_linkedin_connections_count: 0,\n\t            mutual_twitter_followers: [],\n\t            mutual_twitter_followers_count: 0,\n\t            mutual_twitter_friends: [],\n\t            mutual_twitter_friends_count: 0\n\t        };\n\t        this.profileFriendsCount = 0;\n\t        this.profileNetworks = {\n\t            facebook: '',\n\t            twitter: '',\n\t            linkedin: ''\n\t        };\n\t        this.loading = false;\n\t        this.loadingLikes = false;\n\t        this.loadingConnections = false;\n\t        this.loadingPhotos = false;\n\t        this.galleryActive = false;\n\t        this.galleryOptions = JSON.stringify({\n\t            hashTracking: false,\n\t            closeOnOutsideClick: true\n\t        });\n\t    }\n\t    ProfileFriendComponent.prototype.ngOnDestroy = function () {\n\t        jQuery(document).off('closed', '.remodal');\n\t    };\n\t    ProfileFriendComponent.prototype.ngOnInit = function () {\n\t        var _this = this;\n\t        jQuery(document).on('closed', '.remodal', function (e) {\n\t            _this.galleryActive = false;\n\t        });\n\t        setTimeout(function () {\n\t            jQuery('#userprofile').focus();\n\t            window.scrollTo(0, 0);\n\t        });\n\t    };\n\t    ProfileFriendComponent.prototype.ngOnChanges = function (values) {\n\t        if (values.user && values.user.currentValue) {\n\t            this.assignUser();\n\t        }\n\t    };\n\t    ProfileFriendComponent.prototype.assignUser = function () {\n\t        var _this = this;\n\t        this.galleryActive = false;\n\t        this.loadingConnections = true;\n\t        this.loadingPhotos = true;\n\t        this.loadingLikes = true;\n\t        var url = \"/api/v1/new_connections/updated_at/?format=json&friend_id=\" + this.user.id;\n\t        this.http.get(url).map(function (res) { return res.json(); }).subscribe(function (data) {\n\t            _this.counterService.refreshCounter();\n\t        });\n\t        this.profileId = this.user.id;\n\t        this.profileName = this.user.first_name;\n\t        this.profileAge = this.user.age;\n\t        this.profileGender = this.user.gender === 'm' ? 'Male' : 'Female';\n\t        this.profileDistance = this.user.distance[0] + \" \" + this.user.distance[1];\n\t        this.profileLocation = this.user.lives_in ? this.user.lives_in : '';\n\t        setTimeout(function () {\n\t            _this.profileLikesCount = 0;\n\t            _this.profileLikes = [];\n\t            var likes = _this.user.likes;\n\t            _this.profileLikes = likes;\n\t            _this.profileLikesCount = _this.profileLikes.length;\n\t            _this.loadingLikes = false;\n\t        });\n\t        this.profileJob = this.user.position && this.user.position.job !== null && this.user.position.company !== null ? this.user.position.job + \" at \" + this.user.position.company : '';\n\t        this.profileAvatar = this.user.image;\n\t        this.profileAbout = this.user.about;\n\t        this.profileScore = this.user.score;\n\t        this.profileNetworks.facebook = \"https://www.facebook.com/app_scoped_user_id/\" + this.user.facebook_id;\n\t        this.profileNetworks.linkedin = this.user.linkedin_provider && this.user.linkedin_provider !== null ? this.user.linkedin_provider : '';\n\t        this.profileNetworks.twitter = this.user.twitter_provider && this.user.twitter_provider !== null ? \"https://twitter.com/\" + this.user.twitter_username : '';\n\t        this.profileOffers = util_1.ObjectUtil.transformSorted(this.user.offers[0]);\n\t        this.profileInterests = util_1.ObjectUtil.transformSorted(this.user.interests[0]);\n\t        this.profileGoals = util_1.ObjectUtil.transformSorted(this.user.goals[0]);\n\t        this.profileInterestsCount = util_1.ObjectUtil.count(this.user.interests[0]);\n\t        this.profileOffersCount = util_1.ObjectUtil.count(this.user.offers[0]);\n\t        this.profileGoalsCount = util_1.ObjectUtil.count(this.user.goals[0]);\n\t        this.profileKeywords = this.user.keywords ? this.user.keywords : [];\n\t        this.profileKeywordsCount = this.user.keywords ? this.user.keywords.length : 0;\n\t        this.getMutualFriends(this.user.id);\n\t        this.getPhotos(this.user.id);\n\t        this.getReligiousViews(this.user.id);\n\t        this.getPoliticalViews(this.user.id);\n\t    };\n\t    ProfileFriendComponent.prototype.getMutualFriends = function (id) {\n\t        var _this = this;\n\t        this.mutualfriendsService.get('', 100, id)\n\t            .subscribe(function (data) { return _this.assignMutualFriends(data); });\n\t    };\n\t    ProfileFriendComponent.prototype.getReligiousViews = function (id) {\n\t        var _this = this;\n\t        this.religiousviewsService.getByUser('', 100, id)\n\t            .subscribe(function (data) { return _this.assignReligiousViews(data); });\n\t    };\n\t    ProfileFriendComponent.prototype.getPoliticalViews = function (id) {\n\t        var _this = this;\n\t        this.politicalviewsService.getByUser('', 100, id)\n\t            .subscribe(function (data) { return _this.assignPoliticalViews(data); }, function (err) { return console.log('Error fetching political views'); }, function () { });\n\t    };\n\t    ProfileFriendComponent.prototype.getPhotos = function (id) {\n\t        var _this = this;\n\t        this.photosService.get('', 6, id)\n\t            .subscribe(function (data) { return _this.assignPhotos(data); });\n\t    };\n\t    ProfileFriendComponent.prototype.assignPhotos = function (data) {\n\t        var _this = this;\n\t        this.profilePhotosCount = 0;\n\t        this.profilePhotos = [];\n\t        setTimeout(function () {\n\t            if (data.meta.total_count > 0) {\n\t                _this.profilePhotos = data.objects.reverse();\n\t                _this.profilePhotosCount = _this.profilePhotos.length;\n\t            }\n\t            _this.loadingPhotos = false;\n\t        });\n\t    };\n\t    ProfileFriendComponent.prototype.assignMutualFriends = function (data) {\n\t        var _this = this;\n\t        this.profileFriendsCount = 0;\n\t        this.profileFriends.mutual_bk_friends = [];\n\t        this.profileFriends.mutual_fb_friends = [];\n\t        this.profileFriends.mutual_linkedin_connections = [];\n\t        this.profileFriends.mutual_twitter_friends = [];\n\t        this.profileFriends.mutual_twitter_followers = [];\n\t        setTimeout(function () {\n\t            if (data.meta.total_count > 0) {\n\t                var items = data.objects[0];\n\t                _this.profileFriendsCount += parseInt(items.mutual_bk_friends_count, 10);\n\t                _this.profileFriendsCount += parseInt(items.mutual_fb_friends_count, 10);\n\t                _this.profileFriendsCount += parseInt(items.mutual_linkedin_connections_count, 10);\n\t                _this.profileFriendsCount += parseInt(items.mutual_twitter_followers_count, 10);\n\t                _this.profileFriendsCount += parseInt(items.mutual_twitter_friends_count, 10);\n\t                _this.profileFriends.mutual_bk_friends = items.mutual_bk_friends;\n\t                _this.profileFriends.mutual_fb_friends = items.mutual_fb_friends;\n\t                _this.profileFriends.mutual_linkedin_connections = items.mutual_linkedin_connections;\n\t                _this.profileFriends.mutual_twitter_friends = items.mutual_twitter_friends;\n\t                _this.profileFriends.mutual_twitter_followers = items.mutual_twitter_followers;\n\t                _this.loadingConnections = false;\n\t            }\n\t        });\n\t    };\n\t    ProfileFriendComponent.prototype.assignReligiousViews = function (data) {\n\t        if (data.meta.total_count > 0) {\n\t            var items = data.objects;\n\t            this.profileReligiousViews = items;\n\t        }\n\t    };\n\t    ProfileFriendComponent.prototype.assignPoliticalViews = function (data) {\n\t        if (data.meta.total_count > 0) {\n\t            var items = data.objects;\n\t            this.profilePoliticalViews = items;\n\t        }\n\t    };\n\t    ProfileFriendComponent.prototype.closeProfile = function (event) {\n\t        this.closeprofileEvent.next(event);\n\t    };\n\t    ProfileFriendComponent.prototype.openMessages = function (event) {\n\t        console.log('open messages');\n\t    };\n\t    ProfileFriendComponent.prototype.eventHandler = function (key) {\n\t        switch (key) {\n\t            case 27:\n\t                this.closeProfile(true);\n\t                break;\n\t            case 37:\n\t                this.previousEvent.next(true);\n\t                break;\n\t            case 39:\n\t                this.nextEvent.next(true);\n\t            default:\n\t                break;\n\t        }\n\t    };\n\t    ProfileFriendComponent.prototype.openGallery = function (event) {\n\t        var remodal = jQuery('[data-remodal-id=modal-gallery]').remodal();\n\t        remodal.open();\n\t        this.galleryActive = true;\n\t    };\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], ProfileFriendComponent.prototype, \"user\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], ProfileFriendComponent.prototype, \"count\", void 0);\n\t    __decorate([\n\t        core_1.Input(), \n\t        __metadata('design:type', Object)\n\t    ], ProfileFriendComponent.prototype, \"currentIndex\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', core_1.EventEmitter)\n\t    ], ProfileFriendComponent.prototype, \"closeprofileEvent\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', core_1.EventEmitter)\n\t    ], ProfileFriendComponent.prototype, \"nextEvent\", void 0);\n\t    __decorate([\n\t        core_1.Output(), \n\t        __metadata('design:type', core_1.EventEmitter)\n\t    ], ProfileFriendComponent.prototype, \"previousEvent\", void 0);\n\t    ProfileFriendComponent = __decorate([\n\t        core_1.Component({\n\t            selector: 'profile-friend',\n\t            template: view,\n\t            directives: [\n\t                profile_avatar_component_1.ProfileAvatarComponent,\n\t                profile_about_component_1.ProfileAboutComponent,\n\t                profile_likes_component_1.ProfileLikesComponent,\n\t                profile_friends_component_1.ProfileFriendsComponent,\n\t                profile_networks_component_1.ProfileNetworksComponent,\n\t                profile_items_component_1.ProfileItemsComponent,\n\t                dropdown_directive_1.DropdownDirective,\n\t                loading_component_1.LoadingComponent,\n\t                profile_gallery_component_1.ProfileGalleryComponent,\n\t                remodal_directive_1.RemodalDirective,\n\t                router_1.ROUTER_DIRECTIVES\n\t            ],\n\t            providers: [\n\t                photos_service_1.PhotosService,\n\t                religiousviews_service_1.ReligiousViewsService\n\t            ]\n\t        }), \n\t        __metadata('design:paramtypes', [mutualfriends_service_1.MutualFriendsService, photos_service_1.PhotosService, religiousviews_service_1.ReligiousViewsService, politicalviews_service_1.PoliticalViewsService, connections_counter_service_1.ConnectionsCounterService, http_1.Http])\n\t    ], ProfileFriendComponent);\n\t    return ProfileFriendComponent;\n\t}());\n\texports.ProfileFriendComponent = ProfileFriendComponent;\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 4.285e590d93a574b82560.chunk.js\n **/","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar core_1 = require('angular2/core');\nvar router_1 = require('angular2/router');\nvar userslist_component_1 = require('../userslist/userslist.component');\nvar loading_component_1 = require('../loading/loading.component');\nvar filter_component_1 = require('../filter/filter.component');\nvar profile_friend_component_1 = require('../profile/profile_friend.component');\nvar connections_service_1 = require('../../services/connections.service');\nvar filter_service_1 = require('../../services/filter.service');\nvar lodash_1 = require('lodash');\nvar view = require('./connections.html');\nvar ConnectionsComponent = (function () {\n    function ConnectionsComponent(service, filterService, _router) {\n        var _this = this;\n        this.service = service;\n        this.filterService = filterService;\n        this._router = _router;\n        this.items = [];\n        this.loading = false;\n        this.loadingInitial = false;\n        this.isListEmpty = false;\n        this.limit = 12;\n        this.filter = true;\n        this.next = '';\n        this.total_count = 0;\n        this.offset = 0;\n        this.profileViewActive = false;\n        this.selectedUser = null;\n        this.currentIndex = 0;\n        this.routerInstance = this._router.parent.subscribe(function (next) {\n            _this.closeProfile(true);\n            window.scrollTo(0, 0);\n        });\n    }\n    ConnectionsComponent.prototype.setLocation = function (loc) {\n        window.history.pushState('', '', '/' + loc);\n    };\n    ConnectionsComponent.prototype.ngAfterViewInit = function () {\n        setTimeout(function () {\n            window.scrollTo(0, 0);\n        });\n    };\n    ConnectionsComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.total_count = 0;\n        this.getList();\n        this.filterService.addObserver('connections');\n        this.filterService.observer('connections')\n            .subscribe(function (data) { return _this.refreshList(); }, function (err) { return console.log(err); }, function () { return console.log('event completed'); });\n    };\n    ConnectionsComponent.prototype.ngOnDestroy = function () {\n        this.filterService.observer('connections').unsubscribe();\n        this.filterService.removeObserver('connections');\n        if (this.serviceInstance) {\n            this.serviceInstance.unsubscribe();\n        }\n        this.routerInstance.unsubscribe();\n    };\n    ConnectionsComponent.prototype.getList = function () {\n        var _this = this;\n        if (this.serviceInstance) {\n            this.serviceInstance.unsubscribe();\n        }\n        this.isListEmpty = false;\n        if (this.next === null)\n            return;\n        this.loading = true;\n        if (this.next === '') {\n            this.loadingInitial = true;\n        }\n        this.serviceInstance = this.service.get(this.next, this.limit, this.filter)\n            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\n            console.log(err);\n            _this.loading = false;\n            _this.loadingInitial = false;\n        }, function () {\n        });\n    };\n    ConnectionsComponent.prototype.refreshList = function () {\n        if (this.serviceInstance) {\n            this.serviceInstance.unsubscribe();\n        }\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n        this.items = [];\n        this.total_count = 0;\n        this.currentIndex = 0;\n        this.isListEmpty = false;\n        this.next = '';\n        this.getList();\n    };\n    ConnectionsComponent.prototype.assignList = function (data) {\n        this.loading = false;\n        this.loadingInitial = false;\n        if (data.meta.total_count === 0) {\n            this.isListEmpty = true;\n            return;\n        }\n        else {\n            this.isListEmpty = false;\n        }\n        if (this.items.length > 0) {\n            var more = data.objects;\n            for (var i = 0; i <= more.length - 1; i++) {\n                this.items.push(more[i]);\n            }\n            this.total_count += more.length;\n        }\n        else {\n            this.items = data.objects;\n            this.total_count = data.objects.length;\n        }\n        this.next = data.meta.next;\n        this.offset = data.meta.offset;\n        if (this.next !== null) {\n            jQuery(window).bind('scroll', this.handleScrollEvent.bind(this));\n        }\n        else {\n            jQuery(window).unbind('scroll');\n        }\n    };\n    ConnectionsComponent.prototype.viewFriendProfile = function (id) {\n        for (var i = this.items.length - 1; i >= 0; i--) {\n            if (this.items[i].id === id) {\n                this.selectedUser = this.items[i];\n                this.currentIndex = lodash_1.findIndex(this.items, { id: this.selectedUser.id });\n                this.profileViewActive = true;\n                if (this.items[i].updated_at === null) {\n                    this.items[i].updated_at = 'seen';\n                }\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n                this.setLocation(this.selectedUser.username);\n            }\n        }\n    };\n    ConnectionsComponent.prototype.closeProfile = function (event) {\n        this.profileViewActive = false;\n        this.selectedUser = null;\n        this.setLocation('connections');\n    };\n    ConnectionsComponent.prototype.previousProfile = function (event) {\n        var currentIndex = lodash_1.findIndex(this.items, { id: this.selectedUser.id });\n        var newIndex = currentIndex - 1;\n        if (newIndex < 0) {\n            return;\n        }\n        if (this.items.length > 0) {\n            this.selectedUser = this.items[newIndex];\n            this.setLocation(this.selectedUser.username);\n        }\n        else {\n            this.closeProfile(true);\n            this.isListEmpty = true;\n        }\n        this.currentIndex = newIndex;\n    };\n    ConnectionsComponent.prototype.nextProfile = function (event) {\n        var currentIndex = lodash_1.findIndex(this.items, { id: this.selectedUser.id });\n        var newIndex = currentIndex + 1;\n        if (!this.loading && newIndex > this.items.length - 13 && this.next) {\n            this.getList();\n        }\n        if (newIndex > this.items.length - 1) {\n            return;\n        }\n        if (this.items.length > 0) {\n            this.selectedUser = this.items[newIndex];\n            this.setLocation(this.selectedUser.username);\n        }\n        else {\n            this.closeProfile(true);\n            this.isListEmpty = true;\n        }\n        this.currentIndex = newIndex;\n    };\n    ConnectionsComponent.prototype.handleScrollEvent = function (event) {\n        var scrollOffset = jQuery(window).scrollTop();\n        var threshold = jQuery(document).height() - jQuery(window).height() - 60;\n        if (this.next && scrollOffset > threshold) {\n            if (!this.loading) {\n                this.getList();\n            }\n        }\n    };\n    ConnectionsComponent = __decorate([\n        core_1.Component({\n            selector: 'connections-page',\n            template: view,\n            directives: [\n                filter_component_1.FilterComponent,\n                userslist_component_1.UsersListComponent,\n                loading_component_1.LoadingComponent,\n                profile_friend_component_1.ProfileFriendComponent\n            ]\n        }), \n        __metadata('design:paramtypes', [connections_service_1.ConnectionsService, filter_service_1.FilterService, router_1.Router])\n    ], ConnectionsComponent);\n    return ConnectionsComponent;\n}());\nexports.ConnectionsComponent = ConnectionsComponent;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ts-loader?{\"compilerOptions\":{\"removeComments\":true}}!./~/tslint-loader!./src/app/components/connections/connections.component.ts\n ** module id = 425\n ** module chunks = 4\n **/","module.exports = \"<div class=\\\"layout layout--flush content\\\" [ngClass]=\\\"{'is-hidden': profileViewActive}\\\">\\n  <div class=\\\"layout__item 3/4 extralarge-and-up-4/5\\\">\\n    <h3 *ngIf=\\\"!loading && emptyList\\\">No results...</h3>\\n    <users-list [showButtons]=\\\"0\\\" [users]=\\\"items\\\" (onClicked)=\\\"viewFriendProfile($event)\\\"></users-list>\\n    <loading [status]=\\\"loading\\\"></loading>\\n    <div class=\\\"no-results\\\" *ngIf=\\\"isListEmpty\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <h2 class=\\\"no-results__title\\\">Whoops!</h2>\\n      <p class=\\\"no-results__par\\\">No results found.\\n        <br>Please broaden your search criteria</p>\\n      <img src=\\\"/static/assets/images/polar-bear.png\\\" alt=\\\"Polar Bear\\\">\\n    </div>\\n  </div>\\n  <div class=\\\"layout__item 1/4 extralarge-and-up-1/5 filter-place\\\">\\n    <filters [type]=\\\"'connections'\\\"></filters>\\n  </div>\\n</div>\\n<profile-friend [currentIndex]=\\\"currentIndex\\\" [count]=\\\"total_count\\\" (previousEvent)=\\\"previousProfile($event)\\\" (nextEvent)=\\\"nextProfile($event)\\\" *ngIf=\\\"profileViewActive\\\" [user]=\\\"selectedUser\\\" (closeprofileEvent)=\\\"closeProfile($event)\\\">\\n</profile-friend>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/components/connections/connections.html\n ** module id = 825\n ** module chunks = 4\n **/","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar core_1 = require('angular2/core');\nvar router_1 = require('angular2/router');\nvar http_1 = require('angular2/http');\nvar profile_avatar_component_1 = require('../profile_avatar/profile_avatar.component');\nvar profile_about_component_1 = require('../profile_about/profile_about.component');\nvar profile_likes_component_1 = require('../profile_likes/profile_likes.component');\nvar profile_friends_component_1 = require('../profile_friends/profile_friends.component');\nvar profile_networks_component_1 = require('../profile_networks/profile_networks.component');\nvar profile_items_component_1 = require('../profile_items/profile_items.component');\nvar loading_component_1 = require('../loading/loading.component');\nvar profile_gallery_component_1 = require('../profile_gallery/profile_gallery.component');\nvar dropdown_directive_1 = require('../../directives/dropdown.directive');\nvar remodal_directive_1 = require('../../directives/remodal.directive');\nvar mutualfriends_service_1 = require('../../services/mutualfriends.service');\nvar photos_service_1 = require('../../services/photos.service');\nvar religiousviews_service_1 = require('../../services/religiousviews.service');\nvar politicalviews_service_1 = require('../../services/politicalviews.service');\nvar connections_counter_service_1 = require('../../services/connections_counter.service');\nvar util_1 = require('../../core/util');\nvar view = require('./profile.html');\nvar ProfileFriendComponent = (function () {\n    function ProfileFriendComponent(mutualfriendsService, photosService, religiousviewsService, politicalviewsService, counterService, http) {\n        this.mutualfriendsService = mutualfriendsService;\n        this.photosService = photosService;\n        this.religiousviewsService = religiousviewsService;\n        this.politicalviewsService = politicalviewsService;\n        this.counterService = counterService;\n        this.http = http;\n        this.closeprofileEvent = new core_1.EventEmitter;\n        this.nextEvent = new core_1.EventEmitter;\n        this.previousEvent = new core_1.EventEmitter;\n        this.friendsTitle = 'Mutual Connections';\n        this.profileType = 'friend';\n        this.profileAge = '';\n        this.profileGender = '';\n        this.profileLocation = '';\n        this.profileScore = '';\n        this.profileName = '';\n        this.profileJob = '';\n        this.profileReligiousViews = [];\n        this.profilePoliticalViews = [];\n        this.profileActiveAgo = '2h ago';\n        this.profileDistance = '';\n        this.profileAbout = '';\n        this.profileAvatar = '';\n        this.profilePhotos = [];\n        this.profilePhotosCount = 0;\n        this.profileKeywords = [];\n        this.profileKeywordsCount = 0;\n        this.profileInterests = [];\n        this.profileGoals = [];\n        this.profileOffers = [];\n        this.profileInterestsCount = 0;\n        this.profileGoalsCount = 0;\n        this.profileOffersCount = 0;\n        this.profileLikes = [];\n        this.profileLikesCount = 0;\n        this.profileFriends = {\n            mutual_bk_friends: [],\n            mutual_bk_friends_count: 0,\n            mutual_fb_friends: [],\n            mutual_fb_friends_count: 0,\n            mutual_linkedin_connections: [],\n            mutual_linkedin_connections_count: 0,\n            mutual_twitter_followers: [],\n            mutual_twitter_followers_count: 0,\n            mutual_twitter_friends: [],\n            mutual_twitter_friends_count: 0\n        };\n        this.profileFriendsCount = 0;\n        this.profileNetworks = {\n            facebook: '',\n            twitter: '',\n            linkedin: ''\n        };\n        this.loading = false;\n        this.loadingLikes = false;\n        this.loadingConnections = false;\n        this.loadingPhotos = false;\n        this.galleryActive = false;\n        this.galleryOptions = JSON.stringify({\n            hashTracking: false,\n            closeOnOutsideClick: true\n        });\n    }\n    ProfileFriendComponent.prototype.ngOnDestroy = function () {\n        jQuery(document).off('closed', '.remodal');\n    };\n    ProfileFriendComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        jQuery(document).on('closed', '.remodal', function (e) {\n            _this.galleryActive = false;\n        });\n        setTimeout(function () {\n            jQuery('#userprofile').focus();\n            window.scrollTo(0, 0);\n        });\n    };\n    ProfileFriendComponent.prototype.ngOnChanges = function (values) {\n        if (values.user && values.user.currentValue) {\n            this.assignUser();\n        }\n    };\n    ProfileFriendComponent.prototype.assignUser = function () {\n        var _this = this;\n        this.galleryActive = false;\n        this.loadingConnections = true;\n        this.loadingPhotos = true;\n        this.loadingLikes = true;\n        var url = \"/api/v1/new_connections/updated_at/?format=json&friend_id=\" + this.user.id;\n        this.http.get(url).map(function (res) { return res.json(); }).subscribe(function (data) {\n            _this.counterService.refreshCounter();\n        });\n        this.profileId = this.user.id;\n        this.profileName = this.user.first_name;\n        this.profileAge = this.user.age;\n        this.profileGender = this.user.gender === 'm' ? 'Male' : 'Female';\n        this.profileDistance = this.user.distance[0] + \" \" + this.user.distance[1];\n        this.profileLocation = this.user.lives_in ? this.user.lives_in : '';\n        setTimeout(function () {\n            _this.profileLikesCount = 0;\n            _this.profileLikes = [];\n            var likes = _this.user.likes;\n            _this.profileLikes = likes;\n            _this.profileLikesCount = _this.profileLikes.length;\n            _this.loadingLikes = false;\n        });\n        this.profileJob = this.user.position && this.user.position.job !== null && this.user.position.company !== null ? this.user.position.job + \" at \" + this.user.position.company : '';\n        this.profileAvatar = this.user.image;\n        this.profileAbout = this.user.about;\n        this.profileScore = this.user.score;\n        this.profileNetworks.facebook = \"https://www.facebook.com/app_scoped_user_id/\" + this.user.facebook_id;\n        this.profileNetworks.linkedin = this.user.linkedin_provider && this.user.linkedin_provider !== null ? this.user.linkedin_provider : '';\n        this.profileNetworks.twitter = this.user.twitter_provider && this.user.twitter_provider !== null ? \"https://twitter.com/\" + this.user.twitter_username : '';\n        this.profileOffers = util_1.ObjectUtil.transformSorted(this.user.offers[0]);\n        this.profileInterests = util_1.ObjectUtil.transformSorted(this.user.interests[0]);\n        this.profileGoals = util_1.ObjectUtil.transformSorted(this.user.goals[0]);\n        this.profileInterestsCount = util_1.ObjectUtil.count(this.user.interests[0]);\n        this.profileOffersCount = util_1.ObjectUtil.count(this.user.offers[0]);\n        this.profileGoalsCount = util_1.ObjectUtil.count(this.user.goals[0]);\n        this.profileKeywords = this.user.keywords ? this.user.keywords : [];\n        this.profileKeywordsCount = this.user.keywords ? this.user.keywords.length : 0;\n        this.getMutualFriends(this.user.id);\n        this.getPhotos(this.user.id);\n        this.getReligiousViews(this.user.id);\n        this.getPoliticalViews(this.user.id);\n    };\n    ProfileFriendComponent.prototype.getMutualFriends = function (id) {\n        var _this = this;\n        this.mutualfriendsService.get('', 100, id)\n            .subscribe(function (data) { return _this.assignMutualFriends(data); });\n    };\n    ProfileFriendComponent.prototype.getReligiousViews = function (id) {\n        var _this = this;\n        this.religiousviewsService.getByUser('', 100, id)\n            .subscribe(function (data) { return _this.assignReligiousViews(data); });\n    };\n    ProfileFriendComponent.prototype.getPoliticalViews = function (id) {\n        var _this = this;\n        this.politicalviewsService.getByUser('', 100, id)\n            .subscribe(function (data) { return _this.assignPoliticalViews(data); }, function (err) { return console.log('Error fetching political views'); }, function () { });\n    };\n    ProfileFriendComponent.prototype.getPhotos = function (id) {\n        var _this = this;\n        this.photosService.get('', 6, id)\n            .subscribe(function (data) { return _this.assignPhotos(data); });\n    };\n    ProfileFriendComponent.prototype.assignPhotos = function (data) {\n        var _this = this;\n        this.profilePhotosCount = 0;\n        this.profilePhotos = [];\n        setTimeout(function () {\n            if (data.meta.total_count > 0) {\n                _this.profilePhotos = data.objects.reverse();\n                _this.profilePhotosCount = _this.profilePhotos.length;\n            }\n            _this.loadingPhotos = false;\n        });\n    };\n    ProfileFriendComponent.prototype.assignMutualFriends = function (data) {\n        var _this = this;\n        this.profileFriendsCount = 0;\n        this.profileFriends.mutual_bk_friends = [];\n        this.profileFriends.mutual_fb_friends = [];\n        this.profileFriends.mutual_linkedin_connections = [];\n        this.profileFriends.mutual_twitter_friends = [];\n        this.profileFriends.mutual_twitter_followers = [];\n        setTimeout(function () {\n            if (data.meta.total_count > 0) {\n                var items = data.objects[0];\n                _this.profileFriendsCount += parseInt(items.mutual_bk_friends_count, 10);\n                _this.profileFriendsCount += parseInt(items.mutual_fb_friends_count, 10);\n                _this.profileFriendsCount += parseInt(items.mutual_linkedin_connections_count, 10);\n                _this.profileFriendsCount += parseInt(items.mutual_twitter_followers_count, 10);\n                _this.profileFriendsCount += parseInt(items.mutual_twitter_friends_count, 10);\n                _this.profileFriends.mutual_bk_friends = items.mutual_bk_friends;\n                _this.profileFriends.mutual_fb_friends = items.mutual_fb_friends;\n                _this.profileFriends.mutual_linkedin_connections = items.mutual_linkedin_connections;\n                _this.profileFriends.mutual_twitter_friends = items.mutual_twitter_friends;\n                _this.profileFriends.mutual_twitter_followers = items.mutual_twitter_followers;\n                _this.loadingConnections = false;\n            }\n        });\n    };\n    ProfileFriendComponent.prototype.assignReligiousViews = function (data) {\n        if (data.meta.total_count > 0) {\n            var items = data.objects;\n            this.profileReligiousViews = items;\n        }\n    };\n    ProfileFriendComponent.prototype.assignPoliticalViews = function (data) {\n        if (data.meta.total_count > 0) {\n            var items = data.objects;\n            this.profilePoliticalViews = items;\n        }\n    };\n    ProfileFriendComponent.prototype.closeProfile = function (event) {\n        this.closeprofileEvent.next(event);\n    };\n    ProfileFriendComponent.prototype.openMessages = function (event) {\n        console.log('open messages');\n    };\n    ProfileFriendComponent.prototype.eventHandler = function (key) {\n        switch (key) {\n            case 27:\n                this.closeProfile(true);\n                break;\n            case 37:\n                this.previousEvent.next(true);\n                break;\n            case 39:\n                this.nextEvent.next(true);\n            default:\n                break;\n        }\n    };\n    ProfileFriendComponent.prototype.openGallery = function (event) {\n        var remodal = jQuery('[data-remodal-id=modal-gallery]').remodal();\n        remodal.open();\n        this.galleryActive = true;\n    };\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', Object)\n    ], ProfileFriendComponent.prototype, \"user\", void 0);\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', Object)\n    ], ProfileFriendComponent.prototype, \"count\", void 0);\n    __decorate([\n        core_1.Input(), \n        __metadata('design:type', Object)\n    ], ProfileFriendComponent.prototype, \"currentIndex\", void 0);\n    __decorate([\n        core_1.Output(), \n        __metadata('design:type', core_1.EventEmitter)\n    ], ProfileFriendComponent.prototype, \"closeprofileEvent\", void 0);\n    __decorate([\n        core_1.Output(), \n        __metadata('design:type', core_1.EventEmitter)\n    ], ProfileFriendComponent.prototype, \"nextEvent\", void 0);\n    __decorate([\n        core_1.Output(), \n        __metadata('design:type', core_1.EventEmitter)\n    ], ProfileFriendComponent.prototype, \"previousEvent\", void 0);\n    ProfileFriendComponent = __decorate([\n        core_1.Component({\n            selector: 'profile-friend',\n            template: view,\n            directives: [\n                profile_avatar_component_1.ProfileAvatarComponent,\n                profile_about_component_1.ProfileAboutComponent,\n                profile_likes_component_1.ProfileLikesComponent,\n                profile_friends_component_1.ProfileFriendsComponent,\n                profile_networks_component_1.ProfileNetworksComponent,\n                profile_items_component_1.ProfileItemsComponent,\n                dropdown_directive_1.DropdownDirective,\n                loading_component_1.LoadingComponent,\n                profile_gallery_component_1.ProfileGalleryComponent,\n                remodal_directive_1.RemodalDirective,\n                router_1.ROUTER_DIRECTIVES\n            ],\n            providers: [\n                photos_service_1.PhotosService,\n                religiousviews_service_1.ReligiousViewsService\n            ]\n        }), \n        __metadata('design:paramtypes', [mutualfriends_service_1.MutualFriendsService, photos_service_1.PhotosService, religiousviews_service_1.ReligiousViewsService, politicalviews_service_1.PoliticalViewsService, connections_counter_service_1.ConnectionsCounterService, http_1.Http])\n    ], ProfileFriendComponent);\n    return ProfileFriendComponent;\n}());\nexports.ProfileFriendComponent = ProfileFriendComponent;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ts-loader?{\"compilerOptions\":{\"removeComments\":true}}!./~/tslint-loader!./src/app/components/profile/profile_friend.component.ts\n ** module id = 420\n ** module chunks = 4 6\n **/"],"sourceRoot":""}