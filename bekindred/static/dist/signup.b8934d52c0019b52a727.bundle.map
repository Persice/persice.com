{"version":3,"sources":["webpack:///signup.b8934d52c0019b52a727.bundle.js","webpack:///src/common/services/index.ts","webpack:///src/common/services/signup-state.service.ts","webpack:///src/signup.browser.ts","webpack:///src/signup/connect-social-accounts/index.ts","webpack:///src/signup/connect-social-accounts/signup-connect.component.ts","webpack:///./src/signup/connect-social-accounts/signup-connect.html","webpack:///src/signup/goals/index.ts","webpack:///src/signup/goals/signup-goals.component.ts","webpack:///./src/signup/goals/signup-goals.html","webpack:///src/signup/header/index.ts","webpack:///src/signup/header/signup-header.component.ts","webpack:///./src/signup/header/signup-header.html","webpack:///src/signup/index.ts","webpack:///src/signup/interests/index.ts","webpack:///src/signup/interests/signup-interests.component.ts","webpack:///./src/signup/interests/signup-interests.html","webpack:///src/signup/offers/index.ts","webpack:///src/signup/offers/signup-offers.component.ts","webpack:///./src/signup/offers/signup-offers.html","webpack:///src/signup/signup.component.ts","webpack:///./src/signup/signup.html"],"names":["webpackJsonp","63","module","exports","__webpack_require__","__export","m","p","hasOwnProperty","285","core_1","SignupStateService","this","counterEmitter","EventEmitter","__decorate","Injectable","__metadata","signupStateServiceInjectables","provide","useClass","0","main","initialHmrState","platform_browser_dynamic_1","bootstrap","signup_1","SignupComponent","environment_1","ENV_PROVIDERS","concat","browser_1","PROVIDERS_SIGNUP","DIRECTIVES","PIPES","APP_PROVIDERS","catch","err","console","error","document","addEventListener","797","798","services_1","SignupConnectComponent","service","_ngZone","connectStatus","twitter","connected","username","url","linkedin","prototype","ngOnInit","_this","getConnectStatus","jQuery","on","e","refreshConnectInfo","findOneByUri","subscribe","data","run","toggle","provider","disconnect","connect","w","h","dualScreenLeft","window","screenLeft","dualScreenTop","screenTop","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","left","top","settings","newWindow","open","focus","openUrl","win","Component","selector","template","UserAuthService","NgZone","858","799","800","lodash_1","services_2","loading_1","SignupGoalsComponent","goalsService","signupStateService","items","loading","isListEmpty","limit","query","next","total_count","offset","newGoal","saveLoading","initializeTokenInput","getList","ngOnDestroy","typeahead","keywordsEngine","Bloodhound","remote","filter","x","map","objects","item","description","wildcard","datumTokenizer","tokenizers","whitespace","queryTokenizer","initialize","hint","highlight","minLength","source","bind","ev","suggestion","saveGoal","goal","length","status","save","res","newItem","push","emit","type","count","JSON","parse","_body","inputChanged","event","which","removeGoal","idx","findIndex","delete","resource_uri","splice","addGoal","get","assignList","refreshList","body","scrollTop","meta","more","i","handleScrollEvent","unbind","scrollOffset","threshold","scrollHeight","directives","LoadingComponent","GoalsService","859","801","802","router_deprecated_1","SignupHeaderComponent","skip","Input","Object","Output","ROUTER_DIRECTIVES","860","803","HttpClient","804","805","SignupInterestsComponent","interestsService","keywordsService","warningService","newInterest","showWarning","userInterest","userInterestCounter","subs","unsubscribe","observer","saveInterest","interest","active","interest_resource","interest_subject","addInterest","mergeMap","log","j","onInterestClick","InterestsService","KeywordsService","WarningService","861","806","807","SignupOffersComponent","offersService","newOffer","saveOffer","offer","addOffer","removeOffer","OffersService","862","808","common_1","interests_1","goals_1","offers_1","connect_social_accounts_1","header_1","router","location","userAuthService","onboardingService","page","cGoa","cOff","cInt","showSkip","nextStep","nextTitle","is_complete","notificationMain","title","state","onCounterChanged","path","onRouteChanged","goals","offers","interests","onboardingflow","completeOnboarding","navigate","href","complete","encapsulation","ViewEncapsulation","None","providers","OnboardingService","RouteConfig","redirectTo","component","name","Router","Location","863"],"mappings":"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","file":"signup.b8934d52c0019b52a727.bundle.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ 63:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(285));\r\n\n\n/***/ },\n\n/***/ 285:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar SignupStateService = (function () {\r\n\t    function SignupStateService() {\r\n\t        this.counterEmitter = new core_1.EventEmitter();\r\n\t    }\r\n\t    SignupStateService = __decorate([\r\n\t        core_1.Injectable(), \r\n\t        __metadata('design:paramtypes', [])\r\n\t    ], SignupStateService);\r\n\t    return SignupStateService;\r\n\t}());\r\n\texports.SignupStateService = SignupStateService;\r\n\texports.signupStateServiceInjectables = [\r\n\t    core_1.provide(SignupStateService, { useClass: SignupStateService })\r\n\t];\r\n\n\n/***/ },\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\t/*\r\n\t * Providers provided by Angular\r\n\t */\r\n\tvar platform_browser_dynamic_1 = __webpack_require__(124);\r\n\t/*\r\n\t* Platform and Environment\r\n\t* our providers/directives/pipes\r\n\t*/\r\n\tvar browser_1 = __webpack_require__(178);\r\n\tvar environment_1 = __webpack_require__(179);\r\n\t/*\r\n\t* App Component\r\n\t* our top level component that holds all of our components\r\n\t*/\r\n\tvar signup_1 = __webpack_require__(803);\r\n\t/*\r\n\t * Bootstrap our Angular app with a top level component `App` and inject\r\n\t * our Services and Providers into Angular's dependency injection\r\n\t */\r\n\tfunction main(initialHmrState) {\r\n\t    return platform_browser_dynamic_1.bootstrap(signup_1.SignupComponent, environment_1.ENV_PROVIDERS.concat(browser_1.PROVIDERS_SIGNUP, browser_1.DIRECTIVES, browser_1.PIPES, signup_1.APP_PROVIDERS))\r\n\t        .catch(function (err) { return console.error(err); });\r\n\t}\r\n\texports.main = main;\r\n\t/*\r\n\t * Vendors\r\n\t * For vendors for example jQuery, Lodash, angular2-jwt just import them anywhere in your app\r\n\t * You can also import them in vendors to ensure that they are bundled in one file\r\n\t * Also see custom-typings.d.ts as you also need to do `typings install x` where `x` is your module\r\n\t */\r\n\t/*\r\n\t * Hot Module Reload\r\n\t * experimental version\r\n\t */\r\n\tif (false) {\r\n\t    // activate hot module reload\r\n\t    var ngHmr = require('angular2-hmr');\r\n\t    ngHmr.hotModuleReplacement(main, module);\r\n\t}\r\n\telse {\r\n\t    // bootstrap when documetn is ready\r\n\t    document.addEventListener('DOMContentLoaded', function () { return main(); });\r\n\t}\r\n\n\n/***/ },\n\n/***/ 797:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(798));\r\n\n\n/***/ },\n\n/***/ 798:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar services_1 = __webpack_require__(11);\r\n\tvar SignupConnectComponent = (function () {\r\n\t    function SignupConnectComponent(service, _ngZone) {\r\n\t        this.service = service;\r\n\t        this._ngZone = _ngZone;\r\n\t        this.connectStatus = {\r\n\t            twitter: {\r\n\t                connected: false,\r\n\t                username: 'Your twitter account',\r\n\t                url: ''\r\n\t            },\r\n\t            linkedin: {\r\n\t                connected: false,\r\n\t                username: 'Your linkedin account',\r\n\t                url: ''\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t    SignupConnectComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        this.getConnectStatus();\r\n\t        jQuery('.connect-media').on('persice:refreshConnect', function (e) {\r\n\t            _this.refreshConnectInfo();\r\n\t        });\r\n\t    };\r\n\t    SignupConnectComponent.prototype.refreshConnectInfo = function () {\r\n\t        var _this = this;\r\n\t        this.service.findOneByUri('me').subscribe(function (data) {\r\n\t            _this.getConnectStatus();\r\n\t        });\r\n\t    };\r\n\t    SignupConnectComponent.prototype.getConnectStatus = function () {\r\n\t        var _this = this;\r\n\t        this._ngZone.run(function () {\r\n\t            _this.connectStatus = _this.service.getConnectStatus();\r\n\t        });\r\n\t    };\r\n\t    SignupConnectComponent.prototype.toggle = function (provider) {\r\n\t        if (this.connectStatus[provider].connected) {\r\n\t            this.disconnect(provider);\r\n\t        }\r\n\t        else {\r\n\t            this.connect(provider);\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent.prototype.connect = function (provider) {\r\n\t        var w = 400;\r\n\t        var h = 300;\r\n\t        var dualScreenLeft = window.screenLeft;\r\n\t        var dualScreenTop = window.screenTop;\r\n\t        var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\r\n\t        var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\r\n\t        var left = ((width / 2) - (w / 2)) + dualScreenLeft;\r\n\t        var top = ((height / 2) - (h / 2)) + dualScreenTop;\r\n\t        var settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\r\n\t        var url = '/social/associate/' + provider + '/?next=/goals/close_login_popup/';\r\n\t        var newWindow = window.open(url, \"Connecting your \" + provider + \" account...\", settings);\r\n\t        if (window.focus) {\r\n\t            newWindow.focus();\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent.prototype.disconnect = function (provider) {\r\n\t        var w = 400;\r\n\t        var h = 300;\r\n\t        var dualScreenLeft = window.screenLeft;\r\n\t        var dualScreenTop = window.screenTop;\r\n\t        var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\r\n\t        var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\r\n\t        var left = ((width / 2) - (w / 2)) + dualScreenLeft;\r\n\t        var top = ((height / 2) - (h / 2)) + dualScreenTop;\r\n\t        var settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\r\n\t        var url = '/social/disconnect/' + provider + '/?next=/goals/close_login_popup/';\r\n\t        var newWindow = window.open(url, \"Disconnecting your \" + provider + \" account...\", settings);\r\n\t        if (window.focus) {\r\n\t            newWindow.focus();\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent.prototype.openUrl = function (provider) {\r\n\t        if (this.connectStatus[provider].connected) {\r\n\t            var win = window.open(this.connectStatus[provider].url, '_blank');\r\n\t            win.focus();\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'prs-signup-connect',\r\n\t            template: __webpack_require__(858)\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [services_1.UserAuthService, core_1.NgZone])\r\n\t    ], SignupConnectComponent);\r\n\t    return SignupConnectComponent;\r\n\t}());\r\n\texports.SignupConnectComponent = SignupConnectComponent;\r\n\n\n/***/ },\n\n/***/ 858:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title mb mt+\\\">Connect your LinkedIn and <br> Twitter accounts</h2>\\n<p class=\\\"signup-step__subtitle\\\">\\n  This will improve your match results within the Persice community.\\n  <br>\\n  <svg role=\\\"img\\\" class=\\\"icon\\\">\\n    <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-lock\\\"></use>\\n  </svg> Persice will never share your information or post on your behalf.\\n</p>\\n<ul class=\\\"connect-media\\\">\\n  <li>\\n    <div (click)=\\\"openUrl('twitter')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.twitter.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--twitter\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-twitter-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--twitter\\\">twitter</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.twitter.connected}\\\">{{connectStatus.twitter.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('twitter')\\\" [ngClass]=\\\"{'is-active': connectStatus.twitter.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--twitter btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n  <li>\\n    <div (click)=\\\"openUrl('linkedin')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.linkedin.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--linkedin\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-linkedin-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--linkedin\\\">linkedin</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.linkedin.connected}\\\">{{connectStatus.linkedin.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('linkedin')\\\" [ngClass]=\\\"{'is-active': connectStatus.linkedin.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--linkedin btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n</ul>\\n<a class=\\\"mr\\\" href=\\\"#\\\"></a>\\n<a href=\\\"#\\\"></a>\\n\"\n\n/***/ },\n\n/***/ 799:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(800));\r\n\n\n/***/ },\n\n/***/ 800:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar lodash_1 = __webpack_require__(29);\r\n\tvar services_1 = __webpack_require__(11);\r\n\tvar services_2 = __webpack_require__(63);\r\n\tvar loading_1 = __webpack_require__(28);\r\n\tvar SignupGoalsComponent = (function () {\r\n\t    function SignupGoalsComponent(goalsService, signupStateService) {\r\n\t        this.goalsService = goalsService;\r\n\t        this.signupStateService = signupStateService;\r\n\t        this.items = [];\r\n\t        this.loading = false;\r\n\t        this.isListEmpty = false;\r\n\t        this.limit = 12;\r\n\t        this.query = '';\r\n\t        this.next = '';\r\n\t        this.total_count = 0;\r\n\t        this.offset = 0;\r\n\t        this.newGoal = '';\r\n\t        this.saveLoading = false;\r\n\t    }\r\n\t    SignupGoalsComponent.prototype.ngOnInit = function () {\r\n\t        this.initializeTokenInput();\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.ngOnDestroy = function () {\r\n\t        jQuery('#goalsInput').typeahead('destroy');\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.initializeTokenInput = function () {\r\n\t        var _this = this;\r\n\t        var keywordsEngine = new Bloodhound({\r\n\t            remote: {\r\n\t                url: '/api/v1/subject/?format=json&limit=30&description__icontains=%QUERY',\r\n\t                filter: function (x) {\r\n\t                    return jQuery.map(x.objects, function (item) {\r\n\t                        return item.description;\r\n\t                    });\r\n\t                },\r\n\t                wildcard: '%QUERY'\r\n\t            },\r\n\t            datumTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t            queryTokenizer: Bloodhound.tokenizers.whitespace\r\n\t        });\r\n\t        keywordsEngine.initialize();\r\n\t        jQuery('#goalsInput').typeahead({\r\n\t            hint: false,\r\n\t            highlight: true,\r\n\t            minLength: 2\r\n\t        }, {\r\n\t            source: keywordsEngine,\r\n\t            limit: 30\r\n\t        });\r\n\t        jQuery('#goalsInput').bind('typeahead:selected', function (ev, suggestion) {\r\n\t            _this.newGoal = suggestion;\r\n\t            _this.saveGoal(suggestion);\r\n\t        });\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.saveGoal = function (goal) {\r\n\t        var _this = this;\r\n\t        if (this.saveLoading === true) {\r\n\t            return;\r\n\t        }\r\n\t        this.saveLoading = true;\r\n\t        if (goal.length === 0 || goal.length > 100) {\r\n\t            this.status = 'failure';\r\n\t            this.saveLoading = false;\r\n\t            return;\r\n\t        }\r\n\t        this.goalsService.save(goal)\r\n\t            .subscribe(function (res) {\r\n\t            var newItem = res;\r\n\t            _this.items.push(newItem);\r\n\t            _this.status = 'success';\r\n\t            _this.total_count++;\r\n\t            _this.signupStateService.counterEmitter.emit({\r\n\t                type: 'goals',\r\n\t                count: _this.total_count\r\n\t            });\r\n\t            if (_this.total_count === 0) {\r\n\t                _this.isListEmpty = true;\r\n\t            }\r\n\t            else {\r\n\t                _this.isListEmpty = false;\r\n\t            }\r\n\t            _this.newGoal = '';\r\n\t            jQuery('#goalsInput').typeahead('val', '');\r\n\t            _this.saveLoading = false;\r\n\t        }, function (err) {\r\n\t            var error = JSON.parse(err._body);\r\n\t            if ('goal' in error) {\r\n\t                _this.status = 'failure';\r\n\t            }\r\n\t            _this.saveLoading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.inputChanged = function (event) {\r\n\t        //if key is not enter clear notification\r\n\t        if (event.which !== 13) {\r\n\t            this.status = null;\r\n\t        }\r\n\t        if (event.which === 13) {\r\n\t            this.saveGoal(this.newGoal);\r\n\t        }\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.removeGoal = function (event) {\r\n\t        var _this = this;\r\n\t        var idx = lodash_1.findIndex(this.items, event);\r\n\t        if (this.items[idx]) {\r\n\t            this.goalsService.delete(event.resource_uri)\r\n\t                .subscribe(function (res) {\r\n\t                _this.items.splice(idx, 1);\r\n\t                _this.total_count--;\r\n\t                _this.signupStateService.counterEmitter.emit({\r\n\t                    type: 'goals',\r\n\t                    count: _this.total_count\r\n\t                });\r\n\t                if (_this.total_count === 0) {\r\n\t                    _this.isListEmpty = true;\r\n\t                }\r\n\t                else {\r\n\t                    _this.isListEmpty = false;\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.addGoal = function () {\r\n\t        this.saveGoal(this.newGoal);\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.getList = function () {\r\n\t        var _this = this;\r\n\t        if (this.next === null)\r\n\t            return;\r\n\t        this.loading = true;\r\n\t        this.goalsService.get(this.next, 100)\r\n\t            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\r\n\t            _this.loading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.refreshList = function () {\r\n\t        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t        this.items.splice(0, this.items.length);\r\n\t        this.isListEmpty = false;\r\n\t        this.next = '';\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.assignList = function (data) {\r\n\t        this.loading = false;\r\n\t        this.total_count = data.meta.total_count;\r\n\t        this.signupStateService.counterEmitter.emit({\r\n\t            type: 'goals',\r\n\t            count: this.total_count\r\n\t        });\r\n\t        if (this.total_count === 0) {\r\n\t            this.isListEmpty = true;\r\n\t            return;\r\n\t        }\r\n\t        else {\r\n\t            this.isListEmpty = false;\r\n\t        }\r\n\t        if (this.items.length > 0) {\r\n\t            var more = data.objects;\r\n\t            for (var i = 0; i <= more.length - 1; i++) {\r\n\t                this.items.push(more[i]);\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            this.items = data.objects;\r\n\t        }\r\n\t        this.next = data.meta.next;\r\n\t        this.offset = data.meta.offset;\r\n\t        //bind to scroll event to load more data on bottom scroll\r\n\t        if (this.next !== null) {\r\n\t            jQuery('#goals').bind('scroll', this.handleScrollEvent.bind(this));\r\n\t        }\r\n\t        else {\r\n\t            jQuery('#goals').unbind('scroll');\r\n\t        }\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.handleScrollEvent = function (event) {\r\n\t        var scrollOffset = jQuery('#goals').scrollTop() + jQuery('#goals').innerHeight();\r\n\t        var threshold = jQuery('#goals')[0].scrollHeight;\r\n\t        if (this.next && scrollOffset >= threshold) {\r\n\t            if (!this.loading) {\r\n\t                this.getList();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    SignupGoalsComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'prs-signup-goals',\r\n\t            template: __webpack_require__(859),\r\n\t            directives: [\r\n\t                loading_1.LoadingComponent\r\n\t            ]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [services_1.GoalsService, services_2.SignupStateService])\r\n\t    ], SignupGoalsComponent);\r\n\t    return SignupGoalsComponent;\r\n\t}());\r\n\texports.SignupGoalsComponent = SignupGoalsComponent;\r\n\n\n/***/ },\n\n/***/ 859:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title\\\">My goal is to...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newGoal\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"goalsInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few goals here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addGoal($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"goals\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"let item of items\\\">\\n      <a (click)=\\\"removeGoal(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-goals\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Goals\\\" are things you want to achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Learn how to salsa dance\\\" or\\n        <br>\\\"Discover new hiking trails\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 801:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(802));\r\n\n\n/***/ },\n\n/***/ 802:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar router_deprecated_1 = __webpack_require__(22);\r\n\tvar SignupHeaderComponent = (function () {\r\n\t    function SignupHeaderComponent() {\r\n\t        this.next = new core_1.EventEmitter();\r\n\t        this.skip = new core_1.EventEmitter();\r\n\t    }\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"counterInterests\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"counterGoals\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"counterOffers\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"page\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"nextTitle\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"showSkip\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupHeaderComponent.prototype, \"next\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupHeaderComponent.prototype, \"skip\", void 0);\r\n\t    SignupHeaderComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'prs-signup-header',\r\n\t            template: __webpack_require__(860),\r\n\t            directives: [router_deprecated_1.ROUTER_DIRECTIVES]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [])\r\n\t    ], SignupHeaderComponent);\r\n\t    return SignupHeaderComponent;\r\n\t}());\r\n\texports.SignupHeaderComponent = SignupHeaderComponent;\r\n\n\n/***/ },\n\n/***/ 860:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<header class=\\\"header-signup\\\">\\n  <div class=\\\"layout layout--middle\\\">\\n    <div class=\\\"layout__item 2/3\\\">\\n      <div class=\\\"layout layout--auto\\\">\\n        <div class=\\\"layout__item\\\">\\n          <div class=\\\"header-signup__logo-place\\\">\\n            <a class=\\\"site-logo\\\" href=\\\"/signup\\\">\\n              <img alt=\\\"#\\\" src=\\\"/static/assets/images/logo.svg\\\" class=\\\"site-logo__mark\\\">\\n              <h1 class=\\\"site-logo__type\\\">Persice</h1>\\n            </a>\\n          </div>\\n        </div>\\n        <div class=\\\"layout__item\\\">\\n          <ul class=\\\"header-signup__steps\\\">\\n            <li *ngIf=\\\"page >= 1\\\"><a [routerLink]=\\\"['./SignupInterests']\\\"><b>{{counterInterests}}</b> interests</a></li>\\n            <li *ngIf=\\\"page >= 2\\\"><a [routerLink]=\\\"['./SignupGoals']\\\"><b>{{counterGoals}}</b> goals</a></li>\\n            <li *ngIf=\\\"page >= 3\\\"><a [routerLink]=\\\"['./SignupOffers']\\\"><b>{{counterOffers}}</b> offers</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"layout__item 1/3 text-right pr\\\">\\n      <a *ngIf=\\\"showSkip\\\" (click)=\\\"skip.next($event)\\\" class=\\\"link--darkgrey mr\\\">Skip</a>\\n      <a (click)=\\\"next.next($event)\\\" class=\\\"btn btn-1 btn-1--green btn-1--medium \\\">{{nextTitle}}</a>\\n    </div>\\n  </div>\\n</header>\\n\"\n\n/***/ },\n\n/***/ 803:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t// App\r\n\t__export(__webpack_require__(808));\r\n\tvar core_1 = __webpack_require__(5);\r\n\t// Application wide providers\r\n\texports.APP_PROVIDERS = [\r\n\t    core_1.HttpClient\r\n\t];\r\n\n\n/***/ },\n\n/***/ 804:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(805));\r\n\n\n/***/ },\n\n/***/ 805:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar lodash_1 = __webpack_require__(29);\r\n\tvar services_1 = __webpack_require__(11);\r\n\tvar services_2 = __webpack_require__(63);\r\n\tvar loading_1 = __webpack_require__(28);\r\n\tvar SignupInterestsComponent = (function () {\r\n\t    function SignupInterestsComponent(interestsService, keywordsService, warningService, signupStateService) {\r\n\t        this.interestsService = interestsService;\r\n\t        this.keywordsService = keywordsService;\r\n\t        this.warningService = warningService;\r\n\t        this.signupStateService = signupStateService;\r\n\t        this.items = [];\r\n\t        this.loading = false;\r\n\t        this.isListEmpty = false;\r\n\t        this.limit = 12;\r\n\t        this.query = '';\r\n\t        this.next = '';\r\n\t        this.total_count = 0;\r\n\t        this.offset = 0;\r\n\t        this.newInterest = '';\r\n\t        this.saveLoading = false;\r\n\t        this.showWarning = false;\r\n\t        this.userInterest = [];\r\n\t        this.userInterestCounter = 0;\r\n\t    }\r\n\t    SignupInterestsComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        this.initializeTokenInput();\r\n\t        this.getList();\r\n\t        if (this.subs) {\r\n\t            this.subs.unsubscribe();\r\n\t        }\r\n\t        this.subs = this.warningService.observer().subscribe(function (event) { return _this.showWarning = event; });\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.ngOnDestroy = function () {\r\n\t        if (this.subs) {\r\n\t            this.subs.unsubscribe();\r\n\t        }\r\n\t        jQuery('#interestsInput').typeahead('destroy');\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.initializeTokenInput = function () {\r\n\t        var _this = this;\r\n\t        var keywordsEngine = new Bloodhound({\r\n\t            remote: {\r\n\t                url: '/api/v1/interest_subject/?format=json&limit=30&description__icontains=%QUERY',\r\n\t                filter: function (x) {\r\n\t                    return jQuery.map(x.objects, function (item) {\r\n\t                        return item.description;\r\n\t                    });\r\n\t                },\r\n\t                wildcard: '%QUERY'\r\n\t            },\r\n\t            datumTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t            queryTokenizer: Bloodhound.tokenizers.whitespace\r\n\t        });\r\n\t        keywordsEngine.initialize();\r\n\t        jQuery('#interestsInput').typeahead({\r\n\t            hint: false,\r\n\t            highlight: true,\r\n\t            minLength: 2\r\n\t        }, {\r\n\t            source: keywordsEngine,\r\n\t            limit: 30\r\n\t        });\r\n\t        jQuery('#interestsInput').bind('typeahead:selected', function (ev, suggestion) {\r\n\t            _this.newInterest = suggestion;\r\n\t            _this.saveInterest(suggestion);\r\n\t        });\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.saveInterest = function (interest) {\r\n\t        var _this = this;\r\n\t        if (this.saveLoading) {\r\n\t            return;\r\n\t        }\r\n\t        this.saveLoading = true;\r\n\t        if (interest.length === 0 || interest.length > 100) {\r\n\t            this.status = 'failure';\r\n\t            this.saveLoading = false;\r\n\t            return;\r\n\t        }\r\n\t        var idx = lodash_1.findIndex(this.items, { 'description': interest });\r\n\t        if (this.items[idx]) {\r\n\t            if (!this.items[idx].active) {\r\n\t                this.interestsService.save(this.items[idx].description)\r\n\t                    .subscribe(function (res) {\r\n\t                    _this.saveLoading = false;\r\n\t                    _this.items[idx].active = true;\r\n\t                    _this.items[idx].interest_resource = res.resource_uri;\r\n\t                    _this.userInterestCounter++;\r\n\t                    _this.signupStateService.counterEmitter.emit({\r\n\t                        type: 'interests',\r\n\t                        count: _this.userInterestCounter\r\n\t                    });\r\n\t                    _this.status = 'success';\r\n\t                    _this.newInterest = '';\r\n\t                    jQuery('#interestsInput').typeahead('val', '');\r\n\t                }, function (err) {\r\n\t                    _this.status = 'failure';\r\n\t                    _this.saveLoading = false;\r\n\t                }, function () { });\r\n\t            }\r\n\t            else {\r\n\t                this.status = 'failure';\r\n\t                this.saveLoading = false;\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            //create new interest\r\n\t            this.interestsService.save(interest)\r\n\t                .subscribe(function (res) {\r\n\t                _this.saveLoading = false;\r\n\t                var newItem = res;\r\n\t                newItem.active = true;\r\n\t                newItem.description = res.interest_subject;\r\n\t                newItem.interest_resource = res.resource_uri;\r\n\t                _this.items.push(newItem);\r\n\t                _this.status = 'success';\r\n\t                _this.userInterestCounter++;\r\n\t                _this.signupStateService.counterEmitter.emit({\r\n\t                    type: 'interests',\r\n\t                    count: _this.userInterestCounter\r\n\t                });\r\n\t                _this.newInterest = '';\r\n\t                jQuery('#interestsInput').typeahead('val', '');\r\n\t                _this.refreshList();\r\n\t            }, function (err) {\r\n\t                _this.status = 'failure';\r\n\t                _this.saveLoading = false;\r\n\t            }, function () { });\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.inputChanged = function (event) {\r\n\t        //if key is not enter clear notification\r\n\t        if (event.which !== 13) {\r\n\t            this.status = null;\r\n\t        }\r\n\t        if (event.which === 13) {\r\n\t            this.saveInterest(this.newInterest);\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.addInterest = function () {\r\n\t        this.saveInterest(this.newInterest);\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.getList = function () {\r\n\t        var _this = this;\r\n\t        if (this.next === null)\r\n\t            return;\r\n\t        this.loading = true;\r\n\t        this.interestsService.get('', 2000)\r\n\t            .mergeMap(function (data) {\r\n\t            _this.userInterestCounter = data.meta.total_count;\r\n\t            _this.signupStateService.counterEmitter.emit({\r\n\t                type: 'interests',\r\n\t                count: _this.userInterestCounter\r\n\t            });\r\n\t            if (_this.userInterestCounter > 0) {\r\n\t                _this.userInterest = data.objects;\r\n\t            }\r\n\t            return _this.keywordsService.get(_this.next, 100, _this.newInterest);\r\n\t        })\r\n\t            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\r\n\t            console.log(err);\r\n\t            _this.loading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.refreshList = function () {\r\n\t        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t        this.items.splice(0, this.items.length);\r\n\t        this.isListEmpty = false;\r\n\t        this.next = '';\r\n\t        this.saveLoading = false;\r\n\t        this.userInterest.splice(0, this.userInterest.length);\r\n\t        this.userInterestCounter = 0;\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.assignList = function (data) {\r\n\t        this.loading = false;\r\n\t        this.total_count = data.meta.total_count;\r\n\t        if (this.total_count === 0) {\r\n\t            this.isListEmpty = true;\r\n\t            return;\r\n\t        }\r\n\t        else {\r\n\t            this.isListEmpty = false;\r\n\t        }\r\n\t        var more = data.objects;\r\n\t        for (var i = 0; i <= more.length - 1; i++) {\r\n\t            more[i].active = false;\r\n\t            more[i].interest_resource = null;\r\n\t            for (var j = this.userInterest.length - 1; j >= 0; j--) {\r\n\t                if (more[i].resource_uri === this.userInterest[j].interest) {\r\n\t                    more[i].interest_resource = this.userInterest[j].resource_uri;\r\n\t                    more[i].active = true;\r\n\t                }\r\n\t            }\r\n\t            this.items.push(more[i]);\r\n\t        }\r\n\t        this.next = data.meta.next;\r\n\t        this.offset = data.meta.offset;\r\n\t        //bind to scroll event to load more data on bottom scroll\r\n\t        if (this.next !== null) {\r\n\t            jQuery('#interests').bind('scroll', this.handleScrollEvent.bind(this));\r\n\t        }\r\n\t        else {\r\n\t            jQuery('#interests').unbind('scroll');\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.handleScrollEvent = function (event) {\r\n\t        var scrollOffset = jQuery('#interests').scrollTop() + jQuery('#interests').innerHeight();\r\n\t        var threshold = jQuery('#interests')[0].scrollHeight;\r\n\t        if (this.next && scrollOffset >= threshold) {\r\n\t            if (!this.loading) {\r\n\t                this.getList();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.onInterestClick = function (event) {\r\n\t        var _this = this;\r\n\t        this.status = null;\r\n\t        var idx = lodash_1.findIndex(this.items, event);\r\n\t        if (this.items[idx]) {\r\n\t            if (this.items[idx].active) {\r\n\t                //deselect interest\r\n\t                var url = this.items[idx].interest_resource;\r\n\t                this.interestsService.delete(url)\r\n\t                    .subscribe(function (res) {\r\n\t                    _this.items[idx].active = false;\r\n\t                    _this.items[idx].interest_resource = null;\r\n\t                    _this.userInterestCounter--;\r\n\t                    _this.signupStateService.counterEmitter.emit({\r\n\t                        type: 'interests',\r\n\t                        count: _this.userInterestCounter\r\n\t                    });\r\n\t                }, function (err) {\r\n\t                    _this.status = 'failure';\r\n\t                }, function () { });\r\n\t            }\r\n\t            else {\r\n\t                //select interest\r\n\t                this.interestsService.save(this.items[idx].description)\r\n\t                    .subscribe(function (res) {\r\n\t                    _this.items[idx].active = true;\r\n\t                    _this.items[idx].interest_resource = res.resource_uri;\r\n\t                    _this.userInterestCounter++;\r\n\t                    _this.signupStateService.counterEmitter.emit({\r\n\t                        type: 'interests',\r\n\t                        count: _this.userInterestCounter\r\n\t                    });\r\n\t                }, function (err) {\r\n\t                    _this.status = 'failure';\r\n\t                }, function () { });\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'prs-signup-interests',\r\n\t            template: __webpack_require__(861),\r\n\t            directives: [\r\n\t                loading_1.LoadingComponent\r\n\t            ]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [services_1.InterestsService, services_1.KeywordsService, services_1.WarningService, services_2.SignupStateService])\r\n\t    ], SignupInterestsComponent);\r\n\t    return SignupInterestsComponent;\r\n\t}());\r\n\texports.SignupInterestsComponent = SignupInterestsComponent;\r\n\n\n/***/ },\n\n/***/ 861:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title\\\">What interests you?</h2>\\n<p class=\\\"signup-step__subtitle signup-step__subtitle__warning\\\" *ngIf=\\\"showWarning\\\">Please select at least three.</p>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\" id=\\\"interestsSearch\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon \\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newInterest\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" class=\\\"search__input typeahead\\\" id=\\\"interestsInput\\\" placeholder=\\\"Enter your interests or search existing\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\" (click)=\\\"addInterest($event)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper\\\" id=\\\"interests\\\">\\n    <span (click)=\\\"onInterestClick(item)\\\" [ngClass]=\\\"{'is-current': item.active}\\\" class=\\\"search-tag\\\" *ngFor=\\\"let item of items\\\">{{item.description}}</span>\\n    <prs-loading [status]=\\\"loading\\\"></prs-loading>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 806:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(807));\r\n\n\n/***/ },\n\n/***/ 807:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar lodash_1 = __webpack_require__(29);\r\n\tvar services_1 = __webpack_require__(11);\r\n\tvar services_2 = __webpack_require__(63);\r\n\tvar loading_1 = __webpack_require__(28);\r\n\tvar SignupOffersComponent = (function () {\r\n\t    function SignupOffersComponent(offersService, signupStateService) {\r\n\t        this.offersService = offersService;\r\n\t        this.signupStateService = signupStateService;\r\n\t        this.items = [];\r\n\t        this.loading = false;\r\n\t        this.isListEmpty = false;\r\n\t        this.limit = 12;\r\n\t        this.query = '';\r\n\t        this.next = '';\r\n\t        this.total_count = 0;\r\n\t        this.offset = 0;\r\n\t        this.newOffer = '';\r\n\t        this.saveLoading = false;\r\n\t    }\r\n\t    SignupOffersComponent.prototype.ngOnInit = function () {\r\n\t        this.initializeTokenInput();\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupOffersComponent.prototype.ngOnDestroy = function () {\r\n\t        jQuery('#offersInput').typeahead('destroy');\r\n\t    };\r\n\t    SignupOffersComponent.prototype.initializeTokenInput = function () {\r\n\t        var _this = this;\r\n\t        var keywordsEngine = new Bloodhound({\r\n\t            remote: {\r\n\t                url: '/api/v1/subject/?format=json&limit=30&description__icontains=%QUERY',\r\n\t                filter: function (x) {\r\n\t                    return jQuery.map(x.objects, function (item) {\r\n\t                        return item.description;\r\n\t                    });\r\n\t                },\r\n\t                wildcard: '%QUERY'\r\n\t            },\r\n\t            datumTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t            queryTokenizer: Bloodhound.tokenizers.whitespace\r\n\t        });\r\n\t        keywordsEngine.initialize();\r\n\t        jQuery('#offersInput').typeahead({\r\n\t            hint: false,\r\n\t            highlight: true,\r\n\t            minLength: 2\r\n\t        }, {\r\n\t            source: keywordsEngine,\r\n\t            limit: 30\r\n\t        });\r\n\t        jQuery('#offersInput').bind('typeahead:selected', function (ev, suggestion) {\r\n\t            _this.newOffer = suggestion;\r\n\t            _this.saveOffer(suggestion);\r\n\t        });\r\n\t    };\r\n\t    SignupOffersComponent.prototype.saveOffer = function (offer) {\r\n\t        var _this = this;\r\n\t        if (this.saveLoading === true) {\r\n\t            return;\r\n\t        }\r\n\t        this.saveLoading = true;\r\n\t        if (offer.length === 0 || offer.length > 100) {\r\n\t            this.status = 'failure';\r\n\t            this.saveLoading = false;\r\n\t            return;\r\n\t        }\r\n\t        this.offersService.save(offer)\r\n\t            .subscribe(function (res) {\r\n\t            var newItem = res;\r\n\t            _this.items.push(newItem);\r\n\t            _this.status = 'success';\r\n\t            _this.total_count++;\r\n\t            _this.signupStateService.counterEmitter.emit({\r\n\t                type: 'offers',\r\n\t                count: _this.total_count\r\n\t            });\r\n\t            if (_this.total_count === 0) {\r\n\t                _this.isListEmpty = true;\r\n\t            }\r\n\t            else {\r\n\t                _this.isListEmpty = false;\r\n\t            }\r\n\t            _this.newOffer = '';\r\n\t            jQuery('#offersInput').typeahead('val', '');\r\n\t            _this.saveLoading = false;\r\n\t        }, function (err) {\r\n\t            var error = JSON.parse(err._body);\r\n\t            if ('offer' in error) {\r\n\t                _this.status = 'failure';\r\n\t            }\r\n\t            _this.saveLoading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupOffersComponent.prototype.inputChanged = function (event) {\r\n\t        //if key is not enter clear notification\r\n\t        if (event.which !== 13) {\r\n\t            this.status = null;\r\n\t        }\r\n\t        if (event.which === 13) {\r\n\t            this.saveOffer(this.newOffer);\r\n\t        }\r\n\t    };\r\n\t    SignupOffersComponent.prototype.addOffer = function () {\r\n\t        this.saveOffer(this.newOffer);\r\n\t    };\r\n\t    SignupOffersComponent.prototype.removeOffer = function (event) {\r\n\t        var _this = this;\r\n\t        var idx = lodash_1.findIndex(this.items, event);\r\n\t        if (this.items[idx]) {\r\n\t            this.offersService.delete(event.resource_uri)\r\n\t                .subscribe(function (res) {\r\n\t                _this.items.splice(idx, 1);\r\n\t                _this.total_count--;\r\n\t                _this.signupStateService.counterEmitter.emit({\r\n\t                    type: 'offers',\r\n\t                    count: _this.total_count\r\n\t                });\r\n\t                if (_this.total_count === 0) {\r\n\t                    _this.isListEmpty = true;\r\n\t                }\r\n\t                else {\r\n\t                    _this.isListEmpty = false;\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    SignupOffersComponent.prototype.getList = function () {\r\n\t        var _this = this;\r\n\t        if (this.next === null)\r\n\t            return;\r\n\t        this.loading = true;\r\n\t        this.offersService.get(this.next, 100)\r\n\t            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\r\n\t            _this.loading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupOffersComponent.prototype.refreshList = function () {\r\n\t        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t        this.items.splice(0, this.items.length);\r\n\t        this.isListEmpty = false;\r\n\t        this.next = '';\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupOffersComponent.prototype.assignList = function (data) {\r\n\t        this.loading = false;\r\n\t        this.total_count = data.meta.total_count;\r\n\t        this.signupStateService.counterEmitter.emit({\r\n\t            type: 'offers',\r\n\t            count: this.total_count\r\n\t        });\r\n\t        if (this.total_count === 0) {\r\n\t            this.isListEmpty = true;\r\n\t            return;\r\n\t        }\r\n\t        else {\r\n\t            this.isListEmpty = false;\r\n\t        }\r\n\t        if (this.items.length > 0) {\r\n\t            var more = data.objects;\r\n\t            for (var i = 0; i <= more.length - 1; i++) {\r\n\t                this.items.push(more[i]);\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            this.items = data.objects;\r\n\t        }\r\n\t        this.next = data.meta.next;\r\n\t        this.offset = data.meta.offset;\r\n\t        //bind to scroll event to load more data on bottom scroll\r\n\t        if (this.next !== null) {\r\n\t            jQuery('#offers').bind('scroll', this.handleScrollEvent.bind(this));\r\n\t        }\r\n\t        else {\r\n\t            jQuery('#offers').unbind('scroll');\r\n\t        }\r\n\t    };\r\n\t    SignupOffersComponent.prototype.handleScrollEvent = function (event) {\r\n\t        var scrollOffset = jQuery('#offers').scrollTop() + jQuery('#offers').innerHeight();\r\n\t        var threshold = jQuery('#offers')[0].scrollHeight;\r\n\t        if (this.next && scrollOffset >= threshold) {\r\n\t            if (!this.loading) {\r\n\t                this.getList();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    SignupOffersComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'prs-signup-offers',\r\n\t            template: __webpack_require__(862),\r\n\t            directives: [\r\n\t                loading_1.LoadingComponent\r\n\t            ]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [services_1.OffersService, services_2.SignupStateService])\r\n\t    ], SignupOffersComponent);\r\n\t    return SignupOffersComponent;\r\n\t}());\r\n\texports.SignupOffersComponent = SignupOffersComponent;\r\n\n\n/***/ },\n\n/***/ 862:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title\\\">I can help people...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newOffer\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"offersInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few offers here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addOffer($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"offers\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"let item of items\\\">\\n      <a (click)=\\\"removeOffer(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-offers\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Offers\\\" are things you can help other people achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Practice speaking Spanish\\\"\\n        <br>or \\\"Find a tennis partner\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 808:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar router_deprecated_1 = __webpack_require__(22);\r\n\tvar common_1 = __webpack_require__(43);\r\n\tvar interests_1 = __webpack_require__(804);\r\n\tvar goals_1 = __webpack_require__(799);\r\n\tvar offers_1 = __webpack_require__(806);\r\n\tvar connect_social_accounts_1 = __webpack_require__(797);\r\n\tvar header_1 = __webpack_require__(801);\r\n\tvar services_1 = __webpack_require__(11);\r\n\tvar services_2 = __webpack_require__(63);\r\n\tvar SignupComponent = (function () {\r\n\t    function SignupComponent(router, location, goalsService, offersService, interestsService, userAuthService, onboardingService, warningService, signupStateService) {\r\n\t        var _this = this;\r\n\t        this.goalsService = goalsService;\r\n\t        this.offersService = offersService;\r\n\t        this.interestsService = interestsService;\r\n\t        this.userAuthService = userAuthService;\r\n\t        this.onboardingService = onboardingService;\r\n\t        this.warningService = warningService;\r\n\t        this.signupStateService = signupStateService;\r\n\t        this.page = 1;\r\n\t        this.cGoa = 0;\r\n\t        this.cOff = 0;\r\n\t        this.cInt = 0;\r\n\t        this.showSkip = false;\r\n\t        this.nextStep = 'SignupGoals';\r\n\t        this.nextTitle = 'Next';\r\n\t        this.is_complete = null;\r\n\t        this.notificationMain = {\r\n\t            body: '',\r\n\t            title: '',\r\n\t            active: false,\r\n\t            type: ''\r\n\t        };\r\n\t        this.router = router;\r\n\t        this.location = location;\r\n\t        this.signupStateService.counterEmitter.subscribe(function (state) {\r\n\t            _this.onCounterChanged(state);\r\n\t        });\r\n\t        this.router.subscribe(function (path) {\r\n\t            _this.onRouteChanged(path);\r\n\t        });\r\n\t    }\r\n\t    SignupComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        this.userAuthService.findOneByUri('me').subscribe(function (data) {\r\n\t            var res = data;\r\n\t            _this.cGoa = res.goals.length;\r\n\t            _this.cOff = res.offers.length;\r\n\t            _this.cInt = res.interests.length;\r\n\t            _this.is_complete = res.onboardingflow;\r\n\t        });\r\n\t    };\r\n\t    SignupComponent.prototype.onRouteChanged = function (path) {\r\n\t        switch (path) {\r\n\t            case 'interests':\r\n\t                this.page = 1;\r\n\t                this.showSkip = false;\r\n\t                this.nextStep = 'SignupGoals';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t            case 'goals':\r\n\t                this.page = 2;\r\n\t                this.showSkip = true;\r\n\t                this.nextStep = 'SignupOffers';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t            case 'offers':\r\n\t                this.page = 3;\r\n\t                this.showSkip = true;\r\n\t                this.nextStep = 'SignupConnect';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t            case 'connect':\r\n\t                this.page = 4;\r\n\t                this.showSkip = true;\r\n\t                this.nextStep = null;\r\n\t                this.nextTitle = 'Go!';\r\n\t                break;\r\n\t            default:\r\n\t                this.page = 1;\r\n\t                this.showSkip = false;\r\n\t                this.nextStep = 'SignupGoals';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.next = function (event) {\r\n\t        if (this.nextStep) {\r\n\t            switch (this.nextStep) {\r\n\t                case 'SignupGoals':\r\n\t                    //check if user selected less than 3 interests\r\n\t                    if (this.cInt < 3) {\r\n\t                        this.warningService.push(true);\r\n\t                        return;\r\n\t                    }\r\n\t                    else {\r\n\t                        this.completeOnboarding();\r\n\t                        this.warningService.push(false);\r\n\t                    }\r\n\t                    break;\r\n\t                default:\r\n\t                    break;\r\n\t            }\r\n\t            this.router.navigate([this.nextStep]);\r\n\t        }\r\n\t        else {\r\n\t            window.location.href = '/crowd/';\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.skip = function (event) {\r\n\t        if (this.nextStep) {\r\n\t            this.router.navigate([this.nextStep]);\r\n\t        }\r\n\t        else {\r\n\t            window.location.href = '/crowd/';\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.completeOnboarding = function () {\r\n\t        if (this.is_complete === null) {\r\n\t            this.onboardingService.complete().subscribe(function (data) {\r\n\t            }, function (err) {\r\n\t            }, function () {\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.onCounterChanged = function (event) {\r\n\t        switch (event.type) {\r\n\t            case 'interests':\r\n\t                this.cInt = event.count;\r\n\t                break;\r\n\t            case 'goals':\r\n\t                this.cGoa = event.count;\r\n\t                break;\r\n\t            case 'offers':\r\n\t                this.cOff = event.count;\r\n\t                break;\r\n\t            default:\r\n\t                break;\r\n\t        }\r\n\t    };\r\n\t    SignupComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            template: __webpack_require__(863),\r\n\t            selector: 'persice-signup',\r\n\t            encapsulation: core_1.ViewEncapsulation.None,\r\n\t            directives: [\r\n\t                header_1.SignupHeaderComponent,\r\n\t                router_deprecated_1.ROUTER_DIRECTIVES\r\n\t            ],\r\n\t            providers: [\r\n\t                services_1.InterestsService,\r\n\t                services_1.GoalsService,\r\n\t                services_1.OffersService,\r\n\t                services_1.KeywordsService,\r\n\t                services_1.UserAuthService,\r\n\t                services_1.OnboardingService,\r\n\t                services_1.WarningService,\r\n\t                services_2.SignupStateService\r\n\t            ]\r\n\t        }),\r\n\t        router_deprecated_1.RouteConfig([\r\n\t            {\r\n\t                path: '/',\r\n\t                redirectTo: ['SignupInterests']\r\n\t            },\r\n\t            {\r\n\t                path: '/interests',\r\n\t                component: interests_1.SignupInterestsComponent,\r\n\t                name: 'SignupInterests',\r\n\t                data: { page: 1 }\r\n\t            },\r\n\t            {\r\n\t                path: '/goals',\r\n\t                component: goals_1.SignupGoalsComponent,\r\n\t                name: 'SignupGoals',\r\n\t                data: { page: 2 }\r\n\t            },\r\n\t            {\r\n\t                path: '/offers',\r\n\t                component: offers_1.SignupOffersComponent,\r\n\t                name: 'SignupOffers',\r\n\t                data: { page: 3 }\r\n\t            },\r\n\t            {\r\n\t                path: '/connect',\r\n\t                component: connect_social_accounts_1.SignupConnectComponent,\r\n\t                name: 'SignupConnect',\r\n\t                data: { page: 4 }\r\n\t            }\r\n\t        ]), \r\n\t        __metadata('design:paramtypes', [router_deprecated_1.Router, common_1.Location, services_1.GoalsService, services_1.OffersService, services_1.InterestsService, services_1.UserAuthService, services_1.OnboardingService, services_1.WarningService, services_2.SignupStateService])\r\n\t    ], SignupComponent);\r\n\t    return SignupComponent;\r\n\t}());\r\n\texports.SignupComponent = SignupComponent;\r\n\n\n/***/ },\n\n/***/ 863:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"signup\\\">\\n  <prs-signup-header [nextTitle]=\\\"nextTitle\\\" [showSkip]=\\\"showSkip\\\" (skip)=\\\"skip($event)\\\" (next)=\\\"next($event)\\\" [page]=\\\"page\\\" [counterInterests]=\\\"cInt\\\" [counterOffers]=\\\"cOff\\\" [counterGoals]=\\\"cGoa\\\"></prs-signup-header>\\n  <div class=\\\"signup__content\\\">\\n    <ul class=\\\"signup-pager\\\">\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 1, 'signup-pager__completed': page >= 2}\\\">1</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 2,'signup-pager__completed': page >= 3}\\\">2</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 3, 'signup-pager__completed': page === 4}\\\">3</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 4}\\\">4</li>\\n    </ul>\\n    <router-outlet></router-outlet>\\n  </div>\\n</div>\\n\"\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** signup.b8934d52c0019b52a727.bundle.js\n **/","export * from './signup-state.service';\n\n\n\n/** WEBPACK FOOTER **\n ** src/common/services/index.ts\n **/","import {Injectable, EventEmitter, provide} from '@angular/core';\n\n@Injectable()\nexport class SignupStateService {\n  counterEmitter: EventEmitter<any> = new EventEmitter();\n}\nexport var signupStateServiceInjectables: Array<any> = [\n  provide(SignupStateService, { useClass: SignupStateService })\n];\n\n\n\n/** WEBPACK FOOTER **\n ** src/common/services/signup-state.service.ts\n **/","/*\n * Providers provided by Angular\n */\nimport {bootstrap} from '@angular/platform-browser-dynamic';\n/*\n* Platform and Environment\n* our providers/directives/pipes\n*/\nimport {DIRECTIVES, PIPES, PROVIDERS_SIGNUP} from './platform/browser';\nimport {ENV_PROVIDERS} from './platform/environment';\n\n/*\n* App Component\n* our top level component that holds all of our components\n*/\nimport {SignupComponent, APP_PROVIDERS} from './signup';\n\n/*\n * Bootstrap our Angular app with a top level component `App` and inject\n * our Services and Providers into Angular's dependency injection\n */\nexport function main(initialHmrState?: any): Promise<any> {\n\n  return bootstrap(SignupComponent, [\n    ...ENV_PROVIDERS,\n    ...PROVIDERS_SIGNUP,\n    ...DIRECTIVES,\n    ...PIPES,\n    ...APP_PROVIDERS\n  ])\n    .catch(err => console.error(err));\n\n}\n\n\n\n\n\n/*\n * Vendors\n * For vendors for example jQuery, Lodash, angular2-jwt just import them anywhere in your app\n * You can also import them in vendors to ensure that they are bundled in one file\n * Also see custom-typings.d.ts as you also need to do `typings install x` where `x` is your module\n */\n\n\n/*\n * Hot Module Reload\n * experimental version\n */\nif ('development' === ENV && HMR === true) {\n  // activate hot module reload\n  let ngHmr = require('angular2-hmr');\n  ngHmr.hotModuleReplacement(main, module);\n} else {\n  // bootstrap when documetn is ready\n  document.addEventListener('DOMContentLoaded', () => main());\n}\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup.browser.ts\n **/","export * from './signup-connect.component';\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/connect-social-accounts/index.ts\n **/","import {Component, NgZone, OnInit} from '@angular/core';\n\nimport {UserAuthService} from '../../app/shared/services';\n\n\n@Component({\n  selector: 'prs-signup-connect',\n  template: require('./signup-connect.html')\n})\nexport class SignupConnectComponent implements OnInit {\n\n  connectStatus = {\n    twitter: {\n      connected: false,\n      username: 'Your twitter account',\n      url: ''\n    },\n    linkedin: {\n      connected: false,\n      username: 'Your linkedin account',\n      url: ''\n    }\n  };\n\n  constructor(private service: UserAuthService, private _ngZone: NgZone) {\n  }\n\n  ngOnInit() {\n    this.getConnectStatus();\n    jQuery('.connect-media').on('persice:refreshConnect', (e) => {\n      this.refreshConnectInfo();\n    });\n  }\n\n  refreshConnectInfo() {\n    this.service.findOneByUri('me').subscribe((data) => {\n      this.getConnectStatus();\n    });\n  }\n\n  getConnectStatus() {\n    this._ngZone.run(() => {\n      this.connectStatus = this.service.getConnectStatus();\n    });\n  }\n\n\n  toggle(provider) {\n    if (this.connectStatus[provider].connected) {\n      this.disconnect(provider);\n    } else {\n      this.connect(provider);\n    }\n  }\n\n  connect(provider) {\n    let w = 400;\n    let h = 300;\n\n\n    let dualScreenLeft = window.screenLeft;\n    let dualScreenTop = window.screenTop;\n\n    let width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n    let height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n    let left = ((width / 2) - (w / 2)) + dualScreenLeft;\n    let top = ((height / 2) - (h / 2)) + dualScreenTop;\n\n\n    let settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\n    let url = '/social/associate/' + provider + '/?next=/goals/close_login_popup/';\n    let newWindow = window.open(url, `Connecting your ${provider} account...`, settings);\n\n    if (window.focus) {\n      newWindow.focus();\n    }\n  }\n\n  disconnect(provider) {\n    let w = 400;\n    let h = 300;\n\n\n    let dualScreenLeft = window.screenLeft;\n    let dualScreenTop = window.screenTop;\n\n    let width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n    let height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n    let left = ((width / 2) - (w / 2)) + dualScreenLeft;\n    let top = ((height / 2) - (h / 2)) + dualScreenTop;\n\n\n    let settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\n    let url = '/social/disconnect/' + provider + '/?next=/goals/close_login_popup/';\n    let newWindow = window.open(url, `Disconnecting your ${provider} account...`, settings);\n\n    if (window.focus) {\n      newWindow.focus();\n    }\n  }\n\n  openUrl(provider) {\n    if (this.connectStatus[provider].connected) {\n      let win = window.open(this.connectStatus[provider].url, '_blank');\n      win.focus();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/connect-social-accounts/signup-connect.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title mb mt+\\\">Connect your LinkedIn and <br> Twitter accounts</h2>\\n<p class=\\\"signup-step__subtitle\\\">\\n  This will improve your match results within the Persice community.\\n  <br>\\n  <svg role=\\\"img\\\" class=\\\"icon\\\">\\n    <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-lock\\\"></use>\\n  </svg> Persice will never share your information or post on your behalf.\\n</p>\\n<ul class=\\\"connect-media\\\">\\n  <li>\\n    <div (click)=\\\"openUrl('twitter')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.twitter.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--twitter\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-twitter-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--twitter\\\">twitter</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.twitter.connected}\\\">{{connectStatus.twitter.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('twitter')\\\" [ngClass]=\\\"{'is-active': connectStatus.twitter.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--twitter btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n  <li>\\n    <div (click)=\\\"openUrl('linkedin')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.linkedin.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--linkedin\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-linkedin-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--linkedin\\\">linkedin</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.linkedin.connected}\\\">{{connectStatus.linkedin.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('linkedin')\\\" [ngClass]=\\\"{'is-active': connectStatus.linkedin.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--linkedin btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n</ul>\\n<a class=\\\"mr\\\" href=\\\"#\\\"></a>\\n<a href=\\\"#\\\"></a>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/connect-social-accounts/signup-connect.html\n ** module id = 858\n ** module chunks = 13\n **/","export * from './signup-goals.component';\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/goals/index.ts\n **/","import {\n  Component,\n  OnInit,\n  OnDestroy\n} from '@angular/core';\n\nimport {findIndex} from 'lodash';\n\nimport {GoalsService} from '../../app/shared/services';\nimport {SignupStateService} from '../../common/services';\n\nimport {LoadingComponent} from '../../app/shared/components/loading';\n\n@Component({\n  selector: 'prs-signup-goals',\n  template: require('./signup-goals.html'),\n  directives: [\n    LoadingComponent\n  ]\n})\nexport class SignupGoalsComponent implements OnInit, OnDestroy {\n  items: any[] = [];\n  loading: boolean = false;\n  isListEmpty: boolean = false;\n  limit: number = 12;\n  query: string = '';\n  next: string = '';\n  total_count: number = 0;\n  offset: number = 0;\n  newGoal = '';\n  status;\n  saveLoading = false;\n\n  constructor(\n    private goalsService: GoalsService,\n    private signupStateService: SignupStateService\n    ) {\n\n  }\n\n  ngOnInit() {\n    this.initializeTokenInput();\n    this.getList();\n  }\n\n  ngOnDestroy() {\n    jQuery('#goalsInput').typeahead('destroy');\n  }\n\n  initializeTokenInput() {\n    let keywordsEngine = new Bloodhound({\n      remote: {\n        url: '/api/v1/subject/?format=json&limit=30&description__icontains=%QUERY',\n        filter: (x: any) => {\n          return jQuery.map(x.objects, (item) => {\n            return item.description;\n          });\n        },\n        wildcard: '%QUERY'\n      },\n      datumTokenizer: Bloodhound.tokenizers.whitespace,\n      queryTokenizer: Bloodhound.tokenizers.whitespace\n    });\n\n    keywordsEngine.initialize();\n\n    jQuery('#goalsInput').typeahead(\n      {\n        hint: false,\n        highlight: true,\n        minLength: 2\n      },\n      {\n        source: keywordsEngine,\n        limit: 30\n      }\n      );\n\n    jQuery('#goalsInput').bind('typeahead:selected', (ev, suggestion) => {\n      this.newGoal = suggestion;\n      this.saveGoal(suggestion);\n    });\n\n  }\n\n  saveGoal(goal) {\n    if (this.saveLoading === true) {\n      return;\n    }\n    this.saveLoading = true;\n\n    if (goal.length === 0 || goal.length > 100) {\n      this.status = 'failure';\n      this.saveLoading = false;\n      return;\n    }\n\n    this.goalsService.save(goal)\n      .subscribe((res) => {\n      let newItem = res;\n      this.items.push(newItem);\n      this.status = 'success';\n\n      this.total_count++;\n      this.signupStateService.counterEmitter.emit({\n        type: 'goals',\n        count: this.total_count\n      });\n      if (this.total_count === 0) {\n        this.isListEmpty = true;\n      } else {\n        this.isListEmpty = false;\n      }\n      this.newGoal = '';\n      jQuery('#goalsInput').typeahead('val', '');\n      this.saveLoading = false;\n    }, (err) => {\n        let error = JSON.parse(err._body);\n        if ('goal' in error) {\n          this.status = 'failure';\n        }\n        this.saveLoading = false;\n      }, () => {\n\n      });\n  }\n\n  inputChanged(event) {\n    //if key is not enter clear notification\n    if (event.which !== 13) {\n      this.status = null;\n    }\n    if (event.which === 13) {\n      this.saveGoal(this.newGoal);\n    }\n\n  }\n\n  removeGoal(event) {\n    let idx = findIndex(this.items, event);\n    if (this.items[idx]) {\n      this.goalsService.delete(event.resource_uri)\n        .subscribe((res) => {\n        this.items.splice(idx, 1);\n        this.total_count--;\n        this.signupStateService.counterEmitter.emit({\n          type: 'goals',\n          count: this.total_count\n        });\n        if (this.total_count === 0) {\n          this.isListEmpty = true;\n        } else {\n          this.isListEmpty = false;\n        }\n      });\n    }\n\n  }\n\n  addGoal() {\n    this.saveGoal(this.newGoal);\n  }\n\n\n  getList() {\n    if (this.next === null) return;\n    this.loading = true;\n    this.goalsService.get(this.next, 100)\n      .subscribe(data => this.assignList(data),\n      (err) => {\n        this.loading = false;\n      },\n      () => {\n\n      });\n  }\n\n\n  refreshList() {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n    this.items.splice(0, this.items.length);\n    this.isListEmpty = false;\n    this.next = '';\n    this.getList();\n  }\n\n  assignList(data) {\n\n    this.loading = false;\n\n    this.total_count = data.meta.total_count;\n\n    this.signupStateService.counterEmitter.emit({\n      type: 'goals',\n      count: this.total_count\n    });\n\n    if (this.total_count === 0) {\n      this.isListEmpty = true;\n      return;\n    } else {\n      this.isListEmpty = false;\n    }\n\n    if (this.items.length > 0) {\n      let more = data.objects;\n      for (var i = 0; i <= more.length - 1; i++) {\n        this.items.push(more[i]);\n      }\n    } else {\n      this.items = data.objects;\n    }\n\n    this.next = data.meta.next;\n    this.offset = data.meta.offset;\n\n\n    //bind to scroll event to load more data on bottom scroll\n    if (this.next !== null) {\n      jQuery('#goals').bind('scroll', this.handleScrollEvent.bind(this));\n    } else {\n      jQuery('#goals').unbind('scroll');\n    }\n\n\n  }\n\n  handleScrollEvent(event) {\n    let scrollOffset = jQuery('#goals').scrollTop() + jQuery('#goals').innerHeight();\n    let threshold = jQuery('#goals')[0].scrollHeight;\n    if (this.next && scrollOffset >= threshold) {\n      if (!this.loading) {\n        this.getList();\n      }\n    }\n\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/goals/signup-goals.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title\\\">My goal is to...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newGoal\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"goalsInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few goals here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addGoal($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"goals\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"let item of items\\\">\\n      <a (click)=\\\"removeGoal(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-goals\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Goals\\\" are things you want to achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Learn how to salsa dance\\\" or\\n        <br>\\\"Discover new hiking trails\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/goals/signup-goals.html\n ** module id = 859\n ** module chunks = 13\n **/","export * from './signup-header.component';\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/header/index.ts\n **/","import {Component, Input, Output, EventEmitter} from '@angular/core';\nimport {ROUTER_DIRECTIVES} from '@angular/router-deprecated';\n\n\n@Component({\n  selector: 'prs-signup-header',\n  template: require('./signup-header.html'),\n  directives: [ROUTER_DIRECTIVES]\n})\nexport class SignupHeaderComponent {\n  @Input() counterInterests;\n  @Input() counterGoals;\n  @Input() counterOffers;\n  @Input() page;\n  @Input() nextTitle;\n  @Input() showSkip;\n  @Output() next: EventEmitter<any> = new EventEmitter();\n  @Output() skip: EventEmitter<any> = new EventEmitter();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/header/signup-header.component.ts\n **/","module.exports = \"<header class=\\\"header-signup\\\">\\n  <div class=\\\"layout layout--middle\\\">\\n    <div class=\\\"layout__item 2/3\\\">\\n      <div class=\\\"layout layout--auto\\\">\\n        <div class=\\\"layout__item\\\">\\n          <div class=\\\"header-signup__logo-place\\\">\\n            <a class=\\\"site-logo\\\" href=\\\"/signup\\\">\\n              <img alt=\\\"#\\\" src=\\\"/static/assets/images/logo.svg\\\" class=\\\"site-logo__mark\\\">\\n              <h1 class=\\\"site-logo__type\\\">Persice</h1>\\n            </a>\\n          </div>\\n        </div>\\n        <div class=\\\"layout__item\\\">\\n          <ul class=\\\"header-signup__steps\\\">\\n            <li *ngIf=\\\"page >= 1\\\"><a [routerLink]=\\\"['./SignupInterests']\\\"><b>{{counterInterests}}</b> interests</a></li>\\n            <li *ngIf=\\\"page >= 2\\\"><a [routerLink]=\\\"['./SignupGoals']\\\"><b>{{counterGoals}}</b> goals</a></li>\\n            <li *ngIf=\\\"page >= 3\\\"><a [routerLink]=\\\"['./SignupOffers']\\\"><b>{{counterOffers}}</b> offers</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"layout__item 1/3 text-right pr\\\">\\n      <a *ngIf=\\\"showSkip\\\" (click)=\\\"skip.next($event)\\\" class=\\\"link--darkgrey mr\\\">Skip</a>\\n      <a (click)=\\\"next.next($event)\\\" class=\\\"btn btn-1 btn-1--green btn-1--medium \\\">{{nextTitle}}</a>\\n    </div>\\n  </div>\\n</header>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/header/signup-header.html\n ** module id = 860\n ** module chunks = 13\n **/","// App\nexport * from './signup.component';\nimport {HttpClient} from '../app/shared/core';\n\n// Application wide providers\nexport const APP_PROVIDERS = [\n  HttpClient\n];\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/index.ts\n **/","export * from './signup-interests.component';\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/interests/index.ts\n **/","import {\n  Component,\n  OnInit,\n  EventEmitter,\n  OnDestroy\n} from '@angular/core';\nimport {findIndex} from 'lodash';\n\nimport {\n  InterestsService,\n  KeywordsService,\n  WarningService\n}\nfrom '../../app/shared/services';\nimport {SignupStateService} from '../../common/services';\n\nimport {LoadingComponent} from '../../app/shared/components/loading';\n\n@Component({\n  selector: 'prs-signup-interests',\n  template: require('./signup-interests.html'),\n  directives: [\n    LoadingComponent\n  ]\n})\nexport class SignupInterestsComponent implements OnInit, OnDestroy {\n  items: any[] = [];\n  loading: boolean = false;\n  isListEmpty: boolean = false;\n  limit: number = 12;\n  query: string = '';\n  next: string = '';\n  total_count: number = 0;\n  offset: number = 0;\n  newInterest = '';\n  status;\n  saveLoading = false;\n\n  subs: EventEmitter<any>;\n  showWarning = false;\n\n  userInterest: any[] = [];\n  userInterestCounter: number = 0;\n\n  constructor(\n    private interestsService: InterestsService,\n    private keywordsService: KeywordsService,\n    private warningService: WarningService,\n    private signupStateService: SignupStateService\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.initializeTokenInput();\n    this.getList();\n\n    if (this.subs) {\n      this.subs.unsubscribe();\n    }\n    this.subs = this.warningService.observer().subscribe((event: any) => this.showWarning = event);\n  }\n\n  ngOnDestroy() {\n    if (this.subs) {\n      this.subs.unsubscribe();\n    }\n\n    jQuery('#interestsInput').typeahead('destroy');\n  }\n\n  initializeTokenInput() {\n    let keywordsEngine = new Bloodhound({\n      remote: {\n        url: '/api/v1/interest_subject/?format=json&limit=30&description__icontains=%QUERY',\n        filter: (x: any) => {\n          return jQuery.map(x.objects, (item) => {\n            return item.description;\n          });\n        },\n        wildcard: '%QUERY'\n      },\n      datumTokenizer: Bloodhound.tokenizers.whitespace,\n      queryTokenizer: Bloodhound.tokenizers.whitespace\n    });\n\n    keywordsEngine.initialize();\n\n    jQuery('#interestsInput').typeahead(\n      {\n        hint: false,\n        highlight: true,\n        minLength: 2\n      },\n      {\n        source: keywordsEngine,\n        limit: 30\n      }\n    );\n\n    jQuery('#interestsInput').bind('typeahead:selected', (ev, suggestion) => {\n      this.newInterest = suggestion;\n      this.saveInterest(suggestion);\n    });\n\n  }\n\n  saveInterest(interest) {\n    if (this.saveLoading) {\n      return;\n    }\n\n    this.saveLoading = true;\n    if (interest.length === 0 || interest.length > 100) {\n      this.status = 'failure';\n      this.saveLoading = false;\n      return;\n    }\n\n    let idx = findIndex(this.items, { 'description': interest });\n    if (this.items[idx]) {\n      if (!this.items[idx].active) {\n        this.interestsService.save(this.items[idx].description)\n          .subscribe((res) => {\n            this.saveLoading = false;\n            this.items[idx].active = true;\n            this.items[idx].interest_resource = res.resource_uri;\n            this.userInterestCounter++;\n            this.signupStateService.counterEmitter.emit({\n              type: 'interests',\n              count: this.userInterestCounter\n            });\n            this.status = 'success';\n            this.newInterest = '';\n            jQuery('#interestsInput').typeahead('val', '');\n          },\n          (err) => {\n            this.status = 'failure';\n            this.saveLoading = false;\n          },\n          () => { });\n      } else {\n        this.status = 'failure';\n        this.saveLoading = false;\n      }\n    } else {\n      //create new interest\n      this.interestsService.save(interest)\n        .subscribe((res) => {\n          this.saveLoading = false;\n          let newItem = res;\n          newItem.active = true;\n          newItem.description = res.interest_subject;\n          newItem.interest_resource = res.resource_uri;\n          this.items.push(newItem);\n\n          this.status = 'success';\n\n          this.userInterestCounter++;\n          this.signupStateService.counterEmitter.emit({\n            type: 'interests',\n            count: this.userInterestCounter\n          });\n\n          this.newInterest = '';\n          jQuery('#interestsInput').typeahead('val', '');\n          this.refreshList();\n\n        },\n        (err) => {\n          this.status = 'failure';\n          this.saveLoading = false;\n        },\n        () => { });\n    }\n  }\n\n  inputChanged(event) {\n    //if key is not enter clear notification\n    if (event.which !== 13) {\n      this.status = null;\n    }\n\n    if (event.which === 13) {\n      this.saveInterest(this.newInterest);\n    }\n  }\n\n  addInterest() {\n    this.saveInterest(this.newInterest);\n  }\n\n\n  getList() {\n    if (this.next === null) return;\n    this.loading = true;\n    this.interestsService.get('', 2000)\n      .mergeMap((data) => {\n\n        this.userInterestCounter = data.meta.total_count;\n\n        this.signupStateService.counterEmitter.emit({\n          type: 'interests',\n          count: this.userInterestCounter\n        });\n\n        if (this.userInterestCounter > 0) {\n          this.userInterest = data.objects;\n        }\n\n        return this.keywordsService.get(this.next, 100, this.newInterest);\n      })\n      .subscribe(data => this.assignList(data),\n      (err) => {\n        console.log(err);\n        this.loading = false;\n      },\n      () => {\n\n      });\n  }\n\n\n  refreshList() {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n    this.items.splice(0, this.items.length);\n    this.isListEmpty = false;\n    this.next = '';\n    this.saveLoading = false;\n    this.userInterest.splice(0, this.userInterest.length);\n    this.userInterestCounter = 0;\n    this.getList();\n  }\n\n  assignList(data) {\n\n    this.loading = false;\n\n    this.total_count = data.meta.total_count;\n    if (this.total_count === 0) {\n      this.isListEmpty = true;\n      return;\n    } else {\n      this.isListEmpty = false;\n    }\n\n    let more = data.objects;\n\n    for (var i = 0; i <= more.length - 1; i++) {\n      more[i].active = false;\n      more[i].interest_resource = null;\n\n      for (var j = this.userInterest.length - 1; j >= 0; j--) {\n        if (more[i].resource_uri === this.userInterest[j].interest) {\n          more[i].interest_resource = this.userInterest[j].resource_uri;\n          more[i].active = true;\n        }\n      }\n\n      this.items.push(more[i]);\n    }\n\n    this.next = data.meta.next;\n    this.offset = data.meta.offset;\n\n\n    //bind to scroll event to load more data on bottom scroll\n    if (this.next !== null) {\n      jQuery('#interests').bind('scroll', this.handleScrollEvent.bind(this));\n    } else {\n      jQuery('#interests').unbind('scroll');\n    }\n\n\n  }\n\n  handleScrollEvent(event) {\n    let scrollOffset = jQuery('#interests').scrollTop() + jQuery('#interests').innerHeight();\n    let threshold = jQuery('#interests')[0].scrollHeight;\n    if (this.next && scrollOffset >= threshold) {\n      if (!this.loading) {\n        this.getList();\n      }\n    }\n\n  }\n\n\n  onInterestClick(event) {\n    this.status = null;\n\n    let idx = findIndex(this.items, event);\n\n    if (this.items[idx]) {\n      if (this.items[idx].active) {\n        //deselect interest\n        let url = this.items[idx].interest_resource;\n\n        this.interestsService.delete(url)\n          .subscribe((res) => {\n            this.items[idx].active = false;\n            this.items[idx].interest_resource = null;\n            this.userInterestCounter--;\n            this.signupStateService.counterEmitter.emit({\n              type: 'interests',\n              count: this.userInterestCounter\n            });\n          }, (err) => {\n            this.status = 'failure';\n          }, () => { });\n      } else {\n        //select interest\n        this.interestsService.save(this.items[idx].description)\n          .subscribe((res) => {\n            this.items[idx].active = true;\n            this.items[idx].interest_resource = res.resource_uri;\n            this.userInterestCounter++;\n            this.signupStateService.counterEmitter.emit({\n              type: 'interests',\n              count: this.userInterestCounter\n            });\n          }, (err) => {\n            this.status = 'failure';\n          }, () => { });\n\n\n      }\n    }\n  }\n\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/interests/signup-interests.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title\\\">What interests you?</h2>\\n<p class=\\\"signup-step__subtitle signup-step__subtitle__warning\\\" *ngIf=\\\"showWarning\\\">Please select at least three.</p>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\" id=\\\"interestsSearch\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon \\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newInterest\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" class=\\\"search__input typeahead\\\" id=\\\"interestsInput\\\" placeholder=\\\"Enter your interests or search existing\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\" (click)=\\\"addInterest($event)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper\\\" id=\\\"interests\\\">\\n    <span (click)=\\\"onInterestClick(item)\\\" [ngClass]=\\\"{'is-current': item.active}\\\" class=\\\"search-tag\\\" *ngFor=\\\"let item of items\\\">{{item.description}}</span>\\n    <prs-loading [status]=\\\"loading\\\"></prs-loading>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/interests/signup-interests.html\n ** module id = 861\n ** module chunks = 13\n **/","export * from './signup-offers.component';\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/offers/index.ts\n **/","import {\n  Component,\n  OnInit,\n  OnDestroy\n} from '@angular/core';\n\nimport {findIndex} from 'lodash';\n\nimport {OffersService} from '../../app/shared/services';\nimport {SignupStateService} from '../../common/services';\n\nimport {LoadingComponent} from '../../app/shared/components/loading';\n\n@Component({\n  selector: 'prs-signup-offers',\n  template: require('./signup-offers.html'),\n  directives: [\n    LoadingComponent\n  ]\n})\nexport class SignupOffersComponent implements OnInit, OnDestroy {\n  items: any[] = [];\n  loading: boolean = false;\n  isListEmpty: boolean = false;\n  limit: number = 12;\n  query: string = '';\n  next: string = '';\n  total_count: number = 0;\n  offset: number = 0;\n  newOffer = '';\n  status;\n  saveLoading = false;\n\n  constructor(\n    private offersService: OffersService,\n    private signupStateService: SignupStateService\n  ) {\n\n  }\n\n\n  ngOnInit() {\n    this.initializeTokenInput();\n    this.getList();\n  }\n\n  ngOnDestroy() {\n    jQuery('#offersInput').typeahead('destroy');\n  }\n\n  initializeTokenInput() {\n    let keywordsEngine = new Bloodhound({\n      remote: {\n        url: '/api/v1/subject/?format=json&limit=30&description__icontains=%QUERY',\n        filter: (x: any) => {\n          return jQuery.map(x.objects, (item) => {\n            return item.description;\n          });\n        },\n        wildcard: '%QUERY'\n      },\n      datumTokenizer: Bloodhound.tokenizers.whitespace,\n      queryTokenizer: Bloodhound.tokenizers.whitespace\n    });\n\n    keywordsEngine.initialize();\n\n    jQuery('#offersInput').typeahead(\n      {\n        hint: false,\n        highlight: true,\n        minLength: 2\n      },\n      {\n        source: keywordsEngine,\n        limit: 30\n      }\n    );\n\n    jQuery('#offersInput').bind('typeahead:selected', (ev, suggestion) => {\n      this.newOffer = suggestion;\n      this.saveOffer(suggestion);\n    });\n\n  }\n\n  saveOffer(offer) {\n    if (this.saveLoading === true) {\n      return;\n    }\n    this.saveLoading = true;\n\n\n    if (offer.length === 0 || offer.length > 100) {\n      this.status = 'failure';\n      this.saveLoading = false;\n      return;\n    }\n\n    this.offersService.save(offer)\n      .subscribe((res) => {\n        let newItem = res;\n        this.items.push(newItem);\n        this.status = 'success';\n        this.total_count++;\n        this.signupStateService.counterEmitter.emit({\n          type: 'offers',\n          count: this.total_count\n        });\n        if (this.total_count === 0) {\n          this.isListEmpty = true;\n        } else {\n          this.isListEmpty = false;\n        }\n        this.newOffer = '';\n        jQuery('#offersInput').typeahead('val', '');\n        this.saveLoading = false;\n      }, (err) => {\n        let error = JSON.parse(err._body);\n        if ('offer' in error) {\n          this.status = 'failure';\n        }\n        this.saveLoading = false;\n      }, () => {\n\n      });\n  }\n\n  inputChanged(event) {\n    //if key is not enter clear notification\n    if (event.which !== 13) {\n      this.status = null;\n    }\n\n    if (event.which === 13) {\n      this.saveOffer(this.newOffer);\n    }\n\n  }\n\n  addOffer() {\n    this.saveOffer(this.newOffer);\n  }\n\n  removeOffer(event) {\n    let idx = findIndex(this.items, event);\n    if (this.items[idx]) {\n      this.offersService.delete(event.resource_uri)\n        .subscribe((res) => {\n          this.items.splice(idx, 1);\n          this.total_count--;\n          this.signupStateService.counterEmitter.emit({\n            type: 'offers',\n            count: this.total_count\n          });\n          if (this.total_count === 0) {\n            this.isListEmpty = true;\n          } else {\n            this.isListEmpty = false;\n          }\n        });\n    }\n\n  }\n\n\n  getList() {\n    if (this.next === null) return;\n    this.loading = true;\n    this.offersService.get(this.next, 100)\n      .subscribe(data => this.assignList(data),\n      (err) => {\n        this.loading = false;\n      },\n      () => {\n\n      });\n  }\n\n\n  refreshList() {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n    this.items.splice(0, this.items.length);\n    this.isListEmpty = false;\n    this.next = '';\n    this.getList();\n  }\n\n  assignList(data) {\n\n    this.loading = false;\n\n    this.total_count = data.meta.total_count;\n\n    this.signupStateService.counterEmitter.emit({\n      type: 'offers',\n      count: this.total_count\n    });\n\n    if (this.total_count === 0) {\n      this.isListEmpty = true;\n      return;\n    } else {\n      this.isListEmpty = false;\n    }\n\n    if (this.items.length > 0) {\n      let more = data.objects;\n      for (var i = 0; i <= more.length - 1; i++) {\n        this.items.push(more[i]);\n      }\n\n    } else {\n      this.items = data.objects;\n    }\n\n    this.next = data.meta.next;\n    this.offset = data.meta.offset;\n\n\n    //bind to scroll event to load more data on bottom scroll\n    if (this.next !== null) {\n      jQuery('#offers').bind('scroll', this.handleScrollEvent.bind(this));\n    } else {\n      jQuery('#offers').unbind('scroll');\n    }\n  }\n\n  handleScrollEvent(event) {\n    let scrollOffset = jQuery('#offers').scrollTop() + jQuery('#offers').innerHeight();\n    let threshold = jQuery('#offers')[0].scrollHeight;\n    if (this.next && scrollOffset >= threshold) {\n      if (!this.loading) {\n        this.getList();\n      }\n    }\n\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/offers/signup-offers.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title\\\">I can help people...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newOffer\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"offersInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few offers here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addOffer($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"offers\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"let item of items\\\">\\n      <a (click)=\\\"removeOffer(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-offers\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Offers\\\" are things you can help other people achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Practice speaking Spanish\\\"\\n        <br>or \\\"Find a tennis partner\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/offers/signup-offers.html\n ** module id = 862\n ** module chunks = 13\n **/","import {\n  Component,\n  ViewEncapsulation,\n  OnInit\n} from '@angular/core';\n\nimport {\n  RouteConfig,\n  Router,\n  ROUTER_DIRECTIVES\n} from '@angular/router-deprecated';\nimport {Location} from '@angular/common';\n\nimport {SignupInterestsComponent} from './interests';\nimport {SignupGoalsComponent} from './goals';\nimport {SignupOffersComponent} from './offers';\nimport {SignupConnectComponent} from './connect-social-accounts';\nimport {SignupHeaderComponent} from './header';\n\nimport {\n  InterestsService,\n  KeywordsService,\n  GoalsService,\n  OffersService,\n  UserAuthService,\n  OnboardingService,\n  WarningService\n} from '../app/shared/services';\nimport {SignupStateService} from '../common/services';\n\n@Component({\n  template: require('./signup.html'),\n  selector: 'persice-signup',\n  encapsulation: ViewEncapsulation.None,\n  directives: [\n    SignupHeaderComponent,\n    ROUTER_DIRECTIVES\n  ],\n  providers: [\n    InterestsService,\n    GoalsService,\n    OffersService,\n    KeywordsService,\n    UserAuthService,\n    OnboardingService,\n    WarningService,\n    SignupStateService\n  ]\n})\n@RouteConfig([\n  {\n    path: '/',\n    redirectTo: ['SignupInterests']\n  },\n  {\n    path: '/interests',\n    component: SignupInterestsComponent,\n    name: 'SignupInterests',\n    data: { page: 1 }\n  },\n  {\n    path: '/goals',\n    component: SignupGoalsComponent,\n    name: 'SignupGoals',\n    data: { page: 2 }\n  },\n  {\n    path: '/offers',\n    component: SignupOffersComponent,\n    name: 'SignupOffers',\n    data: { page: 3 }\n  },\n  {\n    path: '/connect',\n    component: SignupConnectComponent,\n    name: 'SignupConnect',\n    data: { page: 4 }\n  }\n])\nexport class SignupComponent implements OnInit {\n  page: number = 1;\n  cGoa: number = 0;\n  cOff: number = 0;\n  cInt: number = 0;\n  showSkip = false;\n  nextStep = 'SignupGoals';\n  nextTitle = 'Next';\n  is_complete = null;\n\n  router: Router;\n  location: Location;\n\n  notificationMain = {\n    body: '',\n    title: '',\n    active: false,\n    type: ''\n  };\n\n  constructor(\n    router: Router,\n    location: Location,\n    private goalsService: GoalsService,\n    private offersService: OffersService,\n    private interestsService: InterestsService,\n    private userAuthService: UserAuthService,\n    private onboardingService: OnboardingService,\n    private warningService: WarningService,\n    private signupStateService: SignupStateService\n  ) {\n    this.router = router;\n    this.location = location;\n\n    this.signupStateService.counterEmitter.subscribe((state) => {\n      this.onCounterChanged(state);\n    });\n\n    this.router.subscribe((path) => {\n      this.onRouteChanged(path);\n    });\n  }\n\n  ngOnInit() {\n\n    this.userAuthService.findOneByUri('me').subscribe((data) => {\n      let res = data;\n      this.cGoa = res.goals.length;\n      this.cOff = res.offers.length;\n      this.cInt = res.interests.length;\n      this.is_complete = res.onboardingflow;\n    });\n  }\n\n  onRouteChanged(path) {\n    switch (path) {\n      case 'interests':\n        this.page = 1;\n        this.showSkip = false;\n        this.nextStep = 'SignupGoals';\n        this.nextTitle = 'Next';\n        break;\n      case 'goals':\n        this.page = 2;\n        this.showSkip = true;\n        this.nextStep = 'SignupOffers';\n        this.nextTitle = 'Next';\n        break;\n      case 'offers':\n        this.page = 3;\n        this.showSkip = true;\n        this.nextStep = 'SignupConnect';\n        this.nextTitle = 'Next';\n        break;\n      case 'connect':\n        this.page = 4;\n        this.showSkip = true;\n        this.nextStep = null;\n        this.nextTitle = 'Go!';\n        break;\n      default:\n        this.page = 1;\n        this.showSkip = false;\n        this.nextStep = 'SignupGoals';\n        this.nextTitle = 'Next';\n        break;\n    }\n  }\n\n\n  next(event) {\n    if (this.nextStep) {\n      switch (this.nextStep) {\n        case 'SignupGoals':\n          //check if user selected less than 3 interests\n          if (this.cInt < 3) {\n            this.warningService.push(true);\n            return;\n          } else {\n            this.completeOnboarding();\n            this.warningService.push(false);\n          }\n          break;\n        default:\n          break;\n      }\n\n      this.router.navigate([this.nextStep]);\n    } else {\n      window.location.href = '/crowd/';\n    }\n\n  }\n\n  skip(event) {\n    if (this.nextStep) {\n      this.router.navigate([this.nextStep]);\n    } else {\n      window.location.href = '/crowd/';\n    }\n\n  }\n\n\n  completeOnboarding() {\n    if (this.is_complete === null) {\n      this.onboardingService.complete().subscribe((data) => {\n      }, (err) => {\n      }, () => {\n\n      });\n    }\n\n  }\n\n  onCounterChanged(event) {\n    switch (event.type) {\n      case 'interests':\n        this.cInt = event.count;\n        break;\n      case 'goals':\n        this.cGoa = event.count;\n        break;\n      case 'offers':\n        this.cOff = event.count;\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** src/signup/signup.component.ts\n **/","module.exports = \"<div class=\\\"signup\\\">\\n  <prs-signup-header [nextTitle]=\\\"nextTitle\\\" [showSkip]=\\\"showSkip\\\" (skip)=\\\"skip($event)\\\" (next)=\\\"next($event)\\\" [page]=\\\"page\\\" [counterInterests]=\\\"cInt\\\" [counterOffers]=\\\"cOff\\\" [counterGoals]=\\\"cGoa\\\"></prs-signup-header>\\n  <div class=\\\"signup__content\\\">\\n    <ul class=\\\"signup-pager\\\">\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 1, 'signup-pager__completed': page >= 2}\\\">1</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 2,'signup-pager__completed': page >= 3}\\\">2</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 3, 'signup-pager__completed': page === 4}\\\">3</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 4}\\\">4</li>\\n    </ul>\\n    <router-outlet></router-outlet>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/signup.html\n ** module id = 863\n ** module chunks = 13\n **/"],"sourceRoot":""}