{"version":3,"sources":["webpack:///signup.678ac85eee28f768a8f0.bundle.js","webpack:///./src/signup.browser.ts","webpack:///./src/signup/connect-social-accounts/index.ts","webpack:///./src/signup/connect-social-accounts/signup-connect.component.ts","webpack:///./src/signup/connect-social-accounts/signup-connect.html","webpack:///./src/signup/goals/index.ts","webpack:///./src/signup/goals/signup-goals.component.ts","webpack:///./src/signup/goals/signup-goals.html","webpack:///./src/signup/header/index.ts","webpack:///./src/signup/header/signup-header.component.ts","webpack:///./src/signup/header/signup-header.html","webpack:///./src/signup/index.ts","webpack:///./src/signup/interests/index.ts","webpack:///./src/signup/interests/signup-interests.component.ts","webpack:///./src/signup/interests/signup-interests.html","webpack:///./src/signup/offers/index.ts","webpack:///./src/signup/offers/signup-offers.component.ts","webpack:///./src/signup/offers/signup-offers.html","webpack:///./src/signup/signup.component.ts","webpack:///./src/signup/signup.html"],"names":["webpackJsonp","0","module","exports","__webpack_require__","main","initialHmrState","browser_1","bootstrap","signup_1","SignupComponent","environment_1","ENV_PROVIDERS","concat","browser_2","PROVIDERS_SIGNUP","DIRECTIVES","PIPES","APP_PROVIDERS","catch","err","console","error","document","addEventListener","675","__export","m","p","hasOwnProperty","676","core_1","services_1","SignupConnectComponent","service","_ngZone","this","connectStatus","twitter","connected","username","url","linkedin","prototype","ngOnInit","_this","getConnectStatus","jQuery","on","e","refreshConnectInfo","findOneByUri","subscribe","data","run","toggle","provider","disconnect","connect","w","h","dualScreenLeft","window","screenLeft","dualScreenTop","screenTop","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","left","top","settings","newWindow","open","focus","openUrl","win","__decorate","Component","selector","template","__metadata","UserAuthService","NgZone","734","677","678","lodash_1","loading_1","SignupGoalsComponent","goalsService","counter","EventEmitter","items","loading","isListEmpty","limit","query","next","total_count","offset","newGoal","saveLoading","initializeTokenInput","getList","ngOnDestroy","typeahead","keywordsEngine","Bloodhound","remote","filter","x","map","objects","item","description","wildcard","datumTokenizer","tokenizers","whitespace","queryTokenizer","initialize","hint","highlight","minLength","source","bind","ev","suggestion","saveGoal","goal","length","status","save","res","newItem","push","type","count","JSON","parse","_body","inputChanged","event","which","removeGoal","idx","findIndex","delete","resource_uri","splice","addGoal","get","assignList","refreshList","body","scrollTop","meta","more","i","handleScrollEvent","unbind","scrollOffset","threshold","scrollHeight","Output","directives","LoadingComponent","GoalsService","735","679","680","router_1","SignupHeaderComponent","skip","Input","Object","ROUTER_DIRECTIVES","736","681","HttpClient","682","683","SignupInterestsComponent","interestsService","keywordsService","warningService","newInterest","showWarning","userInterest","userInterestCounter","subs","unsubscribe","observer","saveInterest","interest","active","interest_resource","interest_subject","addInterest","mergeMap","log","j","onInterestClick","InterestsService","KeywordsService","WarningService","737","684","685","SignupOffersComponent","offersService","newOffer","saveOffer","offer","addOffer","removeOffer","OffersService","738","686","interests_1","goals_1","offers_1","connect_social_accounts_1","header_1","router","location","userAuthService","onboardingService","page","cGoa","cOff","cInt","showSkip","nextStep","nextTitle","is_complete","notificationMain","title","path","myElem1","message","onCounterChanged","myElem2","myElem3","onRouteChanged","goals","offers","interests","onboardingflow","completeOnboarding","navigate","href","complete","ViewChild","encapsulation","ViewEncapsulation","None","providers","OnboardingService","RouteConfig","redirectTo","component","name","Router","Location","739"],"mappings":"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","file":"signup.678ac85eee28f768a8f0.bundle.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\t/*\r\n\t * Providers provided by Angular\r\n\t */\r\n\tvar browser_1 = __webpack_require__(47);\r\n\t/*\r\n\t* Platform and Environment\r\n\t* our providers/directives/pipes\r\n\t*/\r\n\tvar browser_2 = __webpack_require__(145);\r\n\tvar environment_1 = __webpack_require__(146);\r\n\t/*\r\n\t* App Component\r\n\t* our top level component that holds all of our components\r\n\t*/\r\n\tvar signup_1 = __webpack_require__(681);\r\n\t/*\r\n\t * Bootstrap our Angular app with a top level component `App` and inject\r\n\t * our Services and Providers into Angular's dependency injection\r\n\t */\r\n\tfunction main(initialHmrState) {\r\n\t    return browser_1.bootstrap(signup_1.SignupComponent, environment_1.ENV_PROVIDERS.concat(browser_2.PROVIDERS_SIGNUP, browser_2.DIRECTIVES, browser_2.PIPES, signup_1.APP_PROVIDERS))\r\n\t        .catch(function (err) { return console.error(err); });\r\n\t}\r\n\texports.main = main;\r\n\t/*\r\n\t * Vendors\r\n\t * For vendors for example jQuery, Lodash, angular2-jwt just import them anywhere in your app\r\n\t * You can also import them in vendors to ensure that they are bundled in one file\r\n\t * Also see custom-typings.d.ts as you also need to do `typings install x` where `x` is your module\r\n\t */\r\n\t/*\r\n\t * Hot Module Reload\r\n\t * experimental version\r\n\t */\r\n\tif (false) {\r\n\t    // activate hot module reload\r\n\t    var ngHmr = require('angular2-hmr');\r\n\t    ngHmr.hotModuleReplacement(main, module);\r\n\t}\r\n\telse {\r\n\t    // bootstrap when documetn is ready\r\n\t    document.addEventListener('DOMContentLoaded', function () { return main(); });\r\n\t}\r\n\n\n/***/ },\n\n/***/ 675:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(676));\r\n\n\n/***/ },\n\n/***/ 676:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar services_1 = __webpack_require__(12);\r\n\tvar SignupConnectComponent = (function () {\r\n\t    function SignupConnectComponent(service, _ngZone) {\r\n\t        this.service = service;\r\n\t        this._ngZone = _ngZone;\r\n\t        this.connectStatus = {\r\n\t            twitter: {\r\n\t                connected: false,\r\n\t                username: 'Your twitter account',\r\n\t                url: ''\r\n\t            },\r\n\t            linkedin: {\r\n\t                connected: false,\r\n\t                username: 'Your linkedin account',\r\n\t                url: ''\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t    SignupConnectComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        this.getConnectStatus();\r\n\t        jQuery('.connect-media').on('persice:refreshConnect', function (e) {\r\n\t            _this.refreshConnectInfo();\r\n\t        });\r\n\t    };\r\n\t    SignupConnectComponent.prototype.refreshConnectInfo = function () {\r\n\t        var _this = this;\r\n\t        this.service.findOneByUri('me').subscribe(function (data) {\r\n\t            _this.getConnectStatus();\r\n\t        });\r\n\t    };\r\n\t    SignupConnectComponent.prototype.getConnectStatus = function () {\r\n\t        var _this = this;\r\n\t        this._ngZone.run(function () {\r\n\t            _this.connectStatus = _this.service.getConnectStatus();\r\n\t        });\r\n\t    };\r\n\t    SignupConnectComponent.prototype.toggle = function (provider) {\r\n\t        if (this.connectStatus[provider].connected) {\r\n\t            this.disconnect(provider);\r\n\t        }\r\n\t        else {\r\n\t            this.connect(provider);\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent.prototype.connect = function (provider) {\r\n\t        var w = 400;\r\n\t        var h = 300;\r\n\t        var dualScreenLeft = window.screenLeft;\r\n\t        var dualScreenTop = window.screenTop;\r\n\t        var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\r\n\t        var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\r\n\t        var left = ((width / 2) - (w / 2)) + dualScreenLeft;\r\n\t        var top = ((height / 2) - (h / 2)) + dualScreenTop;\r\n\t        var settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\r\n\t        var url = '/social/associate/' + provider + '/?next=/goals/close_login_popup/';\r\n\t        var newWindow = window.open(url, \"Connecting your \" + provider + \" account...\", settings);\r\n\t        if (window.focus) {\r\n\t            newWindow.focus();\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent.prototype.disconnect = function (provider) {\r\n\t        var w = 400;\r\n\t        var h = 300;\r\n\t        var dualScreenLeft = window.screenLeft;\r\n\t        var dualScreenTop = window.screenTop;\r\n\t        var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\r\n\t        var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\r\n\t        var left = ((width / 2) - (w / 2)) + dualScreenLeft;\r\n\t        var top = ((height / 2) - (h / 2)) + dualScreenTop;\r\n\t        var settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\r\n\t        var url = '/social/disconnect/' + provider + '/?next=/goals/close_login_popup/';\r\n\t        var newWindow = window.open(url, \"Disconnecting your \" + provider + \" account...\", settings);\r\n\t        if (window.focus) {\r\n\t            newWindow.focus();\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent.prototype.openUrl = function (provider) {\r\n\t        if (this.connectStatus[provider].connected) {\r\n\t            var win = window.open(this.connectStatus[provider].url, '_blank');\r\n\t            win.focus();\r\n\t        }\r\n\t    };\r\n\t    SignupConnectComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'prs-signup-connect',\r\n\t            template: __webpack_require__(734)\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [services_1.UserAuthService, core_1.NgZone])\r\n\t    ], SignupConnectComponent);\r\n\t    return SignupConnectComponent;\r\n\t}());\r\n\texports.SignupConnectComponent = SignupConnectComponent;\r\n\n\n/***/ },\n\n/***/ 734:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title mb mt+\\\">Connect your LinkedIn and <br> Twitter accounts</h2>\\n<p class=\\\"signup-step__subtitle\\\">\\n  This will improve your match results within the Persice community.\\n  <br>\\n  <svg role=\\\"img\\\" class=\\\"icon\\\">\\n    <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-lock\\\"></use>\\n  </svg> Persice will never share your information or post on your behalf.\\n</p>\\n<ul class=\\\"connect-media\\\">\\n  <li>\\n    <div (click)=\\\"openUrl('twitter')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.twitter.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--twitter\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-twitter-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--twitter\\\">twitter</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.twitter.connected}\\\">{{connectStatus.twitter.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('twitter')\\\" [ngClass]=\\\"{'is-active': connectStatus.twitter.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--twitter btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n  <li>\\n    <div (click)=\\\"openUrl('linkedin')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.linkedin.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--linkedin\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-linkedin-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--linkedin\\\">linkedin</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.linkedin.connected}\\\">{{connectStatus.linkedin.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('linkedin')\\\" [ngClass]=\\\"{'is-active': connectStatus.linkedin.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--linkedin btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n</ul>\\n<a class=\\\"mr\\\" href=\\\"#\\\"></a>\\n<a href=\\\"#\\\"></a>\\n\"\n\n/***/ },\n\n/***/ 677:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(678));\r\n\n\n/***/ },\n\n/***/ 678:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar lodash_1 = __webpack_require__(23);\r\n\tvar services_1 = __webpack_require__(12);\r\n\tvar loading_1 = __webpack_require__(24);\r\n\tvar SignupGoalsComponent = (function () {\r\n\t    function SignupGoalsComponent(goalsService) {\r\n\t        this.goalsService = goalsService;\r\n\t        this.counter = new core_1.EventEmitter();\r\n\t        this.items = [];\r\n\t        this.loading = false;\r\n\t        this.isListEmpty = false;\r\n\t        this.limit = 12;\r\n\t        this.query = '';\r\n\t        this.next = '';\r\n\t        this.total_count = 0;\r\n\t        this.offset = 0;\r\n\t        this.newGoal = '';\r\n\t        this.saveLoading = false;\r\n\t    }\r\n\t    SignupGoalsComponent.prototype.ngOnInit = function () {\r\n\t        this.initializeTokenInput();\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.ngOnDestroy = function () {\r\n\t        jQuery('#goalsInput').typeahead('destroy');\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.initializeTokenInput = function () {\r\n\t        var _this = this;\r\n\t        var keywordsEngine = new Bloodhound({\r\n\t            remote: {\r\n\t                url: '/api/v1/subject/?format=json&limit=30&description__icontains=%QUERY',\r\n\t                filter: function (x) {\r\n\t                    return jQuery.map(x.objects, function (item) {\r\n\t                        return item.description;\r\n\t                    });\r\n\t                },\r\n\t                wildcard: '%QUERY'\r\n\t            },\r\n\t            datumTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t            queryTokenizer: Bloodhound.tokenizers.whitespace\r\n\t        });\r\n\t        keywordsEngine.initialize();\r\n\t        jQuery('#goalsInput').typeahead({\r\n\t            hint: false,\r\n\t            highlight: true,\r\n\t            minLength: 2\r\n\t        }, {\r\n\t            source: keywordsEngine,\r\n\t            limit: 30\r\n\t        });\r\n\t        jQuery('#goalsInput').bind('typeahead:selected', function (ev, suggestion) {\r\n\t            _this.newGoal = suggestion;\r\n\t            _this.saveGoal(suggestion);\r\n\t        });\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.saveGoal = function (goal) {\r\n\t        var _this = this;\r\n\t        if (this.saveLoading === true) {\r\n\t            return;\r\n\t        }\r\n\t        this.saveLoading = true;\r\n\t        if (goal.length === 0 || goal.length > 100) {\r\n\t            this.status = 'failure';\r\n\t            this.saveLoading = false;\r\n\t            return;\r\n\t        }\r\n\t        this.goalsService.save(goal)\r\n\t            .subscribe(function (res) {\r\n\t            var newItem = res;\r\n\t            _this.items.push(newItem);\r\n\t            _this.status = 'success';\r\n\t            _this.total_count++;\r\n\t            _this.counter.next({\r\n\t                type: 'goals',\r\n\t                count: _this.total_count\r\n\t            });\r\n\t            if (_this.total_count === 0) {\r\n\t                _this.isListEmpty = true;\r\n\t            }\r\n\t            else {\r\n\t                _this.isListEmpty = false;\r\n\t            }\r\n\t            _this.newGoal = '';\r\n\t            jQuery('#goalsInput').typeahead('val', '');\r\n\t            _this.saveLoading = false;\r\n\t        }, function (err) {\r\n\t            var error = JSON.parse(err._body);\r\n\t            if ('goal' in error) {\r\n\t                _this.status = 'failure';\r\n\t            }\r\n\t            _this.saveLoading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.inputChanged = function (event) {\r\n\t        //if key is not enter clear notification\r\n\t        if (event.which !== 13) {\r\n\t            this.status = null;\r\n\t        }\r\n\t        if (event.which === 13) {\r\n\t            this.saveGoal(this.newGoal);\r\n\t        }\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.removeGoal = function (event) {\r\n\t        var _this = this;\r\n\t        var idx = lodash_1.findIndex(this.items, event);\r\n\t        if (this.items[idx]) {\r\n\t            this.goalsService.delete(event.resource_uri)\r\n\t                .subscribe(function (res) {\r\n\t                _this.items.splice(idx, 1);\r\n\t                _this.total_count--;\r\n\t                _this.counter.next({\r\n\t                    type: 'goals',\r\n\t                    count: _this.total_count\r\n\t                });\r\n\t                if (_this.total_count === 0) {\r\n\t                    _this.isListEmpty = true;\r\n\t                }\r\n\t                else {\r\n\t                    _this.isListEmpty = false;\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.addGoal = function () {\r\n\t        this.saveGoal(this.newGoal);\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.getList = function () {\r\n\t        var _this = this;\r\n\t        if (this.next === null)\r\n\t            return;\r\n\t        this.loading = true;\r\n\t        this.goalsService.get(this.next, 100)\r\n\t            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\r\n\t            _this.loading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.refreshList = function () {\r\n\t        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t        this.items.splice(0, this.items.length);\r\n\t        this.isListEmpty = false;\r\n\t        this.next = '';\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.assignList = function (data) {\r\n\t        this.loading = false;\r\n\t        this.total_count = data.meta.total_count;\r\n\t        this.counter.next({\r\n\t            type: 'goals',\r\n\t            count: this.total_count\r\n\t        });\r\n\t        if (this.total_count === 0) {\r\n\t            this.isListEmpty = true;\r\n\t            return;\r\n\t        }\r\n\t        else {\r\n\t            this.isListEmpty = false;\r\n\t        }\r\n\t        if (this.items.length > 0) {\r\n\t            var more = data.objects;\r\n\t            for (var i = 0; i <= more.length - 1; i++) {\r\n\t                this.items.push(more[i]);\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            this.items = data.objects;\r\n\t        }\r\n\t        this.next = data.meta.next;\r\n\t        this.offset = data.meta.offset;\r\n\t        //bind to scroll event to load more data on bottom scroll\r\n\t        if (this.next !== null) {\r\n\t            jQuery('#goals').bind('scroll', this.handleScrollEvent.bind(this));\r\n\t        }\r\n\t        else {\r\n\t            jQuery('#goals').unbind('scroll');\r\n\t        }\r\n\t    };\r\n\t    SignupGoalsComponent.prototype.handleScrollEvent = function (event) {\r\n\t        var scrollOffset = jQuery('#goals').scrollTop() + jQuery('#goals').innerHeight();\r\n\t        var threshold = jQuery('#goals')[0].scrollHeight;\r\n\t        if (this.next && scrollOffset >= threshold) {\r\n\t            if (!this.loading) {\r\n\t                this.getList();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupGoalsComponent.prototype, \"counter\", void 0);\r\n\t    SignupGoalsComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'prs-signup-goals',\r\n\t            template: __webpack_require__(735),\r\n\t            directives: [\r\n\t                loading_1.LoadingComponent\r\n\t            ]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [services_1.GoalsService])\r\n\t    ], SignupGoalsComponent);\r\n\t    return SignupGoalsComponent;\r\n\t}());\r\n\texports.SignupGoalsComponent = SignupGoalsComponent;\r\n\n\n/***/ },\n\n/***/ 735:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title\\\">My goal is to...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newGoal\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"goalsInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few goals here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addGoal($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"goals\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"#item of items\\\">\\n      <a (click)=\\\"removeGoal(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-goals\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Goals\\\" are things you want to achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Learn how to salsa dance\\\" or\\n        <br>\\\"Discover new hiking trails\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 679:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(680));\r\n\n\n/***/ },\n\n/***/ 680:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar router_1 = __webpack_require__(22);\r\n\tvar SignupHeaderComponent = (function () {\r\n\t    function SignupHeaderComponent() {\r\n\t        this.next = new core_1.EventEmitter();\r\n\t        this.skip = new core_1.EventEmitter();\r\n\t    }\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"counterInterests\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"counterGoals\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"counterOffers\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"page\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"nextTitle\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Input(), \r\n\t        __metadata('design:type', Object)\r\n\t    ], SignupHeaderComponent.prototype, \"showSkip\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupHeaderComponent.prototype, \"next\", void 0);\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupHeaderComponent.prototype, \"skip\", void 0);\r\n\t    SignupHeaderComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'prs-signup-header',\r\n\t            template: __webpack_require__(736),\r\n\t            directives: [router_1.ROUTER_DIRECTIVES]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [])\r\n\t    ], SignupHeaderComponent);\r\n\t    return SignupHeaderComponent;\r\n\t}());\r\n\texports.SignupHeaderComponent = SignupHeaderComponent;\r\n\n\n/***/ },\n\n/***/ 736:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<header class=\\\"header-signup\\\">\\n  <div class=\\\"layout layout--middle\\\">\\n    <div class=\\\"layout__item 2/3\\\">\\n      <div class=\\\"layout layout--auto\\\">\\n        <div class=\\\"layout__item\\\">\\n          <div class=\\\"header-signup__logo-place\\\">\\n            <a class=\\\"site-logo\\\" href=\\\"/signup\\\">\\n              <img alt=\\\"#\\\" src=\\\"/static/assets/images/logo.svg\\\" class=\\\"site-logo__mark\\\">\\n              <h1 class=\\\"site-logo__type\\\">Persice</h1>\\n            </a>\\n          </div>\\n        </div>\\n        <div class=\\\"layout__item\\\">\\n          <ul class=\\\"header-signup__steps\\\">\\n            <li *ngIf=\\\"page >= 1\\\"><a [routerLink]=\\\"['./SignupInterests']\\\"><b>{{counterInterests}}</b> interests</a></li>\\n            <li *ngIf=\\\"page >= 2\\\"><a [routerLink]=\\\"['./SignupGoals']\\\"><b>{{counterGoals}}</b> goals</a></li>\\n            <li *ngIf=\\\"page >= 3\\\"><a [routerLink]=\\\"['./SignupOffers']\\\"><b>{{counterOffers}}</b> offers</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"layout__item 1/3 text-right pr\\\">\\n      <a *ngIf=\\\"showSkip\\\" (click)=\\\"skip.next($event)\\\" class=\\\"link--darkgrey mr\\\">Skip</a>\\n      <a (click)=\\\"next.next($event)\\\" class=\\\"btn btn-1 btn-1--green btn-1--medium \\\">{{nextTitle}}</a>\\n    </div>\\n  </div>\\n</header>\\n\"\n\n/***/ },\n\n/***/ 681:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t// App\r\n\t__export(__webpack_require__(686));\r\n\tvar core_1 = __webpack_require__(6);\r\n\t// Application wide providers\r\n\texports.APP_PROVIDERS = [\r\n\t    core_1.HttpClient\r\n\t];\r\n\n\n/***/ },\n\n/***/ 682:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(683));\r\n\n\n/***/ },\n\n/***/ 683:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar lodash_1 = __webpack_require__(23);\r\n\tvar services_1 = __webpack_require__(12);\r\n\tvar loading_1 = __webpack_require__(24);\r\n\tvar SignupInterestsComponent = (function () {\r\n\t    function SignupInterestsComponent(interestsService, keywordsService, warningService) {\r\n\t        this.interestsService = interestsService;\r\n\t        this.keywordsService = keywordsService;\r\n\t        this.warningService = warningService;\r\n\t        this.counter = new core_1.EventEmitter();\r\n\t        this.items = [];\r\n\t        this.loading = false;\r\n\t        this.isListEmpty = false;\r\n\t        this.limit = 12;\r\n\t        this.query = '';\r\n\t        this.next = '';\r\n\t        this.total_count = 0;\r\n\t        this.offset = 0;\r\n\t        this.newInterest = '';\r\n\t        this.saveLoading = false;\r\n\t        this.showWarning = false;\r\n\t        this.userInterest = [];\r\n\t        this.userInterestCounter = 0;\r\n\t    }\r\n\t    SignupInterestsComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        this.initializeTokenInput();\r\n\t        this.getList();\r\n\t        if (this.subs) {\r\n\t            this.subs.unsubscribe();\r\n\t        }\r\n\t        this.subs = this.warningService.observer().subscribe(function (event) { return _this.showWarning = event; });\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.ngOnDestroy = function () {\r\n\t        if (this.subs) {\r\n\t            this.subs.unsubscribe();\r\n\t        }\r\n\t        jQuery('#interestsInput').typeahead('destroy');\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.initializeTokenInput = function () {\r\n\t        var _this = this;\r\n\t        var keywordsEngine = new Bloodhound({\r\n\t            remote: {\r\n\t                url: '/api/v1/interest_subject/?format=json&limit=30&description__icontains=%QUERY',\r\n\t                filter: function (x) {\r\n\t                    return jQuery.map(x.objects, function (item) {\r\n\t                        return item.description;\r\n\t                    });\r\n\t                },\r\n\t                wildcard: '%QUERY'\r\n\t            },\r\n\t            datumTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t            queryTokenizer: Bloodhound.tokenizers.whitespace\r\n\t        });\r\n\t        keywordsEngine.initialize();\r\n\t        jQuery('#interestsInput').typeahead({\r\n\t            hint: false,\r\n\t            highlight: true,\r\n\t            minLength: 2\r\n\t        }, {\r\n\t            source: keywordsEngine,\r\n\t            limit: 30\r\n\t        });\r\n\t        jQuery('#interestsInput').bind('typeahead:selected', function (ev, suggestion) {\r\n\t            _this.newInterest = suggestion;\r\n\t            _this.saveInterest(suggestion);\r\n\t        });\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.saveInterest = function (interest) {\r\n\t        var _this = this;\r\n\t        if (this.saveLoading) {\r\n\t            return;\r\n\t        }\r\n\t        this.saveLoading = true;\r\n\t        if (interest.length === 0 || interest.length > 100) {\r\n\t            this.status = 'failure';\r\n\t            this.saveLoading = false;\r\n\t            return;\r\n\t        }\r\n\t        var idx = lodash_1.findIndex(this.items, { 'description': interest });\r\n\t        if (this.items[idx]) {\r\n\t            if (!this.items[idx].active) {\r\n\t                this.interestsService.save(this.items[idx].description)\r\n\t                    .subscribe(function (res) {\r\n\t                    _this.saveLoading = false;\r\n\t                    _this.items[idx].active = true;\r\n\t                    _this.items[idx].interest_resource = res.resource_uri;\r\n\t                    _this.userInterestCounter++;\r\n\t                    _this.counter.next({\r\n\t                        type: 'interests',\r\n\t                        count: _this.userInterestCounter\r\n\t                    });\r\n\t                    _this.status = 'success';\r\n\t                    _this.newInterest = '';\r\n\t                    jQuery('#interestsInput').typeahead('val', '');\r\n\t                }, function (err) {\r\n\t                    _this.status = 'failure';\r\n\t                    _this.saveLoading = false;\r\n\t                }, function () { });\r\n\t            }\r\n\t            else {\r\n\t                this.status = 'failure';\r\n\t                this.saveLoading = false;\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            //create new interest\r\n\t            this.interestsService.save(interest)\r\n\t                .subscribe(function (res) {\r\n\t                _this.saveLoading = false;\r\n\t                var newItem = res;\r\n\t                newItem.active = true;\r\n\t                newItem.description = res.interest_subject;\r\n\t                newItem.interest_resource = res.resource_uri;\r\n\t                _this.items.push(newItem);\r\n\t                _this.status = 'success';\r\n\t                _this.userInterestCounter++;\r\n\t                _this.counter.next({\r\n\t                    type: 'interests',\r\n\t                    count: _this.userInterestCounter\r\n\t                });\r\n\t                _this.newInterest = '';\r\n\t                jQuery('#interestsInput').typeahead('val', '');\r\n\t                _this.refreshList();\r\n\t            }, function (err) {\r\n\t                _this.status = 'failure';\r\n\t                _this.saveLoading = false;\r\n\t            }, function () { });\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.inputChanged = function (event) {\r\n\t        //if key is not enter clear notification\r\n\t        if (event.which !== 13) {\r\n\t            this.status = null;\r\n\t        }\r\n\t        if (event.which === 13) {\r\n\t            this.saveInterest(this.newInterest);\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.addInterest = function () {\r\n\t        this.saveInterest(this.newInterest);\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.getList = function () {\r\n\t        var _this = this;\r\n\t        if (this.next === null)\r\n\t            return;\r\n\t        this.loading = true;\r\n\t        this.interestsService.get('', 2000)\r\n\t            .mergeMap(function (data) {\r\n\t            _this.userInterestCounter = data.meta.total_count;\r\n\t            _this.counter.next({\r\n\t                type: 'interests',\r\n\t                count: _this.userInterestCounter\r\n\t            });\r\n\t            if (_this.userInterestCounter > 0) {\r\n\t                _this.userInterest = data.objects;\r\n\t            }\r\n\t            return _this.keywordsService.get(_this.next, 100, _this.newInterest);\r\n\t        })\r\n\t            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\r\n\t            console.log(err);\r\n\t            _this.loading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.refreshList = function () {\r\n\t        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t        this.items.splice(0, this.items.length);\r\n\t        this.isListEmpty = false;\r\n\t        this.next = '';\r\n\t        this.saveLoading = false;\r\n\t        this.userInterest.splice(0, this.userInterest.length);\r\n\t        this.userInterestCounter = 0;\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.assignList = function (data) {\r\n\t        this.loading = false;\r\n\t        this.total_count = data.meta.total_count;\r\n\t        if (this.total_count === 0) {\r\n\t            this.isListEmpty = true;\r\n\t            return;\r\n\t        }\r\n\t        else {\r\n\t            this.isListEmpty = false;\r\n\t        }\r\n\t        var more = data.objects;\r\n\t        for (var i = 0; i <= more.length - 1; i++) {\r\n\t            more[i].active = false;\r\n\t            more[i].interest_resource = null;\r\n\t            for (var j = this.userInterest.length - 1; j >= 0; j--) {\r\n\t                if (more[i].resource_uri === this.userInterest[j].interest) {\r\n\t                    more[i].interest_resource = this.userInterest[j].resource_uri;\r\n\t                    more[i].active = true;\r\n\t                }\r\n\t            }\r\n\t            this.items.push(more[i]);\r\n\t        }\r\n\t        this.next = data.meta.next;\r\n\t        this.offset = data.meta.offset;\r\n\t        //bind to scroll event to load more data on bottom scroll\r\n\t        if (this.next !== null) {\r\n\t            jQuery('#interests').bind('scroll', this.handleScrollEvent.bind(this));\r\n\t        }\r\n\t        else {\r\n\t            jQuery('#interests').unbind('scroll');\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.handleScrollEvent = function (event) {\r\n\t        var scrollOffset = jQuery('#interests').scrollTop() + jQuery('#interests').innerHeight();\r\n\t        var threshold = jQuery('#interests')[0].scrollHeight;\r\n\t        if (this.next && scrollOffset >= threshold) {\r\n\t            if (!this.loading) {\r\n\t                this.getList();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    SignupInterestsComponent.prototype.onInterestClick = function (event) {\r\n\t        var _this = this;\r\n\t        this.status = null;\r\n\t        var idx = lodash_1.findIndex(this.items, event);\r\n\t        if (this.items[idx]) {\r\n\t            if (this.items[idx].active) {\r\n\t                //deselect interest\r\n\t                var url = this.items[idx].interest_resource;\r\n\t                this.interestsService.delete(url)\r\n\t                    .subscribe(function (res) {\r\n\t                    _this.items[idx].active = false;\r\n\t                    _this.items[idx].interest_resource = null;\r\n\t                    _this.userInterestCounter--;\r\n\t                    _this.counter.next({\r\n\t                        type: 'interests',\r\n\t                        count: _this.userInterestCounter\r\n\t                    });\r\n\t                }, function (err) {\r\n\t                    _this.status = 'failure';\r\n\t                }, function () { });\r\n\t            }\r\n\t            else {\r\n\t                //select interest\r\n\t                this.interestsService.save(this.items[idx].description)\r\n\t                    .subscribe(function (res) {\r\n\t                    _this.items[idx].active = true;\r\n\t                    _this.items[idx].interest_resource = res.resource_uri;\r\n\t                    _this.userInterestCounter++;\r\n\t                    _this.counter.next({\r\n\t                        type: 'interests',\r\n\t                        count: _this.userInterestCounter\r\n\t                    });\r\n\t                }, function (err) {\r\n\t                    _this.status = 'failure';\r\n\t                }, function () { });\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupInterestsComponent.prototype, \"counter\", void 0);\r\n\t    SignupInterestsComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'prs-signup-interests',\r\n\t            template: __webpack_require__(737),\r\n\t            directives: [\r\n\t                loading_1.LoadingComponent\r\n\t            ]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [services_1.InterestsService, services_1.KeywordsService, services_1.WarningService])\r\n\t    ], SignupInterestsComponent);\r\n\t    return SignupInterestsComponent;\r\n\t}());\r\n\texports.SignupInterestsComponent = SignupInterestsComponent;\r\n\n\n/***/ },\n\n/***/ 737:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title\\\">What interests you?</h2>\\n<p class=\\\"signup-step__subtitle signup-step__subtitle__warning\\\" *ngIf=\\\"showWarning\\\">Please select at least three.</p>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\" id=\\\"interestsSearch\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon \\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newInterest\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" class=\\\"search__input typeahead\\\" id=\\\"interestsInput\\\" placeholder=\\\"Enter your interests or search existing\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\" (click)=\\\"addInterest($event)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper\\\" id=\\\"interests\\\">\\n    <span (click)=\\\"onInterestClick(item)\\\" [ngClass]=\\\"{'is-current': item.active}\\\" class=\\\"search-tag\\\" *ngFor=\\\"#item of items\\\">{{item.description}}</span>\\n    <prs-loading [status]=\\\"loading\\\"></prs-loading>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 684:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(685));\r\n\n\n/***/ },\n\n/***/ 685:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar lodash_1 = __webpack_require__(23);\r\n\tvar services_1 = __webpack_require__(12);\r\n\tvar loading_1 = __webpack_require__(24);\r\n\tvar SignupOffersComponent = (function () {\r\n\t    function SignupOffersComponent(offersService) {\r\n\t        this.offersService = offersService;\r\n\t        this.counter = new core_1.EventEmitter();\r\n\t        this.items = [];\r\n\t        this.loading = false;\r\n\t        this.isListEmpty = false;\r\n\t        this.limit = 12;\r\n\t        this.query = '';\r\n\t        this.next = '';\r\n\t        this.total_count = 0;\r\n\t        this.offset = 0;\r\n\t        this.newOffer = '';\r\n\t        this.saveLoading = false;\r\n\t    }\r\n\t    SignupOffersComponent.prototype.ngOnInit = function () {\r\n\t        this.initializeTokenInput();\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupOffersComponent.prototype.ngOnDestroy = function () {\r\n\t        jQuery('#offersInput').typeahead('destroy');\r\n\t    };\r\n\t    SignupOffersComponent.prototype.initializeTokenInput = function () {\r\n\t        var _this = this;\r\n\t        var keywordsEngine = new Bloodhound({\r\n\t            remote: {\r\n\t                url: '/api/v1/subject/?format=json&limit=30&description__icontains=%QUERY',\r\n\t                filter: function (x) {\r\n\t                    return jQuery.map(x.objects, function (item) {\r\n\t                        return item.description;\r\n\t                    });\r\n\t                },\r\n\t                wildcard: '%QUERY'\r\n\t            },\r\n\t            datumTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t            queryTokenizer: Bloodhound.tokenizers.whitespace\r\n\t        });\r\n\t        keywordsEngine.initialize();\r\n\t        jQuery('#offersInput').typeahead({\r\n\t            hint: false,\r\n\t            highlight: true,\r\n\t            minLength: 2\r\n\t        }, {\r\n\t            source: keywordsEngine,\r\n\t            limit: 30\r\n\t        });\r\n\t        jQuery('#offersInput').bind('typeahead:selected', function (ev, suggestion) {\r\n\t            _this.newOffer = suggestion;\r\n\t            _this.saveOffer(suggestion);\r\n\t        });\r\n\t    };\r\n\t    SignupOffersComponent.prototype.saveOffer = function (offer) {\r\n\t        var _this = this;\r\n\t        if (this.saveLoading === true) {\r\n\t            return;\r\n\t        }\r\n\t        this.saveLoading = true;\r\n\t        if (offer.length === 0 || offer.length > 100) {\r\n\t            this.status = 'failure';\r\n\t            this.saveLoading = false;\r\n\t            return;\r\n\t        }\r\n\t        this.offersService.save(offer)\r\n\t            .subscribe(function (res) {\r\n\t            var newItem = res;\r\n\t            _this.items.push(newItem);\r\n\t            _this.status = 'success';\r\n\t            _this.total_count++;\r\n\t            _this.counter.next({\r\n\t                type: 'offers',\r\n\t                count: _this.total_count\r\n\t            });\r\n\t            if (_this.total_count === 0) {\r\n\t                _this.isListEmpty = true;\r\n\t            }\r\n\t            else {\r\n\t                _this.isListEmpty = false;\r\n\t            }\r\n\t            _this.newOffer = '';\r\n\t            jQuery('#offersInput').typeahead('val', '');\r\n\t            _this.saveLoading = false;\r\n\t        }, function (err) {\r\n\t            var error = JSON.parse(err._body);\r\n\t            if ('offer' in error) {\r\n\t                _this.status = 'failure';\r\n\t            }\r\n\t            _this.saveLoading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupOffersComponent.prototype.inputChanged = function (event) {\r\n\t        //if key is not enter clear notification\r\n\t        if (event.which !== 13) {\r\n\t            this.status = null;\r\n\t        }\r\n\t        if (event.which === 13) {\r\n\t            this.saveOffer(this.newOffer);\r\n\t        }\r\n\t    };\r\n\t    SignupOffersComponent.prototype.addOffer = function () {\r\n\t        this.saveOffer(this.newOffer);\r\n\t    };\r\n\t    SignupOffersComponent.prototype.removeOffer = function (event) {\r\n\t        var _this = this;\r\n\t        var idx = lodash_1.findIndex(this.items, event);\r\n\t        if (this.items[idx]) {\r\n\t            this.offersService.delete(event.resource_uri)\r\n\t                .subscribe(function (res) {\r\n\t                _this.items.splice(idx, 1);\r\n\t                _this.total_count--;\r\n\t                _this.counter.next({\r\n\t                    type: 'offers',\r\n\t                    count: _this.total_count\r\n\t                });\r\n\t                if (_this.total_count === 0) {\r\n\t                    _this.isListEmpty = true;\r\n\t                }\r\n\t                else {\r\n\t                    _this.isListEmpty = false;\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    SignupOffersComponent.prototype.getList = function () {\r\n\t        var _this = this;\r\n\t        if (this.next === null)\r\n\t            return;\r\n\t        this.loading = true;\r\n\t        this.offersService.get(this.next, 100)\r\n\t            .subscribe(function (data) { return _this.assignList(data); }, function (err) {\r\n\t            _this.loading = false;\r\n\t        }, function () {\r\n\t        });\r\n\t    };\r\n\t    SignupOffersComponent.prototype.refreshList = function () {\r\n\t        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t        this.items.splice(0, this.items.length);\r\n\t        this.isListEmpty = false;\r\n\t        this.next = '';\r\n\t        this.getList();\r\n\t    };\r\n\t    SignupOffersComponent.prototype.assignList = function (data) {\r\n\t        this.loading = false;\r\n\t        this.total_count = data.meta.total_count;\r\n\t        this.counter.next({\r\n\t            type: 'offers',\r\n\t            count: this.total_count\r\n\t        });\r\n\t        if (this.total_count === 0) {\r\n\t            this.isListEmpty = true;\r\n\t            return;\r\n\t        }\r\n\t        else {\r\n\t            this.isListEmpty = false;\r\n\t        }\r\n\t        if (this.items.length > 0) {\r\n\t            var more = data.objects;\r\n\t            for (var i = 0; i <= more.length - 1; i++) {\r\n\t                this.items.push(more[i]);\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            this.items = data.objects;\r\n\t        }\r\n\t        this.next = data.meta.next;\r\n\t        this.offset = data.meta.offset;\r\n\t        //bind to scroll event to load more data on bottom scroll\r\n\t        if (this.next !== null) {\r\n\t            jQuery('#offers').bind('scroll', this.handleScrollEvent.bind(this));\r\n\t        }\r\n\t        else {\r\n\t            jQuery('#offers').unbind('scroll');\r\n\t        }\r\n\t    };\r\n\t    SignupOffersComponent.prototype.handleScrollEvent = function (event) {\r\n\t        var scrollOffset = jQuery('#offers').scrollTop() + jQuery('#offers').innerHeight();\r\n\t        var threshold = jQuery('#offers')[0].scrollHeight;\r\n\t        if (this.next && scrollOffset >= threshold) {\r\n\t            if (!this.loading) {\r\n\t                this.getList();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    __decorate([\r\n\t        core_1.Output(), \r\n\t        __metadata('design:type', core_1.EventEmitter)\r\n\t    ], SignupOffersComponent.prototype, \"counter\", void 0);\r\n\t    SignupOffersComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'prs-signup-offers',\r\n\t            template: __webpack_require__(738),\r\n\t            directives: [\r\n\t                loading_1.LoadingComponent\r\n\t            ]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [services_1.OffersService])\r\n\t    ], SignupOffersComponent);\r\n\t    return SignupOffersComponent;\r\n\t}());\r\n\texports.SignupOffersComponent = SignupOffersComponent;\r\n\n\n/***/ },\n\n/***/ 738:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<h2 class=\\\"signup-step__title\\\">I can help people...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newOffer\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"offersInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few offers here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addOffer($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"offers\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"#item of items\\\">\\n      <a (click)=\\\"removeOffer(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-offers\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Offers\\\" are things you can help other people achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Practice speaking Spanish\\\"\\n        <br>or \\\"Find a tennis partner\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n/***/ },\n\n/***/ 686:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(1);\r\n\tvar router_1 = __webpack_require__(22);\r\n\tvar interests_1 = __webpack_require__(682);\r\n\tvar goals_1 = __webpack_require__(677);\r\n\tvar offers_1 = __webpack_require__(684);\r\n\tvar connect_social_accounts_1 = __webpack_require__(675);\r\n\tvar header_1 = __webpack_require__(679);\r\n\tvar services_1 = __webpack_require__(12);\r\n\tvar SignupComponent = (function () {\r\n\t    function SignupComponent(router, location, goalsService, offersService, interestsService, userAuthService, onboardingService, warningService) {\r\n\t        var _this = this;\r\n\t        this.goalsService = goalsService;\r\n\t        this.offersService = offersService;\r\n\t        this.interestsService = interestsService;\r\n\t        this.userAuthService = userAuthService;\r\n\t        this.onboardingService = onboardingService;\r\n\t        this.warningService = warningService;\r\n\t        this.page = 1;\r\n\t        this.cGoa = 0;\r\n\t        this.cOff = 0;\r\n\t        this.cInt = 0;\r\n\t        this.showSkip = false;\r\n\t        this.nextStep = 'SignupGoals';\r\n\t        this.nextTitle = 'Next';\r\n\t        this.is_complete = null;\r\n\t        this.notificationMain = {\r\n\t            body: '',\r\n\t            title: '',\r\n\t            active: false,\r\n\t            type: ''\r\n\t        };\r\n\t        this.router = router;\r\n\t        this.location = location;\r\n\t        var subs = null;\r\n\t        this.router.subscribe(function (path) {\r\n\t            if (subs) {\r\n\t                subs.unsubscribe();\r\n\t                subs = null;\r\n\t            }\r\n\t            if (_this.myElem1) {\r\n\t                subs = _this.myElem1.counter.subscribe(function (message) {\r\n\t                    _this.onCounterChanged(message);\r\n\t                    if (message.count >= 3) {\r\n\t                        _this.warningService.push(false);\r\n\t                    }\r\n\t                });\r\n\t            }\r\n\t            if (_this.myElem2) {\r\n\t                subs = _this.myElem2.counter.subscribe(function (message) { return _this.onCounterChanged(message); });\r\n\t            }\r\n\t            if (_this.myElem3) {\r\n\t                subs = _this.myElem3.counter.subscribe(function (message) { return _this.onCounterChanged(message); });\r\n\t            }\r\n\t            _this.onRouteChanged(path);\r\n\t        });\r\n\t    }\r\n\t    SignupComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        this.userAuthService.findOneByUri('me').subscribe(function (data) {\r\n\t            var res = data;\r\n\t            _this.cGoa = res.goals.length;\r\n\t            _this.cOff = res.offers.length;\r\n\t            _this.cInt = res.interests.length;\r\n\t            _this.is_complete = res.onboardingflow;\r\n\t        });\r\n\t    };\r\n\t    SignupComponent.prototype.onRouteChanged = function (path) {\r\n\t        switch (path) {\r\n\t            case 'interests':\r\n\t                this.page = 1;\r\n\t                this.showSkip = false;\r\n\t                this.nextStep = 'SignupGoals';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t            case 'goals':\r\n\t                this.page = 2;\r\n\t                this.showSkip = true;\r\n\t                this.nextStep = 'SignupOffers';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t            case 'offers':\r\n\t                this.page = 3;\r\n\t                this.showSkip = true;\r\n\t                this.nextStep = 'SignupConnect';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t            case 'connect':\r\n\t                this.page = 4;\r\n\t                this.showSkip = true;\r\n\t                this.nextStep = null;\r\n\t                this.nextTitle = 'Go!';\r\n\t                break;\r\n\t            default:\r\n\t                this.page = 1;\r\n\t                this.showSkip = false;\r\n\t                this.nextStep = 'SignupGoals';\r\n\t                this.nextTitle = 'Next';\r\n\t                break;\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.next = function (event) {\r\n\t        if (this.nextStep) {\r\n\t            switch (this.nextStep) {\r\n\t                case 'SignupGoals':\r\n\t                    //check if user selected less than 3 interests\r\n\t                    if (this.cInt < 3) {\r\n\t                        this.warningService.push(true);\r\n\t                        return;\r\n\t                    }\r\n\t                    else {\r\n\t                        this.completeOnboarding();\r\n\t                        this.warningService.push(false);\r\n\t                    }\r\n\t                    break;\r\n\t                default:\r\n\t                    break;\r\n\t            }\r\n\t            this.router.navigate([this.nextStep]);\r\n\t        }\r\n\t        else {\r\n\t            window.location.href = '/crowd/';\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.skip = function (event) {\r\n\t        if (this.nextStep) {\r\n\t            this.router.navigate([this.nextStep]);\r\n\t        }\r\n\t        else {\r\n\t            window.location.href = '/crowd/';\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.completeOnboarding = function () {\r\n\t        if (this.is_complete === null) {\r\n\t            this.onboardingService.complete().subscribe(function (data) {\r\n\t            }, function (err) {\r\n\t            }, function () {\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    SignupComponent.prototype.onCounterChanged = function (event) {\r\n\t        switch (event.type) {\r\n\t            case 'interests':\r\n\t                this.cInt = event.count;\r\n\t                break;\r\n\t            case 'goals':\r\n\t                this.cGoa = event.count;\r\n\t                break;\r\n\t            case 'offers':\r\n\t                this.cOff = event.count;\r\n\t                break;\r\n\t            default:\r\n\t                break;\r\n\t        }\r\n\t    };\r\n\t    __decorate([\r\n\t        core_1.ViewChild(interests_1.SignupInterestsComponent), \r\n\t        __metadata('design:type', interests_1.SignupInterestsComponent)\r\n\t    ], SignupComponent.prototype, \"myElem1\", void 0);\r\n\t    __decorate([\r\n\t        core_1.ViewChild(goals_1.SignupGoalsComponent), \r\n\t        __metadata('design:type', goals_1.SignupGoalsComponent)\r\n\t    ], SignupComponent.prototype, \"myElem2\", void 0);\r\n\t    __decorate([\r\n\t        core_1.ViewChild(offers_1.SignupOffersComponent), \r\n\t        __metadata('design:type', offers_1.SignupOffersComponent)\r\n\t    ], SignupComponent.prototype, \"myElem3\", void 0);\r\n\t    SignupComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            template: __webpack_require__(739),\r\n\t            selector: 'persice-signup',\r\n\t            encapsulation: core_1.ViewEncapsulation.None,\r\n\t            directives: [\r\n\t                header_1.SignupHeaderComponent,\r\n\t                router_1.ROUTER_DIRECTIVES\r\n\t            ],\r\n\t            providers: [\r\n\t                services_1.InterestsService,\r\n\t                services_1.GoalsService,\r\n\t                services_1.OffersService,\r\n\t                services_1.KeywordsService,\r\n\t                services_1.UserAuthService,\r\n\t                services_1.OnboardingService,\r\n\t                services_1.WarningService\r\n\t            ]\r\n\t        }),\r\n\t        router_1.RouteConfig([\r\n\t            {\r\n\t                path: '/',\r\n\t                redirectTo: ['SignupInterests']\r\n\t            },\r\n\t            {\r\n\t                path: '/interests',\r\n\t                component: interests_1.SignupInterestsComponent,\r\n\t                name: 'SignupInterests',\r\n\t                data: { page: 1 }\r\n\t            },\r\n\t            {\r\n\t                path: '/goals',\r\n\t                component: goals_1.SignupGoalsComponent,\r\n\t                name: 'SignupGoals',\r\n\t                data: { page: 2 }\r\n\t            },\r\n\t            {\r\n\t                path: '/offers',\r\n\t                component: offers_1.SignupOffersComponent,\r\n\t                name: 'SignupOffers',\r\n\t                data: { page: 3 }\r\n\t            },\r\n\t            {\r\n\t                path: '/connect',\r\n\t                component: connect_social_accounts_1.SignupConnectComponent,\r\n\t                name: 'SignupConnect',\r\n\t                data: { page: 4 }\r\n\t            }\r\n\t        ]), \r\n\t        __metadata('design:paramtypes', [router_1.Router, router_1.Location, services_1.GoalsService, services_1.OffersService, services_1.InterestsService, services_1.UserAuthService, services_1.OnboardingService, services_1.WarningService])\r\n\t    ], SignupComponent);\r\n\t    return SignupComponent;\r\n\t}());\r\n\texports.SignupComponent = SignupComponent;\r\n\n\n/***/ },\n\n/***/ 739:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"signup\\\">\\n  <prs-signup-header [nextTitle]=\\\"nextTitle\\\" [showSkip]=\\\"showSkip\\\" (skip)=\\\"skip($event)\\\" (next)=\\\"next($event)\\\" [page]=\\\"page\\\" [counterInterests]=\\\"cInt\\\" [counterOffers]=\\\"cOff\\\" [counterGoals]=\\\"cGoa\\\"></prs-signup-header>\\n  <div class=\\\"signup__content\\\">\\n    <ul class=\\\"signup-pager\\\">\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 1, 'signup-pager__completed': page >= 2}\\\">1</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 2,'signup-pager__completed': page >= 3}\\\">2</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 3, 'signup-pager__completed': page === 4}\\\">3</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 4}\\\">4</li>\\n    </ul>\\n    <router-outlet></router-outlet>\\n  </div>\\n</div>\\n\"\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** signup.678ac85eee28f768a8f0.bundle.js\n **/","/*\n * Providers provided by Angular\n */\nimport {bootstrap} from 'angular2/platform/browser';\n/*\n* Platform and Environment\n* our providers/directives/pipes\n*/\nimport {DIRECTIVES, PIPES, PROVIDERS_SIGNUP} from './platform/browser';\nimport {ENV_PROVIDERS} from './platform/environment';\n\n/*\n* App Component\n* our top level component that holds all of our components\n*/\nimport {SignupComponent, APP_PROVIDERS} from './signup';\n\n/*\n * Bootstrap our Angular app with a top level component `App` and inject\n * our Services and Providers into Angular's dependency injection\n */\nexport function main(initialHmrState?: any): Promise<any> {\n\n  return bootstrap(SignupComponent, [\n    ...ENV_PROVIDERS,\n    ...PROVIDERS_SIGNUP,\n    ...DIRECTIVES,\n    ...PIPES,\n    ...APP_PROVIDERS\n  ])\n    .catch(err => console.error(err));\n\n}\n\n\n\n\n\n/*\n * Vendors\n * For vendors for example jQuery, Lodash, angular2-jwt just import them anywhere in your app\n * You can also import them in vendors to ensure that they are bundled in one file\n * Also see custom-typings.d.ts as you also need to do `typings install x` where `x` is your module\n */\n\n\n/*\n * Hot Module Reload\n * experimental version\n */\nif ('development' === ENV && HMR === true) {\n  // activate hot module reload\n  let ngHmr = require('angular2-hmr');\n  ngHmr.hotModuleReplacement(main, module);\n} else {\n  // bootstrap when documetn is ready\n  document.addEventListener('DOMContentLoaded', () => main());\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup.browser.ts\n **/","export * from './signup-connect.component';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/connect-social-accounts/index.ts\n **/","import {Component, NgZone} from 'angular2/core';\n\nimport {UserAuthService} from '../../app/shared/services';\n\ndeclare var jQuery: any;\n@Component({\n  selector: 'prs-signup-connect',\n  template: require('./signup-connect.html')\n})\nexport class SignupConnectComponent {\n\n  connectStatus = {\n    twitter: {\n      connected: false,\n      username: 'Your twitter account',\n      url: ''\n    },\n    linkedin: {\n      connected: false,\n      username: 'Your linkedin account',\n      url: ''\n    }\n  };\n\n  constructor(private service: UserAuthService, private _ngZone: NgZone) {\n  }\n\n  ngOnInit() {\n    this.getConnectStatus();\n    jQuery('.connect-media').on('persice:refreshConnect', (e) => {\n      this.refreshConnectInfo();\n    });\n  }\n\n  refreshConnectInfo() {\n    this.service.findOneByUri('me').subscribe((data) => {\n      this.getConnectStatus();\n    });\n  }\n\n  getConnectStatus() {\n    this._ngZone.run(() => {\n      this.connectStatus = this.service.getConnectStatus();\n    });\n  }\n\n\n  toggle(provider) {\n    if (this.connectStatus[provider].connected) {\n      this.disconnect(provider);\n    } else {\n      this.connect(provider);\n    }\n  }\n\n  connect(provider) {\n    let w = 400;\n    let h = 300;\n\n\n    let dualScreenLeft = window.screenLeft;\n    let dualScreenTop = window.screenTop;\n\n    let width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n    let height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n    let left = ((width / 2) - (w / 2)) + dualScreenLeft;\n    let top = ((height / 2) - (h / 2)) + dualScreenTop;\n\n\n    let settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\n    let url = '/social/associate/' + provider + '/?next=/goals/close_login_popup/';\n    let newWindow = window.open(url, `Connecting your ${provider} account...`, settings);\n\n    if (window.focus) {\n      newWindow.focus();\n    }\n  }\n\n  disconnect(provider) {\n    let w = 400;\n    let h = 300;\n\n\n    let dualScreenLeft = window.screenLeft;\n    let dualScreenTop = window.screenTop;\n\n    let width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n    let height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n    let left = ((width / 2) - (w / 2)) + dualScreenLeft;\n    let top = ((height / 2) - (h / 2)) + dualScreenTop;\n\n\n    let settings = 'height=' + h + ',width=' + w + ',left=' + left + ',top=' + top + ',resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=yes,directories=no,status=yes';\n    let url = '/social/disconnect/' + provider + '/?next=/goals/close_login_popup/';\n    let newWindow = window.open(url, `Disconnecting your ${provider} account...`, settings);\n\n    if (window.focus) {\n      newWindow.focus();\n    }\n  }\n\n  openUrl(provider) {\n    if (this.connectStatus[provider].connected) {\n      let win = window.open(this.connectStatus[provider].url, '_blank');\n      win.focus();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/connect-social-accounts/signup-connect.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title mb mt+\\\">Connect your LinkedIn and <br> Twitter accounts</h2>\\n<p class=\\\"signup-step__subtitle\\\">\\n  This will improve your match results within the Persice community.\\n  <br>\\n  <svg role=\\\"img\\\" class=\\\"icon\\\">\\n    <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-lock\\\"></use>\\n  </svg> Persice will never share your information or post on your behalf.\\n</p>\\n<ul class=\\\"connect-media\\\">\\n  <li>\\n    <div (click)=\\\"openUrl('twitter')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.twitter.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--twitter\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-twitter-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--twitter\\\">twitter</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.twitter.connected}\\\">{{connectStatus.twitter.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('twitter')\\\" [ngClass]=\\\"{'is-active': connectStatus.twitter.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--twitter btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n  <li>\\n    <div (click)=\\\"openUrl('linkedin')\\\" class=\\\"connect-media__url\\\" [ngClass]=\\\"{'connect-media__url--activated': connectStatus.linkedin.connected}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon icon--large icon--linkedin\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-linkedin-share\\\"></use>\\n      </svg> <span class=\\\"connect-media__title connect-media__title--linkedin\\\">linkedin</span>\\n    </div>\\n    <p class=\\\"connect-media__username\\\" [ngClass]=\\\"{'connect-media__username--activated': connectStatus.linkedin.connected}\\\">{{connectStatus.linkedin.username}}</p>\\n    <a id=\\\"linkedinLink\\\" (click)=\\\"toggle('linkedin')\\\" [ngClass]=\\\"{'is-active': connectStatus.linkedin.connected}\\\" class=\\\"btn btn-1 btn-1--connect btn-1--connect--linkedin btn--full btn--connect js-accept\\\">\\n      <div class=\\\"btn--connect__label\\\">Connect</div>\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n      </svg>\\n    </a>\\n  </li>\\n</ul>\\n<a class=\\\"mr\\\" href=\\\"#\\\"></a>\\n<a href=\\\"#\\\"></a>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/connect-social-accounts/signup-connect.html\n ** module id = 734\n ** module chunks = 13\n **/","export * from './signup-goals.component';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/goals/index.ts\n **/","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  OnInit,\n  OnDestroy\n} from 'angular2/core';\n\nimport {findIndex} from 'lodash';\n\nimport {GoalsService} from '../../app/shared/services';\nimport {LoadingComponent} from '../../app/shared/components/loading';\n\n@Component({\n  selector: 'prs-signup-goals',\n  template: require('./signup-goals.html'),\n  directives: [\n    LoadingComponent\n  ]\n})\nexport class SignupGoalsComponent implements OnInit, OnDestroy {\n\n  @Output() counter: EventEmitter<any> = new EventEmitter();\n\n  items: any[] = [];\n  loading: boolean = false;\n  isListEmpty: boolean = false;\n  limit: number = 12;\n  query: string = '';\n  next: string = '';\n  total_count: number = 0;\n  offset: number = 0;\n  newGoal = '';\n  status;\n  saveLoading = false;\n\n  constructor(\n    private goalsService: GoalsService\n    ) {\n\n  }\n\n  ngOnInit() {\n    this.initializeTokenInput();\n    this.getList();\n  }\n\n  ngOnDestroy() {\n    jQuery('#goalsInput').typeahead('destroy');\n  }\n\n  initializeTokenInput() {\n    let keywordsEngine = new Bloodhound({\n      remote: {\n        url: '/api/v1/subject/?format=json&limit=30&description__icontains=%QUERY',\n        filter: (x: any) => {\n          return jQuery.map(x.objects, (item) => {\n            return item.description;\n          });\n        },\n        wildcard: '%QUERY'\n      },\n      datumTokenizer: Bloodhound.tokenizers.whitespace,\n      queryTokenizer: Bloodhound.tokenizers.whitespace\n    });\n\n    keywordsEngine.initialize();\n\n    jQuery('#goalsInput').typeahead(\n      {\n        hint: false,\n        highlight: true,\n        minLength: 2\n      },\n      {\n        source: keywordsEngine,\n        limit: 30\n      }\n      );\n\n    jQuery('#goalsInput').bind('typeahead:selected', (ev, suggestion) => {\n      this.newGoal = suggestion;\n      this.saveGoal(suggestion);\n    });\n\n  }\n\n  saveGoal(goal) {\n    if (this.saveLoading === true) {\n      return;\n    }\n    this.saveLoading = true;\n\n    if (goal.length === 0 || goal.length > 100) {\n      this.status = 'failure';\n      this.saveLoading = false;\n      return;\n    }\n\n    this.goalsService.save(goal)\n      .subscribe((res) => {\n      let newItem = res;\n      this.items.push(newItem);\n      this.status = 'success';\n\n      this.total_count++;\n      this.counter.next({\n        type: 'goals',\n        count: this.total_count\n      });\n      if (this.total_count === 0) {\n        this.isListEmpty = true;\n      } else {\n        this.isListEmpty = false;\n      }\n      this.newGoal = '';\n      jQuery('#goalsInput').typeahead('val', '');\n      this.saveLoading = false;\n    }, (err) => {\n        let error = JSON.parse(err._body);\n        if ('goal' in error) {\n          this.status = 'failure';\n        }\n        this.saveLoading = false;\n      }, () => {\n\n      });\n  }\n\n  inputChanged(event) {\n    //if key is not enter clear notification\n    if (event.which !== 13) {\n      this.status = null;\n    }\n    if (event.which === 13) {\n      this.saveGoal(this.newGoal);\n    }\n\n  }\n\n  removeGoal(event) {\n    let idx = findIndex(this.items, event);\n    if (this.items[idx]) {\n      this.goalsService.delete(event.resource_uri)\n        .subscribe((res) => {\n        this.items.splice(idx, 1);\n        this.total_count--;\n        this.counter.next({\n          type: 'goals',\n          count: this.total_count\n        });\n        if (this.total_count === 0) {\n          this.isListEmpty = true;\n        } else {\n          this.isListEmpty = false;\n        }\n      });\n    }\n\n  }\n\n  addGoal() {\n    this.saveGoal(this.newGoal);\n  }\n\n\n  getList() {\n    if (this.next === null) return;\n    this.loading = true;\n    this.goalsService.get(this.next, 100)\n      .subscribe(data => this.assignList(data),\n      (err) => {\n        this.loading = false;\n      },\n      () => {\n\n      });\n  }\n\n\n  refreshList() {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n    this.items.splice(0, this.items.length);\n    this.isListEmpty = false;\n    this.next = '';\n    this.getList();\n  }\n\n  assignList(data) {\n\n    this.loading = false;\n\n    this.total_count = data.meta.total_count;\n\n    this.counter.next({\n      type: 'goals',\n      count: this.total_count\n    });\n\n    if (this.total_count === 0) {\n      this.isListEmpty = true;\n      return;\n    } else {\n      this.isListEmpty = false;\n    }\n\n    if (this.items.length > 0) {\n      let more = data.objects;\n      for (var i = 0; i <= more.length - 1; i++) {\n        this.items.push(more[i]);\n      }\n    } else {\n      this.items = data.objects;\n    }\n\n    this.next = data.meta.next;\n    this.offset = data.meta.offset;\n\n\n    //bind to scroll event to load more data on bottom scroll\n    if (this.next !== null) {\n      jQuery('#goals').bind('scroll', this.handleScrollEvent.bind(this));\n    } else {\n      jQuery('#goals').unbind('scroll');\n    }\n\n\n  }\n\n  handleScrollEvent(event) {\n    let scrollOffset = jQuery('#goals').scrollTop() + jQuery('#goals').innerHeight();\n    let threshold = jQuery('#goals')[0].scrollHeight;\n    if (this.next && scrollOffset >= threshold) {\n      if (!this.loading) {\n        this.getList();\n      }\n    }\n\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/goals/signup-goals.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title\\\">My goal is to...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newGoal\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"goalsInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few goals here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addGoal($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"goals\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"#item of items\\\">\\n      <a (click)=\\\"removeGoal(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-goals\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Goals\\\" are things you want to achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Learn how to salsa dance\\\" or\\n        <br>\\\"Discover new hiking trails\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/goals/signup-goals.html\n ** module id = 735\n ** module chunks = 13\n **/","export * from './signup-header.component';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/header/index.ts\n **/","import {Component, Input, Output, EventEmitter} from 'angular2/core';\nimport {ROUTER_DIRECTIVES} from 'angular2/router';\n\n\n@Component({\n  selector: 'prs-signup-header',\n  template: require('./signup-header.html'),\n  directives: [ROUTER_DIRECTIVES]\n})\nexport class SignupHeaderComponent {\n  @Input() counterInterests;\n  @Input() counterGoals;\n  @Input() counterOffers;\n  @Input() page;\n  @Input() nextTitle;\n  @Input() showSkip;\n  @Output() next: EventEmitter<any> = new EventEmitter();\n  @Output() skip: EventEmitter<any> = new EventEmitter();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/header/signup-header.component.ts\n **/","module.exports = \"<header class=\\\"header-signup\\\">\\n  <div class=\\\"layout layout--middle\\\">\\n    <div class=\\\"layout__item 2/3\\\">\\n      <div class=\\\"layout layout--auto\\\">\\n        <div class=\\\"layout__item\\\">\\n          <div class=\\\"header-signup__logo-place\\\">\\n            <a class=\\\"site-logo\\\" href=\\\"/signup\\\">\\n              <img alt=\\\"#\\\" src=\\\"/static/assets/images/logo.svg\\\" class=\\\"site-logo__mark\\\">\\n              <h1 class=\\\"site-logo__type\\\">Persice</h1>\\n            </a>\\n          </div>\\n        </div>\\n        <div class=\\\"layout__item\\\">\\n          <ul class=\\\"header-signup__steps\\\">\\n            <li *ngIf=\\\"page >= 1\\\"><a [routerLink]=\\\"['./SignupInterests']\\\"><b>{{counterInterests}}</b> interests</a></li>\\n            <li *ngIf=\\\"page >= 2\\\"><a [routerLink]=\\\"['./SignupGoals']\\\"><b>{{counterGoals}}</b> goals</a></li>\\n            <li *ngIf=\\\"page >= 3\\\"><a [routerLink]=\\\"['./SignupOffers']\\\"><b>{{counterOffers}}</b> offers</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"layout__item 1/3 text-right pr\\\">\\n      <a *ngIf=\\\"showSkip\\\" (click)=\\\"skip.next($event)\\\" class=\\\"link--darkgrey mr\\\">Skip</a>\\n      <a (click)=\\\"next.next($event)\\\" class=\\\"btn btn-1 btn-1--green btn-1--medium \\\">{{nextTitle}}</a>\\n    </div>\\n  </div>\\n</header>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/header/signup-header.html\n ** module id = 736\n ** module chunks = 13\n **/","// App\nexport * from './signup.component';\nimport {HttpClient} from '../app/shared/core';\n\n// Application wide providers\nexport const APP_PROVIDERS = [\n  HttpClient\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/index.ts\n **/","export * from './signup-interests.component';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/interests/index.ts\n **/","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  OnInit,\n  OnDestroy\n} from 'angular2/core';\nimport {mergeMap} from 'rxjs/operator/mergeMap';\nimport {findIndex} from 'lodash';\n\nimport {\n  InterestsService,\n  KeywordsService,\n  WarningService\n}\nfrom '../../app/shared/services';\n\nimport {LoadingComponent} from '../../app/shared/components/loading';\n\n@Component({\n  selector: 'prs-signup-interests',\n  template: require('./signup-interests.html'),\n  directives: [\n    LoadingComponent\n  ]\n})\nexport class SignupInterestsComponent implements OnInit, OnDestroy {\n\n  @Output() counter: EventEmitter<any> = new EventEmitter();\n\n  items: any[] = [];\n  loading: boolean = false;\n  isListEmpty: boolean = false;\n  limit: number = 12;\n  query: string = '';\n  next: string = '';\n  total_count: number = 0;\n  offset: number = 0;\n  newInterest = '';\n  status;\n  saveLoading = false;\n\n  subs: EventEmitter<any>;\n  showWarning = false;\n\n  userInterest: any[] = [];\n  userInterestCounter: number = 0;\n\n  constructor(\n    private interestsService: InterestsService,\n    private keywordsService: KeywordsService,\n    private warningService: WarningService\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.initializeTokenInput();\n    this.getList();\n\n    if (this.subs) {\n      this.subs.unsubscribe();\n    }\n    this.subs = this.warningService.observer().subscribe((event: any) => this.showWarning = event);\n  }\n\n  ngOnDestroy() {\n    if (this.subs) {\n      this.subs.unsubscribe();\n    }\n\n    jQuery('#interestsInput').typeahead('destroy');\n  }\n\n  initializeTokenInput() {\n    let keywordsEngine = new Bloodhound({\n      remote: {\n        url: '/api/v1/interest_subject/?format=json&limit=30&description__icontains=%QUERY',\n        filter: (x: any) => {\n          return jQuery.map(x.objects, (item) => {\n            return item.description;\n          });\n        },\n        wildcard: '%QUERY'\n      },\n      datumTokenizer: Bloodhound.tokenizers.whitespace,\n      queryTokenizer: Bloodhound.tokenizers.whitespace\n    });\n\n    keywordsEngine.initialize();\n\n    jQuery('#interestsInput').typeahead(\n      {\n        hint: false,\n        highlight: true,\n        minLength: 2\n      },\n      {\n        source: keywordsEngine,\n        limit: 30\n      }\n    );\n\n    jQuery('#interestsInput').bind('typeahead:selected', (ev, suggestion) => {\n      this.newInterest = suggestion;\n      this.saveInterest(suggestion);\n    });\n\n  }\n\n  saveInterest(interest) {\n    if (this.saveLoading) {\n      return;\n    }\n\n    this.saveLoading = true;\n    if (interest.length === 0 || interest.length > 100) {\n      this.status = 'failure';\n      this.saveLoading = false;\n      return;\n    }\n\n    let idx = findIndex(this.items, { 'description': interest });\n    if (this.items[idx]) {\n      if (!this.items[idx].active) {\n        this.interestsService.save(this.items[idx].description)\n          .subscribe((res) => {\n            this.saveLoading = false;\n            this.items[idx].active = true;\n            this.items[idx].interest_resource = res.resource_uri;\n            this.userInterestCounter++;\n            this.counter.next({\n              type: 'interests',\n              count: this.userInterestCounter\n            });\n            this.status = 'success';\n            this.newInterest = '';\n            jQuery('#interestsInput').typeahead('val', '');\n          },\n          (err) => {\n            this.status = 'failure';\n            this.saveLoading = false;\n          },\n          () => { });\n      } else {\n        this.status = 'failure';\n        this.saveLoading = false;\n      }\n    } else {\n      //create new interest\n      this.interestsService.save(interest)\n        .subscribe((res) => {\n          this.saveLoading = false;\n          let newItem = res;\n          newItem.active = true;\n          newItem.description = res.interest_subject;\n          newItem.interest_resource = res.resource_uri;\n          this.items.push(newItem);\n\n          this.status = 'success';\n\n          this.userInterestCounter++;\n          this.counter.next({\n            type: 'interests',\n            count: this.userInterestCounter\n          });\n\n          this.newInterest = '';\n          jQuery('#interestsInput').typeahead('val', '');\n          this.refreshList();\n\n        },\n        (err) => {\n          this.status = 'failure';\n          this.saveLoading = false;\n        },\n        () => { });\n    }\n  }\n\n  inputChanged(event) {\n    //if key is not enter clear notification\n    if (event.which !== 13) {\n      this.status = null;\n    }\n\n    if (event.which === 13) {\n      this.saveInterest(this.newInterest);\n    }\n  }\n\n  addInterest() {\n    this.saveInterest(this.newInterest);\n  }\n\n\n  getList() {\n    if (this.next === null) return;\n    this.loading = true;\n    this.interestsService.get('', 2000)\n      .mergeMap((data) => {\n\n        this.userInterestCounter = data.meta.total_count;\n\n        this.counter.next({\n          type: 'interests',\n          count: this.userInterestCounter\n        });\n\n        if (this.userInterestCounter > 0) {\n          this.userInterest = data.objects;\n        }\n\n        return this.keywordsService.get(this.next, 100, this.newInterest);\n      })\n      .subscribe(data => this.assignList(data),\n      (err) => {\n        console.log(err);\n        this.loading = false;\n      },\n      () => {\n\n      });\n  }\n\n\n  refreshList() {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n    this.items.splice(0, this.items.length);\n    this.isListEmpty = false;\n    this.next = '';\n    this.saveLoading = false;\n    this.userInterest.splice(0, this.userInterest.length);\n    this.userInterestCounter = 0;\n    this.getList();\n  }\n\n  assignList(data) {\n\n    this.loading = false;\n\n    this.total_count = data.meta.total_count;\n    if (this.total_count === 0) {\n      this.isListEmpty = true;\n      return;\n    } else {\n      this.isListEmpty = false;\n    }\n\n    let more = data.objects;\n\n    for (var i = 0; i <= more.length - 1; i++) {\n      more[i].active = false;\n      more[i].interest_resource = null;\n\n      for (var j = this.userInterest.length - 1; j >= 0; j--) {\n        if (more[i].resource_uri === this.userInterest[j].interest) {\n          more[i].interest_resource = this.userInterest[j].resource_uri;\n          more[i].active = true;\n        }\n      }\n\n      this.items.push(more[i]);\n    }\n\n    this.next = data.meta.next;\n    this.offset = data.meta.offset;\n\n\n    //bind to scroll event to load more data on bottom scroll\n    if (this.next !== null) {\n      jQuery('#interests').bind('scroll', this.handleScrollEvent.bind(this));\n    } else {\n      jQuery('#interests').unbind('scroll');\n    }\n\n\n  }\n\n  handleScrollEvent(event) {\n    let scrollOffset = jQuery('#interests').scrollTop() + jQuery('#interests').innerHeight();\n    let threshold = jQuery('#interests')[0].scrollHeight;\n    if (this.next && scrollOffset >= threshold) {\n      if (!this.loading) {\n        this.getList();\n      }\n    }\n\n  }\n\n\n  onInterestClick(event) {\n    this.status = null;\n\n    let idx = findIndex(this.items, event);\n\n    if (this.items[idx]) {\n      if (this.items[idx].active) {\n        //deselect interest\n        let url = this.items[idx].interest_resource;\n\n        this.interestsService.delete(url)\n          .subscribe((res) => {\n            this.items[idx].active = false;\n            this.items[idx].interest_resource = null;\n            this.userInterestCounter--;\n            this.counter.next({\n              type: 'interests',\n              count: this.userInterestCounter\n            });\n          }, (err) => {\n            this.status = 'failure';\n          }, () => { });\n      } else {\n        //select interest\n        this.interestsService.save(this.items[idx].description)\n          .subscribe((res) => {\n            this.items[idx].active = true;\n            this.items[idx].interest_resource = res.resource_uri;\n            this.userInterestCounter++;\n            this.counter.next({\n              type: 'interests',\n              count: this.userInterestCounter\n            });\n          }, (err) => {\n            this.status = 'failure';\n          }, () => { });\n\n\n      }\n    }\n  }\n\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/interests/signup-interests.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title\\\">What interests you?</h2>\\n<p class=\\\"signup-step__subtitle signup-step__subtitle__warning\\\" *ngIf=\\\"showWarning\\\">Please select at least three.</p>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\" id=\\\"interestsSearch\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon \\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newInterest\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" class=\\\"search__input typeahead\\\" id=\\\"interestsInput\\\" placeholder=\\\"Enter your interests or search existing\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\" (click)=\\\"addInterest($event)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper\\\" id=\\\"interests\\\">\\n    <span (click)=\\\"onInterestClick(item)\\\" [ngClass]=\\\"{'is-current': item.active}\\\" class=\\\"search-tag\\\" *ngFor=\\\"#item of items\\\">{{item.description}}</span>\\n    <prs-loading [status]=\\\"loading\\\"></prs-loading>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/interests/signup-interests.html\n ** module id = 737\n ** module chunks = 13\n **/","export * from './signup-offers.component';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/offers/index.ts\n **/","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  OnInit,\n  OnDestroy\n} from 'angular2/core';\n\nimport {findIndex} from 'lodash';\n\nimport {OffersService} from '../../app/shared/services';\n\nimport {LoadingComponent} from '../../app/shared/components/loading';\n\n@Component({\n  selector: 'prs-signup-offers',\n  template: require('./signup-offers.html'),\n  directives: [\n    LoadingComponent\n  ]\n})\nexport class SignupOffersComponent implements OnInit, OnDestroy {\n\n  @Output() counter: EventEmitter<any> = new EventEmitter();\n\n  items: any[] = [];\n  loading: boolean = false;\n  isListEmpty: boolean = false;\n  limit: number = 12;\n  query: string = '';\n  next: string = '';\n  total_count: number = 0;\n  offset: number = 0;\n  newOffer = '';\n  status;\n  saveLoading = false;\n\n  constructor(\n    private offersService: OffersService\n  ) {\n\n  }\n\n\n  ngOnInit() {\n    this.initializeTokenInput();\n    this.getList();\n  }\n\n  ngOnDestroy() {\n    jQuery('#offersInput').typeahead('destroy');\n  }\n\n  initializeTokenInput() {\n    let keywordsEngine = new Bloodhound({\n      remote: {\n        url: '/api/v1/subject/?format=json&limit=30&description__icontains=%QUERY',\n        filter: (x: any) => {\n          return jQuery.map(x.objects, (item) => {\n            return item.description;\n          });\n        },\n        wildcard: '%QUERY'\n      },\n      datumTokenizer: Bloodhound.tokenizers.whitespace,\n      queryTokenizer: Bloodhound.tokenizers.whitespace\n    });\n\n    keywordsEngine.initialize();\n\n    jQuery('#offersInput').typeahead(\n      {\n        hint: false,\n        highlight: true,\n        minLength: 2\n      },\n      {\n        source: keywordsEngine,\n        limit: 30\n      }\n    );\n\n    jQuery('#offersInput').bind('typeahead:selected', (ev, suggestion) => {\n      this.newOffer = suggestion;\n      this.saveOffer(suggestion);\n    });\n\n  }\n\n  saveOffer(offer) {\n    if (this.saveLoading === true) {\n      return;\n    }\n    this.saveLoading = true;\n\n\n    if (offer.length === 0 || offer.length > 100) {\n      this.status = 'failure';\n      this.saveLoading = false;\n      return;\n    }\n\n    this.offersService.save(offer)\n      .subscribe((res) => {\n        let newItem = res;\n        this.items.push(newItem);\n        this.status = 'success';\n        this.total_count++;\n        this.counter.next({\n          type: 'offers',\n          count: this.total_count\n        });\n        if (this.total_count === 0) {\n          this.isListEmpty = true;\n        } else {\n          this.isListEmpty = false;\n        }\n        this.newOffer = '';\n        jQuery('#offersInput').typeahead('val', '');\n        this.saveLoading = false;\n      }, (err) => {\n        let error = JSON.parse(err._body);\n        if ('offer' in error) {\n          this.status = 'failure';\n        }\n        this.saveLoading = false;\n      }, () => {\n\n      });\n  }\n\n  inputChanged(event) {\n    //if key is not enter clear notification\n    if (event.which !== 13) {\n      this.status = null;\n    }\n\n    if (event.which === 13) {\n      this.saveOffer(this.newOffer);\n    }\n\n  }\n\n  addOffer() {\n    this.saveOffer(this.newOffer);\n  }\n\n  removeOffer(event) {\n    let idx = findIndex(this.items, event);\n    if (this.items[idx]) {\n      this.offersService.delete(event.resource_uri)\n        .subscribe((res) => {\n          this.items.splice(idx, 1);\n          this.total_count--;\n          this.counter.next({\n            type: 'offers',\n            count: this.total_count\n          });\n          if (this.total_count === 0) {\n            this.isListEmpty = true;\n          } else {\n            this.isListEmpty = false;\n          }\n        });\n    }\n\n  }\n\n\n  getList() {\n    if (this.next === null) return;\n    this.loading = true;\n    this.offersService.get(this.next, 100)\n      .subscribe(data => this.assignList(data),\n      (err) => {\n        this.loading = false;\n      },\n      () => {\n\n      });\n  }\n\n\n  refreshList() {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n    this.items.splice(0, this.items.length);\n    this.isListEmpty = false;\n    this.next = '';\n    this.getList();\n  }\n\n  assignList(data) {\n\n    this.loading = false;\n\n    this.total_count = data.meta.total_count;\n\n    this.counter.next({\n      type: 'offers',\n      count: this.total_count\n    });\n\n    if (this.total_count === 0) {\n      this.isListEmpty = true;\n      return;\n    } else {\n      this.isListEmpty = false;\n    }\n\n    if (this.items.length > 0) {\n      let more = data.objects;\n      for (var i = 0; i <= more.length - 1; i++) {\n        this.items.push(more[i]);\n      }\n\n    } else {\n      this.items = data.objects;\n    }\n\n    this.next = data.meta.next;\n    this.offset = data.meta.offset;\n\n\n    //bind to scroll event to load more data on bottom scroll\n    if (this.next !== null) {\n      jQuery('#offers').bind('scroll', this.handleScrollEvent.bind(this));\n    } else {\n      jQuery('#offers').unbind('scroll');\n    }\n  }\n\n  handleScrollEvent(event) {\n    let scrollOffset = jQuery('#offers').scrollTop() + jQuery('#offers').innerHeight();\n    let threshold = jQuery('#offers')[0].scrollHeight;\n    if (this.next && scrollOffset >= threshold) {\n      if (!this.loading) {\n        this.getList();\n      }\n    }\n\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/offers/signup-offers.component.ts\n **/","module.exports = \"<h2 class=\\\"signup-step__title\\\">I can help people...</h2>\\n<div class=\\\"search-signup-wrapper\\\">\\n  <div class=\\\"search search--signup typeahead-search\\\">\\n    <div class=\\\"search__top\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon\\\">\\n        <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-search\\\"></use>\\n      </svg>\\n      <input [(ngModel)]=\\\"newOffer\\\" (keyup)=\\\"inputChanged($event)\\\" type=\\\"text\\\" id=\\\"offersInput\\\" class=\\\"search__input typeahead\\\" placeholder=\\\"Enter a few offers here\\\">\\n      <div class=\\\"search__notification search__notification--error\\\" [ngClass]=\\\"{'is-visible': status === 'failure'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-failure\\\"></use>\\n        </svg>\\n      </div>\\n      <div class=\\\"search__notification search__notification--succes\\\" [ngClass]=\\\"{'is-visible': status === 'success'}\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon \\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-success-2\\\"></use>\\n        </svg>\\n      </div>\\n      <button class=\\\"btn\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon\\\" (click)=\\\"addOffer($event)\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-plus-big\\\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"search__tags-wrapper text-left\\\" id=\\\"offers\\\" [ngClass]=\\\"{'has-signup-empty-state': isListEmpty}\\\">\\n    <span class=\\\"search-tag-secondary\\\" *ngFor=\\\"#item of items\\\">\\n      <a (click)=\\\"removeOffer(item)\\\">\\n        <svg role=\\\"img\\\" class=\\\"icon icon--tiny\\\">\\n          <use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"/static/assets/icons/icons.svg#icon-delete\\\"></use>\\n        </svg>\\n      </a>\\n      {{item.subject}}\\n    </span>\\n    <div class=\\\"signup-empty-state\\\" [ngClass]=\\\"{'is-visible': isListEmpty}\\\">\\n      <svg role=\\\"img\\\" class=\\\"icon signup-empty-state__icon\\\">\\n        <use xlink:href=\\\"/static/assets/icons/icons.svg#no-offers\\\"></use>\\n      </svg>\\n      <h3 class=\\\"signup-empty-state__title\\\">\\\"Offers\\\" are things you can help other people achieve.</h3>\\n      <p class=\\\"signup-empty-state__par signup-empty-state__par--prom\\\">For example:</p>\\n      <p class=\\\"signup-empty-state__par\\\">\\\"Practice speaking Spanish\\\"\\n        <br>or \\\"Find a tennis partner\\\"</p>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/offers/signup-offers.html\n ** module id = 738\n ** module chunks = 13\n **/","import {\n  Component,\n  ViewChild,\n  ViewEncapsulation,\n  OnInit\n} from 'angular2/core';\nimport {\n  RouteConfig,\n  Router,\n  Location,\n  RouteParams,\n  ROUTER_DIRECTIVES\n} from 'angular2/router';\n\nimport {SignupInterestsComponent} from './interests';\nimport {SignupGoalsComponent} from './goals';\nimport {SignupOffersComponent} from './offers';\nimport {SignupConnectComponent} from './connect-social-accounts';\nimport {SignupHeaderComponent} from './header';\n\n\nimport {\n  InterestsService,\n  KeywordsService,\n  GoalsService,\n  OffersService,\n  UserAuthService,\n  OnboardingService,\n  WarningService\n} from '../app/shared/services';\n\n\n@Component({\n  template: require('./signup.html'),\n  selector: 'persice-signup',\n  encapsulation: ViewEncapsulation.None,\n  directives: [\n    SignupHeaderComponent,\n    ROUTER_DIRECTIVES\n  ],\n  providers: [\n    InterestsService,\n    GoalsService,\n    OffersService,\n    KeywordsService,\n    UserAuthService,\n    OnboardingService,\n    WarningService\n  ]\n})\n@RouteConfig([\n  {\n    path: '/',\n    redirectTo: ['SignupInterests']\n  },\n  {\n    path: '/interests',\n    component: SignupInterestsComponent,\n    name: 'SignupInterests',\n    data: { page: 1 }\n  },\n  {\n    path: '/goals',\n    component: SignupGoalsComponent,\n    name: 'SignupGoals',\n    data: { page: 2 }\n  },\n  {\n    path: '/offers',\n    component: SignupOffersComponent,\n    name: 'SignupOffers',\n    data: { page: 3 }\n  },\n  {\n    path: '/connect',\n    component: SignupConnectComponent,\n    name: 'SignupConnect',\n    data: { page: 4 }\n  }\n])\nexport class SignupComponent implements OnInit {\n\n  @ViewChild(SignupInterestsComponent) myElem1: SignupInterestsComponent;\n  @ViewChild(SignupGoalsComponent) myElem2: SignupGoalsComponent;\n  @ViewChild(SignupOffersComponent) myElem3: SignupOffersComponent;\n\n  page: number = 1;\n  cGoa: number = 0;\n  cOff: number = 0;\n  cInt: number = 0;\n  showSkip = false;\n  nextStep = 'SignupGoals';\n  nextTitle = 'Next';\n  is_complete = null;\n\n  router: Router;\n  location: Location;\n\n  notificationMain = {\n    body: '',\n    title: '',\n    active: false,\n    type: ''\n  };\n\n  constructor(\n    router: Router,\n    location: Location,\n    private goalsService: GoalsService,\n    private offersService: OffersService,\n    private interestsService: InterestsService,\n    private userAuthService: UserAuthService,\n    private onboardingService: OnboardingService,\n    private warningService: WarningService\n  ) {\n    this.router = router;\n    this.location = location;\n\n    let subs = null;\n\n    this.router.subscribe((path) => {\n      if (subs) {\n        subs.unsubscribe();\n        subs = null;\n      }\n      if (this.myElem1) {\n        subs = this.myElem1.counter.subscribe(message => {\n          this.onCounterChanged(message);\n          if (message.count >= 3) {\n            this.warningService.push(false);\n          }\n        });\n      }\n\n      if (this.myElem2) {\n        subs = this.myElem2.counter.subscribe(message => this.onCounterChanged(message));\n      }\n\n      if (this.myElem3) {\n        subs = this.myElem3.counter.subscribe(message => this.onCounterChanged(message));\n      }\n\n      this.onRouteChanged(path);\n    });\n  }\n\n  ngOnInit() {\n\n    this.userAuthService.findOneByUri('me').subscribe((data) => {\n      let res = data;\n      this.cGoa = res.goals.length;\n      this.cOff = res.offers.length;\n      this.cInt = res.interests.length;\n      this.is_complete = res.onboardingflow;\n    });\n  }\n\n  onRouteChanged(path) {\n    switch (path) {\n      case 'interests':\n        this.page = 1;\n        this.showSkip = false;\n        this.nextStep = 'SignupGoals';\n        this.nextTitle = 'Next';\n        break;\n      case 'goals':\n        this.page = 2;\n        this.showSkip = true;\n        this.nextStep = 'SignupOffers';\n        this.nextTitle = 'Next';\n        break;\n      case 'offers':\n        this.page = 3;\n        this.showSkip = true;\n        this.nextStep = 'SignupConnect';\n        this.nextTitle = 'Next';\n        break;\n      case 'connect':\n        this.page = 4;\n        this.showSkip = true;\n        this.nextStep = null;\n        this.nextTitle = 'Go!';\n        break;\n      default:\n        this.page = 1;\n        this.showSkip = false;\n        this.nextStep = 'SignupGoals';\n        this.nextTitle = 'Next';\n        break;\n    }\n  }\n\n\n  next(event) {\n    if (this.nextStep) {\n      switch (this.nextStep) {\n        case 'SignupGoals':\n          //check if user selected less than 3 interests\n          if (this.cInt < 3) {\n            this.warningService.push(true);\n            return;\n          } else {\n            this.completeOnboarding();\n            this.warningService.push(false);\n          }\n          break;\n        default:\n          break;\n      }\n\n      this.router.navigate([this.nextStep]);\n    } else {\n      window.location.href = '/crowd/';\n    }\n\n  }\n\n  skip(event) {\n    if (this.nextStep) {\n      this.router.navigate([this.nextStep]);\n    } else {\n      window.location.href = '/crowd/';\n    }\n\n  }\n\n\n  completeOnboarding() {\n    if (this.is_complete === null) {\n      this.onboardingService.complete().subscribe((data) => {\n      }, (err) => {\n      }, () => {\n\n      });\n    }\n\n  }\n\n  onCounterChanged(event) {\n    switch (event.type) {\n      case 'interests':\n        this.cInt = event.count;\n        break;\n      case 'goals':\n        this.cGoa = event.count;\n        break;\n      case 'offers':\n        this.cOff = event.count;\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/signup/signup.component.ts\n **/","module.exports = \"<div class=\\\"signup\\\">\\n  <prs-signup-header [nextTitle]=\\\"nextTitle\\\" [showSkip]=\\\"showSkip\\\" (skip)=\\\"skip($event)\\\" (next)=\\\"next($event)\\\" [page]=\\\"page\\\" [counterInterests]=\\\"cInt\\\" [counterOffers]=\\\"cOff\\\" [counterGoals]=\\\"cGoa\\\"></prs-signup-header>\\n  <div class=\\\"signup__content\\\">\\n    <ul class=\\\"signup-pager\\\">\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 1, 'signup-pager__completed': page >= 2}\\\">1</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 2,'signup-pager__completed': page >= 3}\\\">2</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 3, 'signup-pager__completed': page === 4}\\\">3</li>\\n      <li [ngClass]=\\\"{'signup-pager__curent': page === 4}\\\">4</li>\\n    </ul>\\n    <router-outlet></router-outlet>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/signup/signup.html\n ** module id = 739\n ** module chunks = 13\n **/"],"sourceRoot":""}